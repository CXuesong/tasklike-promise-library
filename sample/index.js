/*! For license information please see index.js.LICENSE.txt */
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.ts")}({"../node_modules/tslib/tslib.es6.js":function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return i})),r.d(t,"__assign",(function(){return o})),r.d(t,"__rest",(function(){return s})),r.d(t,"__decorate",(function(){return a})),r.d(t,"__param",(function(){return c})),r.d(t,"__metadata",(function(){return u})),r.d(t,"__awaiter",(function(){return l})),r.d(t,"__generator",(function(){return f})),r.d(t,"__exportStar",(function(){return d})),r.d(t,"__values",(function(){return p})),r.d(t,"__read",(function(){return m})),r.d(t,"__spread",(function(){return h})),r.d(t,"__spreadArrays",(function(){return y})),r.d(t,"__await",(function(){return v})),r.d(t,"__asyncGenerator",(function(){return b})),r.d(t,"__asyncDelegator",(function(){return _})),r.d(t,"__asyncValues",(function(){return k})),r.d(t,"__makeTemplateObject",(function(){return g})),r.d(t,"__importStar",(function(){return w})),r.d(t,"__importDefault",(function(){return j})),r.d(t,"__classPrivateFieldGet",(function(){return x})),r.d(t,"__classPrivateFieldSet",(function(){return P}));var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function f(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof v?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function g(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function j(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},"../packages/tasklike-promise-library/dist/esm/common.js":function(e,t,r){"use strict";r.r(t),r.d(t,"delay",(function(){return s})),r.d(t,"yielded",(function(){return a})),r.d(t,"fromResolved",(function(){return c})),r.d(t,"fromRejected",(function(){return u})),r.d(t,"fromCancelled",(function(){return l}));var n=r("../packages/tasklike-promise-library/dist/esm/primitives/cancellation.js"),i=r("../packages/tasklike-promise-library/dist/esm/primitives/promiseResolutionSource.js"),o=Promise.resolve();function s(e,t){if(e<0)throw new RangeError("milliseconds (arg#1) should be a non-negative number.");t&&t.throwIfCancellationRequested();var r=new i.PromiseResolutionSource,o=setTimeout((function(){r.tryResolve()}),e);return t&&t.subscribe((function(){clearTimeout(o),r.tryReject(new n.PromiseCancelledError)})),r.promise}function a(){return o}function c(e){return Promise.resolve(e)}function u(e){return Promise.reject(e)}function l(){return Promise.reject(new n.PromiseCancelledError)}},"../packages/tasklike-promise-library/dist/esm/delayedCallbacks.js":function(e,t,r){"use strict";r.r(t),r.d(t,"setTimeoutAsync",(function(){return i})),r.d(t,"requestAnimationFrameAsync",(function(){return o})),r.d(t,"requestIdleCallbackAsync",(function(){return s}));var n=r("../packages/tasklike-promise-library/dist/esm/primitives/index.js");function i(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,o=window.setTimeout((function(){r&&r.dispose(),i.tryResolve(o)}),e);return t&&(r=t.subscribe((function(){window.clearTimeout(o),i.tryCancel()}))),i.promiseLike}function o(e){e&&e.throwIfCancellationRequested();var t,r=new n.PromiseLikeResolutionSource,i=window.requestAnimationFrame((function(e){t&&t.dispose(),r.tryResolve({id:i,time:e})}));return e&&(t=e.subscribe((function(){window.cancelAnimationFrame(i),r.tryCancel()}))),r.promiseLike}function s(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,o=window.requestIdleCallback((function(e){r&&r.dispose(),i.tryResolve({id:o,deadline:e})}),e);return t&&(r=t.subscribe((function(){window.cancelIdleCallback(o),i.tryCancel()}))),i.promiseLike}},"../packages/tasklike-promise-library/dist/esm/http/browser.js":function(e,t,r){"use strict";r.r(t),r.d(t,"XhrResponse",(function(){return s})),r.d(t,"sendRequest",(function(){return a}));var n=r("../packages/tasklike-promise-library/dist/esm/primitives/index.js"),i=r("../packages/tasklike-promise-library/dist/esm/primitives/cancellation.js"),o=r("../packages/tasklike-promise-library/dist/esm/http/common.js"),s=function(){function e(e){this.xhr=e,this.statusCode=this.xhr.status,this.statusText=this.xhr.statusText,this.isSuccessfulStatusCode=this.xhr.status>=200&&this.xhr.status<=299,console.assert(e)}return e.prototype.getHeaderValue=function(e){return this.xhr.getResponseHeader(e)},e.prototype.getHeaderValues=function(e){var t=this.xhr.getResponseHeader(e);return null==t?null:t.split(",").map((function(e){return e.trimLeft()}))},Object.defineProperty(e.prototype,"body",{get:function(){return this.xhr.response},enumerable:!0,configurable:!0}),e.prototype.ensureSuccessfulStatusCode=function(){if(!this.isSuccessfulStatusCode)throw new o.HttpRequestError("The HTTP response code "+this.statusCode+" indicates failure.")},e}();function a(e,t){t&&t.throwIfCancellationRequested();var r,a=new XMLHttpRequest,c=new n.PromiseLikeResolutionSource;if(null!=e.username||null!=e.password?a.open(e.method,e.url,!0,e.username,e.password):a.open(e.method,e.url),e.timeout&&(a.timeout=e.timeout),e.headers)for(var u in e.headers)if(e.headers.hasOwnProperty(u)){var l=e.headers[u];null!=l&&(l=Array.isArray(l)?l.join(", "):String(l),a.setRequestHeader(u,l))}if(null!=e.responseType){var f=e.responseType;"buffer"===f&&(f="arraybuffer"),a.responseType=f}return null!=e.withCredentials&&(a.withCredentials=e.withCredentials),a.onload=function(){console.assert(4==a.readyState),r&&r.dispose(),c.tryResolve(new s(a))},a.onerror=function(){r&&r.dispose(),c.tryReject(new o.HttpRequestError("An error occurred while sending the HTTP request."))},a.ontimeout=function(){r&&r.dispose(),c.tryReject(new i.PromiseCancelledError("HTTP request timeout has reached."))},r=t&&t.subscribe((function(){c.tryCancel()&&a.abort()})),a.send(e.body),c.promiseLike}},"../packages/tasklike-promise-library/dist/esm/http/common.js":function(e,t,r){"use strict";r.r(t),r.d(t,"HttpRequestError",(function(){return i}));var n=r("../node_modules/tslib/tslib.es6.js"),i=function(e){function t(r,n){var i=e.call(this,null==r?"The HTTP request has failed.":r)||this;return i.inner=n,i.name="HttpRequestError",Object.setPrototypeOf(i,t.prototype),i}return Object(n.__extends)(t,e),t}(Error)},"../packages/tasklike-promise-library/dist/esm/http/index.js":function(e,t,r){"use strict";r.r(t);var n=r("../packages/tasklike-promise-library/dist/esm/http/common.js");r.d(t,"HttpRequestError",(function(){return n.HttpRequestError}));var i=r("../packages/tasklike-promise-library/dist/esm/http/browser.js");r.d(t,"XhrResponse",(function(){return i.XhrResponse})),r.d(t,"sendRequest",(function(){return i.sendRequest}))},"../packages/tasklike-promise-library/dist/esm/index.js":function(e,t,r){"use strict";r.r(t);var n=r("../packages/tasklike-promise-library/dist/esm/common.js");r.d(t,"delay",(function(){return n.delay})),r.d(t,"yielded",(function(){return n.yielded})),r.d(t,"fromResolved",(function(){return n.fromResolved})),r.d(t,"fromRejected",(function(){return n.fromRejected})),r.d(t,"fromCancelled",(function(){return n.fromCancelled}));var i=r("../packages/tasklike-promise-library/dist/esm/primitives/index.js");r.d(t,"PromiseCancelledError",(function(){return i.PromiseCancelledError})),r.d(t,"CancellationTokenSource",(function(){return i.CancellationTokenSource})),r.d(t,"combineDisposable",(function(){return i.combineDisposable})),r.d(t,"setInnerError",(function(){return i.setInnerError})),r.d(t,"AggregateError",(function(){return i.AggregateError})),r.d(t,"EventEmitter",(function(){return i.EventEmitter})),r.d(t,"PromiseResolutionSource",(function(){return i.PromiseResolutionSource})),r.d(t,"PromiseLikeResolutionSource",(function(){return i.PromiseLikeResolutionSource}));var o=r("../packages/tasklike-promise-library/dist/esm/http/index.js");r.d(t,"HttpRequestError",(function(){return o.HttpRequestError})),r.d(t,"XhrResponse",(function(){return o.XhrResponse})),r.d(t,"sendRequest",(function(){return o.sendRequest}));var s=r("../packages/tasklike-promise-library/dist/esm/delayedCallbacks.js");r.d(t,"setTimeoutAsync",(function(){return s.setTimeoutAsync})),r.d(t,"requestAnimationFrameAsync",(function(){return s.requestAnimationFrameAsync})),r.d(t,"requestIdleCallbackAsync",(function(){return s.requestIdleCallbackAsync}))},"../packages/tasklike-promise-library/dist/esm/primitives/cancellation.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PromiseCancelledError",(function(){return s})),r.d(t,"CancellationTokenSource",(function(){return u}));var n=r("../node_modules/tslib/tslib.es6.js"),i=r("../packages/tasklike-promise-library/dist/esm/primitives/eventEmitter.js"),o=r("../packages/tasklike-promise-library/dist/esm/primitives/promiseLikeResolutionSource.js"),s=function(e){function t(r){var n=e.call(this,null==r?"Promise execution has been cancelled.":r)||this;return n.name="PromiseCancelledError",Object.setPrototypeOf(n,t.prototype),n}return Object(n.__extends)(t,e),t}(Error),a=function(){function e(){}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancelled},enumerable:!0,configurable:!0}),e.prototype.__int_cancel=function(){this._cancellationEvent&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),this._cancellationPlrs&&this._cancellationPlrs.tryResolve(),this._cancelled=!0},e.prototype.throwIfCancellationRequested=function(){if(this._cancelled)throw new s},e.prototype.subscribe=function(e){this._cancellationEvent||(this._cancellationEvent=new i.EventEmitter);var t=this._cancellationEvent.addListener(e,!0);return this._cancelled&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),t},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._cancellationPlrs&&(this._cancellationPlrs=new o.PromiseLikeResolutionSource,this._cancelled&&this._cancellationPlrs.tryResolve()),this._cancellationPlrs.promiseLike},enumerable:!0,configurable:!0}),e}(),c=new a;c.__int_cancel();var u=function(){function e(e){null!=e&&this.cancelAfter(e)}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancellationToken&&this._cancellationToken.isCancellationRequested},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._cancellationToken?this._cancellationToken.__int_cancel():this._cancellationToken=c},e.prototype.cancelAfter=function(e){var t=this;if(e<0)throw new RangeError("delay (arg#1) should be a non-negative number.");0===e?this.cancel():setTimeout((function(){t.cancel()}),e)},Object.defineProperty(e.prototype,"token",{get:function(){return this._cancellationToken||(this._cancellationToken=new a),this._cancellationToken},enumerable:!0,configurable:!0}),e.race=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e,i=function(){n.cancel()},o=0,s=t;o<s.length;o++){var a=s[o];a&&a.subscribe(i)}return n},e}()},"../packages/tasklike-promise-library/dist/esm/primitives/disposable.js":function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{dispose:function(){e.forEach((function(e){return e.dispose()}))}}}r.r(t),r.d(t,"combineDisposable",(function(){return n}))},"../packages/tasklike-promise-library/dist/esm/primitives/errors.js":function(e,t,r){"use strict";r.r(t),r.d(t,"setInnerError",(function(){return s})),r.d(t,"AggregateError",(function(){return a}));var n=r("../node_modules/tslib/tslib.es6.js"),i=function(e){function t(r,n){var i=e.call(this)||this;return i.rawValue=r,i.inner=n,i.name="RawValueError",i.getBaseError=o,Object.setPrototypeOf(i,t),i}return Object(n.__extends)(t,e),t}(Error);function o(){for(var e=this;null!=e.inner;)e=e.inner;return e}function s(e,t){return e instanceof Error?(Object.defineProperty(e,"inner",{value:t,writable:!1}),Object.defineProperty(e,"getBaseError",{value:o,writable:!1}),e):new i(e,t)}var a=function(e){function t(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=e.call(this)||this;return o.name="RawValueError",Object.setPrototypeOf(o,t),o.innerErrors=n.filter((function(e){return null!=e})),o}return Object(n.__extends)(t,e),t.prototype.forEach=function(e,r){e.call(r,this);for(var n=0,i=this.innerErrors;n<i.length;n++){var o=i[n];e.call(r,o),o instanceof t&&o.forEach(e,r)}},t}(Error)},"../packages/tasklike-promise-library/dist/esm/primitives/eventEmitter.js":function(e,t,r){"use strict";r.r(t),r.d(t,"EventEmitter",(function(){return n}));var n=function(){function e(){}return e.prototype.addListener=function(e,t,r){var n=this,i={prev:this.tail,callback:e.bind(r),isAsync:t};return this.head||(console.assert(!this.tail),this.head=i),this.tail&&(this.tail.next=i),this.tail=i,{dispose:function(){i&&(i.prev?(console.assert(i.prev.next===i),i.prev.next=i.next):(console.assert(n.head===i),n.head=i.next),i.next?(console.assert(i.next.prev===i),i.next.prev=i.prev):(console.assert(n.tail===i),n.tail=i.prev),i=void 0)}}},e.prototype.raise=function(e){for(var t,r=this.head,n=[];r;)n.push([r.callback,!!r.isAsync]),r=r.next;for(var i=0,o=n;i<o.length;i++){var s=o[i],a=s[0];s[1]?(t||(t=Promise.resolve(e)),t.then(a)):a(e)}},e.prototype.clearListeners=function(){this.head=this.tail=void 0},e}()},"../packages/tasklike-promise-library/dist/esm/primitives/index.js":function(e,t,r){"use strict";r.r(t);var n=r("../packages/tasklike-promise-library/dist/esm/primitives/cancellation.js");r.d(t,"PromiseCancelledError",(function(){return n.PromiseCancelledError})),r.d(t,"CancellationTokenSource",(function(){return n.CancellationTokenSource}));var i=r("../packages/tasklike-promise-library/dist/esm/primitives/disposable.js");r.d(t,"combineDisposable",(function(){return i.combineDisposable}));var o=r("../packages/tasklike-promise-library/dist/esm/primitives/errors.js");r.d(t,"setInnerError",(function(){return o.setInnerError})),r.d(t,"AggregateError",(function(){return o.AggregateError}));var s=r("../packages/tasklike-promise-library/dist/esm/primitives/eventEmitter.js");r.d(t,"EventEmitter",(function(){return s.EventEmitter}));var a=r("../packages/tasklike-promise-library/dist/esm/primitives/promiseResolutionSource.js");r.d(t,"PromiseResolutionSource",(function(){return a.PromiseResolutionSource}));var c=r("../packages/tasklike-promise-library/dist/esm/primitives/promiseLikeResolutionSource.js");r.d(t,"PromiseLikeResolutionSource",(function(){return c.PromiseLikeResolutionSource}))},"../packages/tasklike-promise-library/dist/esm/primitives/promiseLikeResolutionSource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PromiseLikeResolutionSource",(function(){return o}));var n=r("../packages/tasklike-promise-library/dist/esm/primitives/cancellation.js"),i=r("../packages/tasklike-promise-library/dist/esm/primitives/promiseResolutionSource.js"),o=function(){function e(){}return e.prototype._ensurePromiseLikeInitialized=function(){this._promiseLike||(this._promiseLike=new s)},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._ensurePromiseLikeInitialized(),this._promiseLike},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__fulfill(e),!0)},e.prototype.tryCancel=function(){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(new n.PromiseCancelledError),!0)},e.prototype.tryReject=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(e),!0)},e}(),s=function(){function e(e,t){var r=this;this._onfulfilled=e,this._onrejected=t,this.fulfillNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryResolve(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__fulfill(e)}else if("string"==typeof r.next)return void console.error("Settled PromiseLike should not be resolved furthermore.",r.next);r.next="resolved",r.result=e},this.rejectNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryReject(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__reject(e)}else if("string"==typeof r.next)return void console.error("Settled PromisLike should not be rejected furthermore.",r.next);r.next="rejected",r.result=e}}return Object.defineProperty(e.prototype,"$__int__settled",{get:function(){return"string"==typeof this.next},enumerable:!0,configurable:!0}),e.prototype.$__int__fulfill=function(e){if("string"!=typeof this.next)try{if(this._onfulfilled){var t=this._onfulfilled(e);this.fulfillNext(t)}else this.fulfillNext(e)}catch(e){this._onrejected&&this.rejectNext(e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.$__int__reject=function(e){if("string"!=typeof this.next)try{if(this._onrejected){var t=this._onrejected(e);this.fulfillNext(t)}else this.rejectNext(e)}catch(e){this._onrejected?this.rejectNext(e):console.error("Uncaught SynchronousPromiseLike rejection: %o",e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.then=function(t,r){var n=new e(t,r);return this.next||(this.next=[]),Array.isArray(this.next)?this.next.push(n):"resolved"===this.next?n.$__int__fulfill(this.result):"rejected"===this.next?n.$__int__reject(this.result):console.error("Invalid state."),n},e.prototype.forceAsync=function(){return this.asnycPrs?this.asnycPrs.promise:"resolved"===this.next?Promise.resolve(this.result):"rejected"===this.next?Promise.reject(this.result):(console.assert(!this.next||Array.isArray(this.next)),this.asnycPrs=new i.PromiseResolutionSource,this.asnycPrs.promise)},e}()},"../packages/tasklike-promise-library/dist/esm/primitives/promiseResolutionSource.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PromiseResolutionSource",(function(){return i}));var n=r("../packages/tasklike-promise-library/dist/esm/primitives/cancellation.js"),i=function(){function e(){}return e.prototype._ensurePromiseInitialized=function(){var e=this;null==this._promise&&(this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r})))},Object.defineProperty(e.prototype,"promise",{get:function(){return this._ensurePromiseInitialized(),this._promise},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseInitialized(),!!this._resolve&&(this._resolve(e),this._resolve=this._reject=void 0,!0)},e.prototype.tryCancel=function(){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(new n.PromiseCancelledError),this._resolve=this._reject=void 0,!0)},e.prototype.tryReject=function(e){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(e),this._resolve=this._reject=void 0,!0)},e}()},"./src/index.ts":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=r("../packages/tasklike-promise-library/dist/esm/index.js"),a=o(r("../packages/tasklike-promise-library/dist/esm/index.js"));function c(e,t){return t?t.querySelector(e):document.querySelector(e)}function u(e){var t=document.createElement("div");return t.classList.add("error"),t.innerText=e&&e.stack||String(e),t}function l(e,t){var r=document.createElement("div");return r.innerText=t,e.appendChild(r),r}function f(e,t,r){return n(this,void 0,void 0,(function(){var n,o,a,l,f,d;return i(this,(function(i){switch(i.label){case 0:n=new s.CancellationTokenSource,o=function(){n.cancel()},a=c(t),(l=r?c(r):null)&&(l.addEventListener("click",o),l.disabled=!1),a.innerText="",i.label=1;case 1:return i.trys.push([1,4,5,6]),(f=e(a,l?n.token:void 0))?[4,f]:[3,3];case 2:i.sent(),i.label=3;case 3:return[3,6];case 4:return d=i.sent(),a.appendChild(u(d)),console.error(d),[3,6];case 5:return l&&(l.removeEventListener("click",o),l.disabled=!0),[7];case 6:return[2]}}))}))}function d(e){l(e,"Caller: Call myAsyncFunction."),function(){n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return l(e,"Callee: Do some work synchronously in myAsyncFunction…"),l(e,"Callee: myAsyncFunction is to yield…"),[4,s.yielded()];case 1:return t.sent(),l(e,"Callee: back from yielded state…"),l(e,"Callee: exiting."),[2]}}))}))}(),l(e,"Caller: We decide don't await for myAsyncFunction."),l(e,"Caller: exiting.")}function p(e,t){return n(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return r=l(e,"Delay 0ms (SetTimeout(0) + yielded)."),[4,s.delay(0,t)];case 1:return n.sent(),r.innerText+=" Finished.",r=l(e,"Delay 500ms."),[4,s.delay(500,t)];case 2:return n.sent(),r.innerText+=" Finished.",r=l(e,"Delay 1s."),[4,s.delay(1e3,t)];case 3:return n.sent(),r.innerText+=" Finished.",r=l(e,"Delay 2s."),[4,s.delay(2e3,t)];case 4:return n.sent(),r.innerText+=" Finished.",r=l(e,"Delay 3s."),[4,s.delay(3e3,t)];case 5:return n.sent(),r.innerText+=" Finished.",l(e,"----------"),[2]}}))}))}function m(e,t){return n(this,void 0,void 0,(function(){function r(r){return n(this,void 0,void 0,(function(){var n,o,a,c;return i(this,(function(i){switch(i.label){case 0:n=l(e,r.method+" request to "+r.url+"…"),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,s.sendRequest(r,t)];case 2:return o=i.sent(),n.innerText+=" "+o.statusCode+" "+o.statusText,l(e,"Content-Type: "+o.getHeaderValue("Content-Type")),(a=document.createElement("pre")).classList.add("http-response-body"),a.innerText=o.body,e.appendChild(a),n=l(e,"ensureSuccessfulStatusCode…"),o.ensureSuccessfulStatusCode(),n.innerText+=" Successful.",[3,5];case 3:if((c=i.sent())instanceof s.PromiseCancelledError)throw c;return e.appendChild(u(c)),[3,5];case 4:return l(e,"----------"),[7];case 5:return[2]}}))}))}return i(this,(function(e){switch(e.label){case 0:return[4,r({url:"tsconfig.json?rand="+Math.random(),method:"GET",timeout:2e3})];case 1:return e.sent(),[4,r({url:"tsconfig.json",method:"POST"})];case 2:return e.sent(),[2]}}))}))}function h(e,t){return n(this,void 0,void 0,(function(){var r,n,o,a,c,u,f;return i(this,(function(i){switch(i.label){case 0:t&&t.throwIfCancellationRequested(),l(e,"requestIdleCallbackAsync"),r=l(e,"Requesting…"),n=0,o=0,i.label=1;case 1:return!t||t.isCancellationRequested?[3,3]:[4,s.requestIdleCallbackAsync({timeout:1e3},t)];case 2:return u=i.sent(),f=u.deadline.timeRemaining(),n++,u.deadline.didTimeout&&o++,a=null==a?f:Math.min(f,a),c=null==c?f:Math.max(f,c),r.innerText="Requested: "+n+" times, timed-outs: "+o+", minIdleTime: "+a+", maxIdleTime: "+c,[3,1];case 3:return[2]}}))}))}function y(e,t){return n(this,void 0,void 0,(function(){var r,n,o,a,c,u,f,d,p,m,h,y,v,b,_,k,g;return i(this,(function(i){switch(i.label){case 0:return t&&t.throwIfCancellationRequested(),l(e,"requestAnimationFrameAsync"),r=l(e,"Requesting…"),n=l(e,"This is <DIV>."),30,(o=document.createElement("button")).innerText="ball",o.style.borderRadius="15px",o.style.position="absolute",o.style.width=o.style.height="30px",n.classList.add("canvas"),n.appendChild(o),a=performance.now(),c=a,u=0,f=0,d=200,p=200,0,m=200,h=0,[4,s.requestAnimationFrameAsync(t)];case 1:i.sent(),n.scrollIntoView(),i.label=2;case 2:return t&&t.isCancellationRequested?[3,4]:[4,s.requestAnimationFrameAsync(t)];case 3:return y=i.sent(),v=y.time-c,b=n.clientWidth,_=n.clientHeight,g=f+p*(v/1e3),(k=u+d*(v/1e3))<0||k+o.offsetWidth>b?(d=-d*(.2*Math.random()+.8),u=k<0?0:b-o.offsetWidth):(u=k,o.style.left=k+"px"),g<0||g+o.offsetHeight>_?(p=-p*(.2*Math.random()+.8),f=g<0?0:_-o.offsetHeight):(f=g,p+=m*(v/1e3),o.style.top=g+"px"),c=y.time,++h>30&&(r.innerText="Frames: "+h+", time: "+((y.time-a)/1e3).toFixed(2)+" sec., FPS: "+(1e3*h/(y.time-a)).toFixed(2)+"."),[3,2];case 4:return[2]}}))}))}c("#tpl-yielded-run").addEventListener("click",(function(){return f(d,"#tpl-yielded-panel")})),c("#tpl-delay-run").addEventListener("click",(function(){return f(p,"#tpl-delay-panel","#tpl-delay-cancel")})),c("#tpl-sendrequest-run").addEventListener("click",(function(){return f(m,"#tpl-sendrequest-panel","#tpl-sendrequest-cancel")})),c("#tpl-requesticb-run").addEventListener("click",(function(){return f(h,"#tpl-requesticb-panel","#tpl-requesticb-cancel")})),c("#tpl-requestaf-run").addEventListener("click",(function(){return f(y,"#tpl-requestaf-panel","#tpl-requestaf-cancel")})),window.TPL=a}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2VzbS9jb21tb24uanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2VzbS9kZWxheWVkQ2FsbGJhY2tzLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9lc20vaHR0cC9icm93c2VyLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9lc20vaHR0cC9jb21tb24uanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2VzbS9odHRwL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2VzbS9wcmltaXRpdmVzL2NhbmNlbGxhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvZXNtL3ByaW1pdGl2ZXMvZGlzcG9zYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvZXNtL3ByaW1pdGl2ZXMvZXJyb3JzLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9lc20vcHJpbWl0aXZlcy9ldmVudEVtaXR0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2VzbS9wcmltaXRpdmVzL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9lc20vcHJpbWl0aXZlcy9wcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2VzbS9wcmltaXRpdmVzL3Byb21pc2VSZXNvbHV0aW9uU291cmNlLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImV4dGVuZFN0YXRpY3MiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fZXh0ZW5kcyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsIl9fcmVzdCIsImUiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJfX3BhcmFtIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsIl9fbWV0YWRhdGEiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJtZXRhZGF0YSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJyZWplY3RlZCIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiX19nZW5lcmF0b3IiLCJib2R5IiwiZiIsInkiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJ2ZXJiIiwiaXRlcmF0b3IiLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJwb3AiLCJwdXNoIiwiX19leHBvcnRTdGFyIiwiX192YWx1ZXMiLCJfX3JlYWQiLCJhciIsImVycm9yIiwiX19zcHJlYWQiLCJjb25jYXQiLCJfX3NwcmVhZEFycmF5cyIsImlsIiwiayIsImEiLCJqIiwiamwiLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsImFzeW5jSXRlcmF0b3IiLCJxIiwicmVzdW1lIiwiZnVsZmlsbCIsInNldHRsZSIsInNoaWZ0IiwiX19hc3luY0RlbGVnYXRvciIsIl9fYXN5bmNWYWx1ZXMiLCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsImNvb2tlZCIsInJhdyIsIl9faW1wb3J0U3RhciIsIm1vZCIsImRlZmF1bHQiLCJfX2ltcG9ydERlZmF1bHQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJwcml2YXRlTWFwIiwiaGFzIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInNldCIsIl95aWVsZGVkUHJvbWlzZSIsImRlbGF5IiwibWlsbGlzZWNvbmRzIiwiY2FuY2VsbGF0aW9uVG9rZW4iLCJSYW5nZUVycm9yIiwidGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCIsInBycyIsImlkIiwic2V0VGltZW91dCIsInRyeVJlc29sdmUiLCJzdWJzY3JpYmUiLCJjbGVhclRpbWVvdXQiLCJ0cnlSZWplY3QiLCJwcm9taXNlIiwieWllbGRlZCIsImZyb21SZXNvbHZlZCIsImZyb21SZWplY3RlZCIsInJlYXNvbiIsImZyb21DYW5jZWxsZWQiLCJzZXRUaW1lb3V0QXN5bmMiLCJzdWJzY3JpcHRpb24iLCJwbHJzIiwid2luZG93IiwiZGlzcG9zZSIsInRyeUNhbmNlbCIsInByb21pc2VMaWtlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMiLCJvcHRpb25zIiwicmVxdWVzdElkbGVDYWxsYmFjayIsImRlYWRsaW5lIiwiY2FuY2VsSWRsZUNhbGxiYWNrIiwiWGhyUmVzcG9uc2UiLCJ4aHIiLCJzdGF0dXNDb2RlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImlzU3VjY2Vzc2Z1bFN0YXR1c0NvZGUiLCJjb25zb2xlIiwiYXNzZXJ0IiwiZ2V0SGVhZGVyVmFsdWUiLCJoZWFkZXJOYW1lIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJnZXRIZWFkZXJWYWx1ZXMiLCJzcGxpdCIsIm1hcCIsInRyaW1MZWZ0IiwicmVzcG9uc2UiLCJjb25maWd1cmFibGUiLCJlbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZSIsInNlbmRSZXF1ZXN0IiwicmVxdWVzdCIsImNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbiIsIlhNTEh0dHBSZXF1ZXN0IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm9wZW4iLCJtZXRob2QiLCJ1cmwiLCJ0aW1lb3V0IiwiaGVhZGVycyIsIm5hbWVfMSIsImlzQXJyYXkiLCJqb2luIiwiU3RyaW5nIiwic2V0UmVxdWVzdEhlYWRlciIsInJlc3BvbnNlVHlwZSIsIndpdGhDcmVkZW50aWFscyIsIm9ubG9hZCIsInJlYWR5U3RhdGUiLCJvbmVycm9yIiwib250aW1lb3V0IiwiYWJvcnQiLCJzZW5kIiwiSHR0cFJlcXVlc3RFcnJvciIsIl9zdXBlciIsIm1lc3NhZ2UiLCJpbm5lciIsIl90aGlzIiwiRXJyb3IiLCJQcm9taXNlQ2FuY2VsbGVkRXJyb3IiLCJDYW5jZWxsYXRpb25Ub2tlbiIsIl9jYW5jZWxsZWQiLCJfX2ludF9jYW5jZWwiLCJfY2FuY2VsbGF0aW9uRXZlbnQiLCJyYWlzZSIsImNsZWFyTGlzdGVuZXJzIiwiX2NhbmNlbGxhdGlvblBscnMiLCJjYWxsYmFjayIsImFkZExpc3RlbmVyIiwiY2FuY2VsbGVkVG9rZW4iLCJDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSIsImNhbmNlbEFmdGVyRGVsYXkiLCJjYW5jZWxBZnRlciIsIl9jYW5jZWxsYXRpb25Ub2tlbiIsImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwiY2FuY2VsIiwicmFjZSIsImNhbmNlbGxhdGlvblRva2VucyIsIl9pIiwiY3RzIiwiY2FuY2VsbGF0aW9uQ2FsbGJhY2siLCJfYSIsImNhbmNlbGxhdGlvblRva2Vuc18xIiwidG9rZW4iLCJjb21iaW5lRGlzcG9zYWJsZSIsImRpc3Bvc2FibGVzIiwiZm9yRWFjaCIsIlJhd1ZhbHVlRXJyb3IiLCJyYXdWYWx1ZSIsImdldEJhc2VFcnJvciIsImN1cnJlbnQiLCJzZXRJbm5lckVycm9yIiwid3JpdGFibGUiLCJBZ2dyZWdhdGVFcnJvciIsImVycm9ycyIsImlubmVyRXJyb3JzIiwiZmlsdGVyIiwiRXZlbnRFbWl0dGVyIiwibGlzdGVuZXIiLCJpc0FzeW5jIiwiaXRlbSIsInByZXYiLCJ0YWlsIiwiaGVhZCIsInVuZGVmaW5lZCIsImFyZyIsInJlc29sdmVkUHJvbWlzZSIsImhhbmRsZXJzIiwiaGFuZGxlcnNfMSIsImhhbmRsZXIiLCJQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UiLCJfZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCIsIl9wcm9taXNlTGlrZSIsIlN5bmNocm9ub3VzUHJvbWlzZUxpa2UiLCIkX19pbnRfX3NldHRsZWQiLCIkX19pbnRfX2Z1bGZpbGwiLCIkX19pbnRfX3JlamVjdCIsIl9vbmZ1bGZpbGxlZCIsIl9vbnJlamVjdGVkIiwiZnVsZmlsbE5leHQiLCJuZXh0UmVzdWx0IiwicmVqZWN0TmV4dCIsImFzbnljUHJzIiwibmV4dFJlYXNvbiIsInByZXZSZXN1bHQiLCJvbmZ1bGZpbGxlZCIsIm9ucmVqZWN0ZWQiLCJmb3JjZUFzeW5jIiwiUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UiLCJfZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkIiwiX3Byb21pc2UiLCJyZXMiLCJyZWoiLCJfcmVzb2x2ZSIsIl9yZWplY3QiLCIkIiwic2VsZWN0b3IiLCJzY29wZSIsInF1ZXJ5U2VsZWN0b3IiLCJkb2N1bWVudCIsImJ1aWxkRXJyb3JQYW5lbCIsImVyckJveCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lclRleHQiLCJzdGFjayIsImFwcGVuZExpbmUiLCJjb250YWluZXIiLCJjb250ZW50IiwibGluZSIsImFwcGVuZENoaWxkIiwicnVuRGVtbyIsImRlbW9GdW5jIiwicGFuZWxTZWxlY3RvciIsImNhbmNlbGxhdGlvbkJ1dHRvblNlbGVjdG9yIiwib25DYW5jZWwiLCJwYW5lbCIsImNhbmNlbEJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNhYmxlZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZW1vWWllbGQiLCJteUFzeW5jRnVuY3Rpb24iLCJkZW1vRGVsYXkiLCJjdCIsImxhc3RMaW5lIiwiZGVtb0h0dHAiLCJzZW5kQW5kUmVwb3J0IiwiYm9keUNvbnRhaW5lciIsIk1hdGgiLCJyYW5kb20iLCJkZW1vUmVxdWVzdElkbGVDYWxsYmFja0FzeW5jIiwiY291bnRlciIsInRpbWVvdXRDb3VudGVyIiwiY29udGV4dCIsInRpbWVSZW1haW5pbmciLCJkaWRUaW1lb3V0IiwibWluSWRsZVRpbWUiLCJtaW4iLCJtYXhJZGxlVGltZSIsIm1heCIsImRlbW9SZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyIsImNhbnZhcyIsImJhbGwiLCJzdHlsZSIsImJvcmRlclJhZGl1cyIsInBvc2l0aW9uIiwid2lkdGgiLCJoZWlnaHQiLCJiYWxsU2l6ZSIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwicHJldlRpbWUiLCJweCIsInB5IiwidngiLCJ2eSIsImF5IiwiZnJhbWVDb3VudGVyIiwic2Nyb2xsSW50b1ZpZXciLCJmcmFtZUR1cmF0aW9uIiwiY2FudmFzV2lkdGgiLCJjbGllbnRXaWR0aCIsImNhbnZhc0hlaWdodCIsImNsaWVudEhlaWdodCIsIngiLCJvZmZzZXRXaWR0aCIsImxlZnQiLCJvZmZzZXRIZWlnaHQiLCJ0b3AiLCJ0b0ZpeGVkIiwiVFBMIiwidHBsQW1iaWVudCJdLCJtYXBwaW5ncyI6IjthQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxH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Qix3QkFDNUY3QixFQUFFLHdCQUF5QndCLGlCQUFpQixTQUFTLFdBQU0sT0FBQVAsRUFBUWUsRUFBVSx5QkFBMEIsOEJBQ3ZHaEMsRUFBRSx1QkFBd0J3QixpQkFBaUIsU0FBUyxXQUFNLE9BQUFQLEVBQVFvQixFQUE4Qix3QkFBeUIsNkJBQ3pIckMsRUFBRSxzQkFBdUJ3QixpQkFBaUIsU0FBUyxXQUFNLE9BQUFQLEVBQVE4QixFQUFnQyx1QkFBd0IsNEJBRXhIeEwsT0FBaUR1TixJQUFNQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2luZGV4LnRzXCIpO1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiLyoqXHJcbiAqIEBtb2R1bGVcclxuICogQ29udGFpbnMgY29tbW9uIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBgUHJvbWlzZWAuXHJcbiAqL1xyXG4vKiogKi9cclxuaW1wb3J0IHsgUHJvbWlzZUNhbmNlbGxlZEVycm9yIH0gZnJvbSBcIi4vcHJpbWl0aXZlcy9jYW5jZWxsYXRpb25cIjtcclxuaW1wb3J0IHsgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UgfSBmcm9tIFwiLi9wcmltaXRpdmVzL3Byb21pc2VSZXNvbHV0aW9uU291cmNlXCI7XHJcbnZhciBfeWllbGRlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuLyoqXHJcbiAqIEdldHMgYSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyBhZnRlciB0aGUgc3BlY2lmaWVkIHRpbWUgb2YgZGVsYXkuXHJcbiAqIEBwYXJhbSBtaWxsaXNlY29uZHMgbm9uLW5lZ2F0aXZlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHRoZSByZXR1cm5lZCBgUHJvbWlzZWAgcmVzb2x2ZXMuXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSByZXR1cm5lZCBgUHJvbWlzZWAuXHJcbiAqIEBzZWUge0BsaW5rIHlpZWxkZWR9XHJcbiAqIEB0b2RvIG1ha2UgdGhpcyBmdW5jdGlvbiBhbHNvIHdvcmtzIGluIG5vZGVqcy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWxheShtaWxsaXNlY29uZHMsIGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBpZiAobWlsbGlzZWNvbmRzIDwgMCkge1xyXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwibWlsbGlzZWNvbmRzIChhcmcjMSkgc2hvdWxkIGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci5cIik7XHJcbiAgICB9XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgcHJzID0gbmV3IFByb21pc2VSZXNvbHV0aW9uU291cmNlKCk7XHJcbiAgICAvLyBUT0RPIG1ha2Ugc2V0VGltZW91dCBpbmplY3RhYmxlLlxyXG4gICAgdmFyIGlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHBycy50cnlSZXNvbHZlKCk7IH0sIG1pbGxpc2Vjb25kcyk7XHJcbiAgICBpZiAoY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICBjYW5jZWxsYXRpb25Ub2tlbi5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xyXG4gICAgICAgICAgICBwcnMudHJ5UmVqZWN0KG5ldyBQcm9taXNlQ2FuY2VsbGVkRXJyb3IoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJzLnByb21pc2U7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBgUHJvbWlzZUxpa2VgIGluc3RhbmNlIHRoYXQsIHdoZW4gdXNlZCB3aXRoIGBhd2FpdGAgZXhwcmVzc2lvbixcclxuICogYXN5bmNocm9ub3VzbHkgeWllbGRzIGJhY2sgdG8gdGhlIGNvZGUgYmVsb3cuIFRoZSBpbnN0YW5jZSByZXR1cm5lZCBiZWhhdmVzXHJcbiAqIGxpa2UgdGhlIHJldHVybmVkIHZhbHVlIG9mIGBQcm9taXNlLnJlc29sdmUoKWAuXHJcbiAqXHJcbiAqIE5vdGU6IFRoZSBtYWpvciBkaWZmZXJlbmNlIGJldHdlZW4gYHlpZWxkZWQoKWAgYW5kIGBkZWxheSgwKWAsIGlzIHRoYXQgYGRlbGF5YCB3aWxsXHJcbiAqIHJlc29sdmUgdGhlIHJldHVybmVkIGBQcm9taXNlYCBpbiBhIGBzZXRUaW1lb3V0YCBjYWxsYmFjaywgZXZlbiBpZiB0aGUgZGVsYXkgdGltZSBpcyBgMGAuXHJcbiAqIFRoaXMgd2lsbCBjYXVzZSBgUHJvbWlzZWAgcmV0dXJuZWQgYnkgYGRlbGF5YCBiZSAqcmVzb2x2ZWQqIGluIG1hcmNvVGFzayBxdWV1ZSBvbiBzb21lIGV4ZWN1dGlvbiBlbmdpbmUuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGRlbGF5fVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHlpZWxkZWQoKSB7XHJcbiAgICByZXR1cm4gX3lpZWxkZWRQcm9taXNlO1xyXG59XHJcbi8qKlxyXG4gKiBHZXRzIGEgcmVzb2x2ZWQgYFByb21pc2VgLlxyXG4gKiBUaGlzIGZ1bmN0aW9uIGJlaGF2ZXMgdGhlIHNhbWUgYXMgYFByb21pc2UucmVzb2x2ZWAuXHJcbiAqIEBwYXJhbSByZXN1bHQgdGhlIHJlc3VsdCBvZiB0aGUgcmVzb2x2ZWQgYFByb21pc2VgLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21SZXNvbHZlZChyZXN1bHQpIHtcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcclxufVxyXG4vKipcclxuICogR2V0cyBhIHJlamVjdGVkIGBQcm9taXNlYC5cclxuICogVGhpcyBmdW5jdGlvbiBiZWhhdmVzIHRoZSBzYW1lIGFzIGBQcm9taXNlLnJlamVjdGAuXHJcbiAqIEBwYXJhbSByZWFzb24gdGhlIHJlamVjdGlvbiByZWFzb24sIG9yIHRoZSBgRXJyb3JgIGNhdXNpbmcgdGhlIHJlamVjdGlvbi5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUmVqZWN0ZWQocmVhc29uKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcclxufVxyXG4vKipcclxuICogR2V0cyBhIGNhbmNlbGxlZCBgUHJvbWlzZWAuXHJcbiAqXHJcbiAqIEEgY2FuY2VsbGVkIGBQcm9taXNlYCBpcyBhIGBQcm9taXNlYCByZWplY3RlZCB3aXRoIHtAbGluayBQcm9taXNlQ2FuY2VsbGVkRXJyb3J9LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21DYW5jZWxsZWQoKSB7XHJcbiAgICAvLyBXZSB3YW50IHRvIGNhcHR1cmUgdGhlIHN0YWNrIHRyYWNlLlxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBQcm9taXNlQ2FuY2VsbGVkRXJyb3IoKSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCIsIi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIENvbnRhaW5zIGFkYXB0ZXIgZnVuY3Rpb25zIHRoYXQgYWxsb3dzIHlvdSB0byBzd2l0Y2ggaW50byBhbm90aGVyIGNvbnRleHQgd2hlbiB5b3Ugc3Vic2NyaWJlIHRoZSByZXR1cm5lZCBgUHJvbWlzZUxpa2Vgcy5cclxuICogRm9yIGV4YW1wbGUsIGluIGFzeW5jIGZ1bmN0aW9ucywgaWYgeW91IHdhbnQgdG8gZXhlY3V0ZSBwYXJ0IG9mIHlvdXIgbG9naWMgaW5zaWRlIGFuXHJcbiAqIFthbmltYXRpb24gZnJhbWVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS93aW5kb3cvcmVxdWVzdEFuaW1hdGlvbkZyYW1lKSxcclxuICogeW91IG1heSBub3cgdXNlIGEgc2ltcGxlIGxvb3AgaW5zaWRlIHRoZSBhc3luY2hyb25vdXMgZnVuY3Rpb24uXHJcbiAqIGBgYHRzXHJcbiAqIGltcG9ydCB7IElDYW5jZWxsYXRpb25Ub2tlbiwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMgfSBmcm9tIFwidGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5XCI7XHJcbiAqXHJcbiAqIGFzeW5jIGZ1bmN0aW9uIHBsYXlBbmltYXRpb24oY2FuY2VsbGF0aW9uVG9rZW4/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICogICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICogICAgIGxldCBwcmV2VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gKiAgICAgbGV0IGN1cnJlbnRXaWR0aCA9IDA7XHJcbiAqICAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYucGFuZWxcIik7XHJcbiAqICAgICB3aGlsZSAoIWNhbmNlbGxhdGlvblRva2VuIHx8ICFjYW5jZWxsYXRpb25Ub2tlbi5pc0NhbmNlbGxhdGlvblJlcXVlc3RlZCkge1xyXG4gKiAgICAgICAgIGNvbnN0IGFuaW1hdGlvbkZyYW1lID0gYXdhaXQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMoY2FuY2VsbGF0aW9uVG9rZW4pO1xyXG4gKiAgICAgICAgIC8vIEZyb20gbm93IG9uLCB3ZSBhcmUgaW5zaWRlIFJBRiBjYWxsYmFjay5cclxuICogICAgICAgICAvLyBgYW5pbWF0aW9uRnJhbWVgIGNvbnRhaW5zIHRoZSBpbmZvcm1hdGlvbiBwYXNzZWQgZnJvbSBSQUYgY2FsbGJhY2ssXHJcbiAqICAgICAgICAgLy8gYmFzaWNhbGx5LCB0aGUgc3RhcnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uIGZyYW1lLlxyXG4gKiAgICAgICAgIC8vIE1ha2Ugc29tZSBhbmltYXRpb24gaGVyZS5cclxuICogICAgICAgICBjb25zdCBmcmFtZUR1cmF0aW9uID0gYW5pbWF0aW9uRnJhbWUudGltZSAtIHByZXZUaW1lO1xyXG4gKiAgICAgICAgIC8vIExldCB0aGUgd2lkdGggb2YgLnBhbmVsIGluY3JlYXNlIGJ5IDEwIHBpeGVsL3NlYy5cclxuICogICAgICAgICBjdXJyZW50V2lkdGggKz0gZnJhbWVEdXJhdGlvbiAqIDEwICogZnJhbWVEdXJhdGlvbiAvIDEwMDA7XHJcbiAqICAgICAgICAgcGFuZWwuc3R5bGVzLndpdGggPSBNYXRoLnJvdW5kKGN1cnJlbnRXaWR0aCkgKyBcInB4XCI7XHJcbiAqICAgICAgICAgcHJldlRpbWUgPSBhbmltYXRpb25GcmFtZS50aW1lO1xyXG4gKiAgICAgICAgIC8vIEVuZCBvZiBSQUYgY2FsbGJhY2suXHJcbiAqICAgICAgICAgLy8gKE1vcmUgcHJlY2lzZWx5LCB0aGUgY2FsbGJhY2sgc3RvcCBhdCB0aGUgbmV4dCBgYXdhaXQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmNgIGV4cHJlc3Npb24uKVxyXG4gKiAgICAgICAgIC8vIFRoZSBuZXh0IGBhd2FpdCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luY2AgZXhwcmVzc2lvbiB3aWxsIGxldCB1cyBlbnRlciBhbm90aGVyIFJBRiBjYWxsYmFjay5cclxuICogICAgICAgICAvLyBUbyBleGl0IHRoZSBjdXJyZW50IFJBRiBjYWxsYmFjayBhbmQgZW50ZXIgYW5vdGhlciBhcmJpdHJhcnkgYXN5bmNocm9ub3VzIGNhbGxiYWNrIGluIHRoZSBzYW1lIGFzeW5jIGZ1bmN0aW9uLFxyXG4gKiAgICAgICAgIC8vIFVzZSBgeWllbGRlZCgpYCBvciBgZGVsYXkoMClgIGZyb20gYFwiY29tbW9uXCJgIG1vZHVsZS5cclxuICogICAgIH1cclxuICogfVxyXG4gKiBgYGBcclxuICovXHJcbi8qKiAqL1xyXG5pbXBvcnQgeyBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UgfSBmcm9tIFwiLi9wcmltaXRpdmVzXCI7XHJcbi8qKlxyXG4gKiBHZXRzIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgd2luZG93LnNldFRpbWVvdXRgIGNhbGxiYWNrLlxyXG4gKiBAcGFyYW0gbWlsbGlzZWNvbmRzIHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYmVmb3JlIHRoZSBgUHJvbWlzZUxpa2VgIHJlc29sdmVzLlxyXG4gKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW4gYSB0b2tlbiB1c2VkIHRvIGNhbmNlbCB0aGUgdGltZW91dCB3aXRoIGB3aW5kb3cuY2xlYXJUaW1lb3V0YC5cclxuICogQHJldHVybnMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cuc2V0VGltZW91dGAgY2FsbGJhY2suXHJcbiAqIFJlc29sdmVkIHZhbHVlIGlzIHRoZSB0aW1lb3V0IElEIHJldHVybmVkIGZyb20gYHdpbmRvdy5zZXRUaW1lb3V0YC5cclxuICogQHJlbWFya3MgQ29tcGFyZWQgd2l0aCB7QGxpbmsgZGVsYXl9LCB0aGlzIGZ1bmN0aW9uIGlzIG1vcmUgbG93LWxldmVsIGFuZCB5b3Ugc2hvdWxkIHByZWZlciB0b1xyXG4gKiB1c2Uge0BsaW5rIGRlbGF5fSB3aGVuIHBvc3NpYmxlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFRpbWVvdXRBc3luYyhtaWxsaXNlY29uZHMsIGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgcGxycyA9IG5ldyBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBzdWJzY3JpcHRpb247XHJcbiAgICB2YXIgaWQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZXNvbHZlKGlkKTtcclxuICAgIH0sIG1pbGxpc2Vjb25kcyk7XHJcbiAgICBpZiAoY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gPSBjYW5jZWxsYXRpb25Ub2tlbi5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgICAgICAgcGxycy50cnlDYW5jZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBwbHJzLnByb21pc2VMaWtlO1xyXG59XHJcbi8qKlxyXG4gKiBHZXRzIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZWAgY2FsbGJhY2suXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSB0aW1lb3V0IHdpdGggYHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZWAuXHJcbiAqIEByZXR1cm5zIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZWAgY2FsbGJhY2suXHJcbiAqIFJlc29sdmVkIHZhbHVlIGNvbnRhaW5zIFJBRiBjb250ZXh0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgcGxycyA9IG5ldyBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBzdWJzY3JpcHRpb247XHJcbiAgICB2YXIgaWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZXNvbHZlKHsgaWQ6IGlkLCB0aW1lOiB0aW1lIH0pO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gPSBjYW5jZWxsYXRpb25Ub2tlbi5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xyXG4gICAgICAgICAgICBwbHJzLnRyeUNhbmNlbCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBscnMucHJvbWlzZUxpa2U7XHJcbn1cclxuLyoqXHJcbiAqIEdldHMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFja2AgY2FsbGJhY2suXHJcbiAqIEl0IGJhc2ljYWxseSBleGVjdXRlcyB0aGUgY2FsbGJhY2sgd2hlbiB0aGUgSmF2YVNjcmlwdCBldmVudCBsb29wIGlzIGlkbGUsIG9yIHRoZSBzcGVjaWZpZWQgdGltZW91dCBoYXMgcmVhY2hlZC5cclxuICogQHBhcmFtIG9wdGlvbnMgb3B0aW9ucyBwYXNzZWQgaW50byBgcmVxdWVzdElkbGVDYWxsYmFja2AgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSB0aW1lb3V0IHdpdGggYHdpbmRvdy5jYW5jZWxJZGxlQ2FsbGJhY2tgLlxyXG4gKiBAcmV0dXJucyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrYCBjYWxsYmFjay5cclxuICogUmVzb2x2ZWQgdmFsdWUgY29udGFpbnMgcmVxdWVzdElkbGVDYWxsYmFjayBjb250ZXh0LlxyXG4gKiBAZXhwZXJpbWVudGFsIFVuZGVybHlpbmcgYHJlcXVlc3RJZGxlQ2FsbGJhY2tgIGZ1bmN0aW9uIGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlLlxyXG4gKiBTZWUgW01ETiBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L3JlcXVlc3RJZGxlQ2FsbGJhY2spIGZvciBtb3JlIGluZm9ybWF0aW9uXHJcbiAqIG9uIGl0IGNvbXBhdGliaWxpdHkuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdElkbGVDYWxsYmFja0FzeW5jKG9wdGlvbnMsIGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgcGxycyA9IG5ldyBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBzdWJzY3JpcHRpb247XHJcbiAgICB2YXIgaWQgPSB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayhmdW5jdGlvbiAoZGVhZGxpbmUpIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gJiYgc3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlc29sdmUoeyBpZDogaWQsIGRlYWRsaW5lOiBkZWFkbGluZSB9KTtcclxuICAgIH0sIG9wdGlvbnMpO1xyXG4gICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayhpZCk7XHJcbiAgICAgICAgICAgIHBscnMudHJ5Q2FuY2VsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGxycy5wcm9taXNlTGlrZTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxheWVkQ2FsbGJhY2tzLmpzLm1hcCIsIi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbi8qKiAqL1xyXG5pbXBvcnQgeyBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UgfSBmcm9tIFwiLi4vcHJpbWl0aXZlc1wiO1xyXG5pbXBvcnQgeyBQcm9taXNlQ2FuY2VsbGVkRXJyb3IgfSBmcm9tIFwiLi4vcHJpbWl0aXZlcy9jYW5jZWxsYXRpb25cIjtcclxuaW1wb3J0IHsgSHR0cFJlcXVlc3RFcnJvciB9IGZyb20gXCIuL2NvbW1vblwiO1xyXG52YXIgWGhyUmVzcG9uc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBYaHJSZXNwb25zZSh4aHIpIHtcclxuICAgICAgICB0aGlzLnhociA9IHhocjtcclxuICAgICAgICB0aGlzLnN0YXR1c0NvZGUgPSB0aGlzLnhoci5zdGF0dXM7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy54aHIuc3RhdHVzVGV4dDtcclxuICAgICAgICB0aGlzLmlzU3VjY2Vzc2Z1bFN0YXR1c0NvZGUgPSB0aGlzLnhoci5zdGF0dXMgPj0gMjAwICYmIHRoaXMueGhyLnN0YXR1cyA8PSAyOTk7XHJcbiAgICAgICAgY29uc29sZS5hc3NlcnQoeGhyKTtcclxuICAgIH1cclxuICAgIFhoclJlc3BvbnNlLnByb3RvdHlwZS5nZXRIZWFkZXJWYWx1ZSA9IGZ1bmN0aW9uIChoZWFkZXJOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKGhlYWRlck5hbWUpO1xyXG4gICAgfTtcclxuICAgIFhoclJlc3BvbnNlLnByb3RvdHlwZS5nZXRIZWFkZXJWYWx1ZXMgPSBmdW5jdGlvbiAoaGVhZGVyTmFtZSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKGhlYWRlck5hbWUpO1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWUuc3BsaXQoXCIsXCIpLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gdi50cmltTGVmdCgpOyB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYaHJSZXNwb25zZS5wcm90b3R5cGUsIFwiYm9keVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhoci5yZXNwb25zZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIFhoclJlc3BvbnNlLnByb3RvdHlwZS5lbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNTdWNjZXNzZnVsU3RhdHVzQ29kZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSHR0cFJlcXVlc3RFcnJvcihcIlRoZSBIVFRQIHJlc3BvbnNlIGNvZGUgXCIgKyB0aGlzLnN0YXR1c0NvZGUgKyBcIiBpbmRpY2F0ZXMgZmFpbHVyZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBYaHJSZXNwb25zZTtcclxufSgpKTtcclxuZXhwb3J0IHsgWGhyUmVzcG9uc2UgfTtcclxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRSZXF1ZXN0KHJlcXVlc3QsIGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB2YXIgcGxycyA9IG5ldyBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb247XHJcbiAgICBpZiAocmVxdWVzdC51c2VybmFtZSAhPSBudWxsIHx8IHJlcXVlc3QucGFzc3dvcmQgIT0gbnVsbCkge1xyXG4gICAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSwgcmVxdWVzdC51c2VybmFtZSwgcmVxdWVzdC5wYXNzd29yZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwpO1xyXG4gICAgfVxyXG4gICAgLy8gSW4gSUUgdGhlIHRpbWVvdXQgcHJvcGVydHkgbWF5IG9ubHkgYmUgc2V0IGFmdGVyIGNhbGxpbmcgb3BlbiBhbmQgYmVmb3JlIGNhbGxpbmcgc2VuZC5cclxuICAgIGlmIChyZXF1ZXN0LnRpbWVvdXQpIHtcclxuICAgICAgICB4aHIudGltZW91dCA9IHJlcXVlc3QudGltZW91dDtcclxuICAgIH1cclxuICAgIGlmIChyZXF1ZXN0LmhlYWRlcnMpIHtcclxuICAgICAgICBmb3IgKHZhciBuYW1lXzEgaW4gcmVxdWVzdC5oZWFkZXJzKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LmhlYWRlcnMuaGFzT3duUHJvcGVydHkobmFtZV8xKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHYgPSByZXF1ZXN0LmhlYWRlcnNbbmFtZV8xXTtcclxuICAgICAgICAgICAgICAgIGlmICh2ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdiA9IHYuam9pbihcIiwgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgdiA9IFN0cmluZyh2KTtcclxuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lXzEsIHYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlcXVlc3QucmVzcG9uc2VUeXBlICE9IG51bGwpIHtcclxuICAgICAgICB2YXIgcmVzcG9uc2VUeXBlID0gcmVxdWVzdC5yZXNwb25zZVR5cGU7XHJcbiAgICAgICAgLy8gXCJidWZmZXJcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IGJyb3dzZXJzLiBGb3Igbm93IHdlIHNpbXBseSB1c2UgdGhlIGNvbXBhdGlibGUgb25lLlxyXG4gICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09IFwiYnVmZmVyXCIpXHJcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcclxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzICE9IG51bGwpIHtcclxuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gcmVxdWVzdC53aXRoQ3JlZGVudGlhbHM7XHJcbiAgICB9XHJcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHhoci5yZWFkeVN0YXRlID09IDQpOyAvLyBET05FXHJcbiAgICAgICAgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uICYmIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZXNvbHZlKG5ldyBYaHJSZXNwb25zZSh4aHIpKTtcclxuICAgIH07XHJcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24gJiYgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlamVjdChuZXcgSHR0cFJlcXVlc3RFcnJvcihcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHNlbmRpbmcgdGhlIEhUVFAgcmVxdWVzdC5cIikpO1xyXG4gICAgfTtcclxuICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uICYmIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZWplY3QobmV3IFByb21pc2VDYW5jZWxsZWRFcnJvcihcIkhUVFAgcmVxdWVzdCB0aW1lb3V0IGhhcyByZWFjaGVkLlwiKSk7XHJcbiAgICB9O1xyXG4gICAgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAocGxycy50cnlDYW5jZWwoKSkge1xyXG4gICAgICAgICAgICB4aHIuYWJvcnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHhoci5zZW5kKHJlcXVlc3QuYm9keSk7XHJcbiAgICByZXR1cm4gcGxycy5wcm9taXNlTGlrZTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyLmpzLm1hcCIsIi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xyXG4vLyBUUyBkb2VzIG5vdCBoYXZlIGJyb3dzZXIgc2hpbSBzdXBwb3J0IGZvciBub3cuXHJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNzc1M1xyXG4vKipcclxuICogQW4gZXJyb3IgcmFpc2VzIHdoZW4gYW4gSFRUUCByZXF1ZXN0IGZhaWxzIGR1ZSB0byBuZXR3b3JrIHRyYW5zcG9ydGF0aW9uXHJcbiAqIG9yIHNlcnZlciByZXNwb25zZS5cclxuICovXHJcbnZhciBIdHRwUmVxdWVzdEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEh0dHBSZXF1ZXN0RXJyb3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBIdHRwUmVxdWVzdEVycm9yKG1lc3NhZ2UsIGlubmVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSA9PSBudWxsID8gXCJUaGUgSFRUUCByZXF1ZXN0IGhhcyBmYWlsZWQuXCIgOiBtZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmlubmVyID0gaW5uZXI7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiSHR0cFJlcXVlc3RFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgSHR0cFJlcXVlc3RFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBIdHRwUmVxdWVzdEVycm9yO1xyXG59KEVycm9yKSk7XHJcbmV4cG9ydCB7IEh0dHBSZXF1ZXN0RXJyb3IgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCIsIi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIENvbnRhaW5zIGZ1bmN0aW9ucyBmb3IgYXdhaXRhYmxlIEhUVFAgcmVxdWVzdC5cclxuICpcclxuICogQHNlZSB7QGxpbmsgc2VuZFJlcXVlc3R9XHJcbiAqL1xyXG4vKiogKi9cclxuZXhwb3J0ICogZnJvbSBcIi4vY29tbW9uXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL2Jyb3dzZXJcIjtcclxuLy8gVE9ETyBjb25kaXRpb25hbGx5IGltcG9ydCBub2RlanMgbWVtYmVycy5cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLyoqXHJcbiAqIEBtb2R1bGVcclxuICogQGRlc2NyaXB0aW9uIFRoZSByb290IG1vZHVsZSBleHBvcnRpbmcgYWxsIHRoZSBzdWItbW9kdWxlIG1lbWJlcnMuXHJcbiAqL1xyXG4vKiogKi9cclxuZXhwb3J0ICogZnJvbSBcIi4vY29tbW9uXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL3ByaW1pdGl2ZXNcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vaHR0cFwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9kZWxheWVkQ2FsbGJhY2tzXCI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xyXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiLi9ldmVudEVtaXR0ZXJcIjtcclxuaW1wb3J0IHsgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlIH0gZnJvbSBcIi4vcHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXCI7XHJcbi8qKlxyXG4gKiBBbiBlcnJvciB0aGF0IHJhaXNlcyB3aGVuIHRoZSBjdXJyZW50IHByb21pc2UgaGFzIGJlZW4gcmVqZWN0ZWQgZHVlIHRvIGNhbmNlbGxhdGlvbi5cclxuICpcclxuICogQHJlbWFya3NcclxuICogRVM2IGBQcm9taXNlYCBkb2VzIG5vdCBoYXZlIGNhbmNlbGxhdGlvbiBzdXBwb3J0LFxyXG4gKiBzbyBUUEwgdXNlcyBgcmVqZWN0YCB3aXRoIHtAbGluayBQcm9taXNlQ2FuY2VsbGVkRXJyb3J9IHRvIGluZGljYXRlIGEgY2FuY2VsbGVkIGBQcm9taXNlYC5cclxuICovXHJcbnZhciBQcm9taXNlQ2FuY2VsbGVkRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUHJvbWlzZUNhbmNlbGxlZEVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUHJvbWlzZUNhbmNlbGxlZEVycm9yKG1lc3NhZ2UpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyBcIlByb21pc2UgZXhlY3V0aW9uIGhhcyBiZWVuIGNhbmNlbGxlZC5cIiA6IG1lc3NhZ2UpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiUHJvbWlzZUNhbmNlbGxlZEVycm9yXCI7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBQcm9taXNlQ2FuY2VsbGVkRXJyb3IucHJvdG90eXBlKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZUNhbmNlbGxlZEVycm9yO1xyXG59KEVycm9yKSk7XHJcbmV4cG9ydCB7IFByb21pc2VDYW5jZWxsZWRFcnJvciB9O1xyXG52YXIgQ2FuY2VsbGF0aW9uVG9rZW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDYW5jZWxsYXRpb25Ub2tlbigpIHtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW5jZWxsYXRpb25Ub2tlbi5wcm90b3R5cGUsIFwiaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gISF0aGlzLl9jYW5jZWxsZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlbi5wcm90b3R5cGUuX19pbnRfY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25FdmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25FdmVudC5yYWlzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25FdmVudC5jbGVhckxpc3RlbmVycygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uUGxycykge1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25QbHJzLnRyeVJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY2FuY2VsbGVkID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlbi5wcm90b3R5cGUudGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBQcm9taXNlQ2FuY2VsbGVkRXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICghdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9jYW5jZWxsYXRpb25FdmVudC5hZGRMaXN0ZW5lcihjYWxsYmFjaywgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25FdmVudC5yYWlzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25FdmVudC5jbGVhckxpc3RlbmVycygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW5jZWxsYXRpb25Ub2tlbi5wcm90b3R5cGUsIFwicHJvbWlzZUxpa2VcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uUGxycykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uUGxycyA9IG5ldyBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25QbHJzLnRyeVJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsbGF0aW9uUGxycy5wcm9taXNlTGlrZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBDYW5jZWxsYXRpb25Ub2tlbjtcclxufSgpKTtcclxudmFyIGNhbmNlbGxlZFRva2VuID0gbmV3IENhbmNlbGxhdGlvblRva2VuKCk7XHJcbmNhbmNlbGxlZFRva2VuLl9faW50X2NhbmNlbCgpO1xyXG4vKipcclxuICogUmVwcmVzZW50cyBhbiBvd25lciBvZiB7QGxpbmsgSUNhbmNlbGxhdGlvblRva2VufSB0aGF0IGNhbiBpbml0aWF0ZXMgdGhlIGNhbmNlbGxhdGlvbi5cclxuICovXHJcbnZhciBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGNhbmNlbEFmdGVyRGVsYXkgQXV0b21hdGljYWxseSByZXF1ZXN0cyBjYW5jZWxsYXRpb24gYWZ0ZXIgdGhlIHNwZWNpZmllZCBub24tbmVnYXRpdmUgdGltZSBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIENhbmNlbGxhdGlvblRva2VuU291cmNlKGNhbmNlbEFmdGVyRGVsYXkpIHtcclxuICAgICAgICBpZiAoY2FuY2VsQWZ0ZXJEZWxheSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsQWZ0ZXIoY2FuY2VsQWZ0ZXJEZWxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbmNlbGxhdGlvblRva2VuU291cmNlLnByb3RvdHlwZSwgXCJpc0NhbmNlbGxhdGlvblJlcXVlc3RlZFwiLCB7XHJcbiAgICAgICAgLyoqIFdoZXRoZXIgdGhlIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuX2NhbmNlbGxhdGlvblRva2VuICYmIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuLmlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWF0ZXMgY2FuY2VsbGF0aW9uIGlmIGl0IGhhcyBub3QgYmVlbiByZXF1ZXN0ZWQgeWV0LlxyXG4gICAgICogTm90aWZpZXMgdGhlIGRlcml2ZWQgYElDYW5jZWxsYXRpb25Ub2tlbmAgb2YgdGhlIGNhbmNlbGxhdGlvbi5cclxuICAgICAqL1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4uX19pbnRfY2FuY2VsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbiA9IGNhbmNlbGxlZFRva2VuO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYXRlcyBjYW5jZWxsYXRpb24gYWZ0ZXIgdGhlIHNwZWNpZmllZCBkZWxheS5cclxuICAgICAqIEBwYXJhbSBkZWxheSB0aGUgbm9uLW5lZ2F0aXZlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIGluaXRpYXRpbmcgdGhlIGNhbmNlbGxhdGlvbi5cclxuICAgICAqL1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UucHJvdG90eXBlLmNhbmNlbEFmdGVyID0gZnVuY3Rpb24gKGRlbGF5KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoZGVsYXkgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiZGVsYXkgKGFyZyMxKSBzaG91bGQgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRlbGF5ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgX3RoaXMuY2FuY2VsKCk7IH0sIGRlbGF5KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbmNlbGxhdGlvblRva2VuU291cmNlLnByb3RvdHlwZSwgXCJ0b2tlblwiLCB7XHJcbiAgICAgICAgLyoqIEdldHMgdGhlIGRlcml2ZWQgYElDYW5jZWxsYXRpb25Ub2tlbmAgZnJvbSB0aGlzIHRva2VuIHNvdXJjZS4gKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4gPSBuZXcgQ2FuY2VsbGF0aW9uVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW47XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYSBgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2VgIHRoYXQgZ2V0cyBjYW5jZWxsZWQgd2hlbiBhbnkgb2YgdGhlIHNwZWNpZmllZCBgSUNhbmNlbGxhdGlvblRva2VuYCBnZXRzIGNhbmNlbGxlZC5cclxuICAgICAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbnMgT25lIG9yIG1vcmUgdW5kZXJseWluZyBgSUNhbmNlbGxhdGlvblRva2VuYC5cclxuICAgICAqL1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UucmFjZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2FuY2VsbGF0aW9uVG9rZW5zID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgY2FuY2VsbGF0aW9uVG9rZW5zW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjdHMgPSBuZXcgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UoKTtcclxuICAgICAgICB2YXIgY2FuY2VsbGF0aW9uQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IGN0cy5jYW5jZWwoKTsgfTtcclxuICAgICAgICBmb3IgKHZhciBfYSA9IDAsIGNhbmNlbGxhdGlvblRva2Vuc18xID0gY2FuY2VsbGF0aW9uVG9rZW5zOyBfYSA8IGNhbmNlbGxhdGlvblRva2Vuc18xLmxlbmd0aDsgX2ErKykge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBjYW5jZWxsYXRpb25Ub2tlbnNfMVtfYV07XHJcbiAgICAgICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgdG9rZW4uc3Vic2NyaWJlKGNhbmNlbGxhdGlvbkNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3RzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZTtcclxufSgpKTtcclxuZXhwb3J0IHsgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuY2VsbGF0aW9uLmpzLm1hcCIsIi8qKlxyXG4gKiBDb21iaW5lcyB7QGxpbmsgSURpc3Bvc2FibGV9IGluc3RhbmNlcy5cclxuICogQHBhcmFtIGRpc3Bvc2FibGVzIDAsIDEsIG9yIG1vcmUgaW5zdGFuY2VzIHRvIGJlIGNvbWJpbmVkLlxyXG4gKiBAcmV0dXJucyBhbiB7QGxpbmsgSURpc3Bvc2FibGV9IHRoYXQgZGlzcG9zZXMgdGhlIGdpdmVuIGluc3RhbmNlcyB3aGVuIHtAbGluayBJRGlzcG9zYWJsZS5kaXNwb3NlfSBpcyBjYWxsZWQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZURpc3Bvc2FibGUoKSB7XHJcbiAgICB2YXIgZGlzcG9zYWJsZXMgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgZGlzcG9zYWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkaXNwb3NhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmRpc3Bvc2UoKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwb3NhYmxlLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xyXG52YXIgUmF3VmFsdWVFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSYXdWYWx1ZUVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmF3VmFsdWVFcnJvcihyYXdWYWx1ZSwgaW5uZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnJhd1ZhbHVlID0gcmF3VmFsdWU7XHJcbiAgICAgICAgX3RoaXMuaW5uZXIgPSBpbm5lcjtcclxuICAgICAgICBfdGhpcy5uYW1lID0gXCJSYXdWYWx1ZUVycm9yXCI7XHJcbiAgICAgICAgX3RoaXMuZ2V0QmFzZUVycm9yID0gZ2V0QmFzZUVycm9yO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgUmF3VmFsdWVFcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFJhd1ZhbHVlRXJyb3I7XHJcbn0oRXJyb3IpKTtcclxuZnVuY3Rpb24gZ2V0QmFzZUVycm9yKCkge1xyXG4gICAgdmFyIGN1cnJlbnQgPSB0aGlzO1xyXG4gICAgd2hpbGUgKGN1cnJlbnQuaW5uZXIgIT0gbnVsbCkge1xyXG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmlubmVyO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGN1cnJlbnQ7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNldElubmVyRXJyb3IoZXJyb3IsIGlubmVyKSB7XHJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJpbm5lclwiLCB7IHZhbHVlOiBpbm5lciwgd3JpdGFibGU6IGZhbHNlIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJnZXRCYXNlRXJyb3JcIiwgeyB2YWx1ZTogZ2V0QmFzZUVycm9yLCB3cml0YWJsZTogZmFsc2UgfSk7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSYXdWYWx1ZUVycm9yKGVycm9yLCBpbm5lcik7XHJcbiAgICB9XHJcbn1cclxudmFyIEFnZ3JlZ2F0ZUVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFnZ3JlZ2F0ZUVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQWdncmVnYXRlRXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBlcnJvcnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBlcnJvcnNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiUmF3VmFsdWVFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgQWdncmVnYXRlRXJyb3IpO1xyXG4gICAgICAgIF90aGlzLmlubmVyRXJyb3JzID0gZXJyb3JzLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZSAhPSBudWxsOyB9KTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc0FyZykge1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcyk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuaW5uZXJFcnJvcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGUpO1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEFnZ3JlZ2F0ZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBlLmZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBZ2dyZWdhdGVFcnJvcjtcclxufShFcnJvcikpO1xyXG5leHBvcnQgeyBBZ2dyZWdhdGVFcnJvciB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIiwiLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBzaW1wbGUgcHViLXN1YiBldmVudC5cclxuICogQHR5cGVkZWYgVCB0eXBlIG9mIHRoZSBldmVudCBwYXlsb2FkLlxyXG4gKi9cclxudmFyIEV2ZW50RW1pdHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcclxuICAgIH1cclxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIsIGlzQXN5bmMsIHRoaXNBcmcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBpdGVtID0geyBwcmV2OiB0aGlzLnRhaWwsIGNhbGxiYWNrOiBsaXN0ZW5lci5iaW5kKHRoaXNBcmcpLCBpc0FzeW5jOiBpc0FzeW5jIH07XHJcbiAgICAgICAgaWYgKCF0aGlzLmhlYWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoIXRoaXMudGFpbCk7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IGl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRhaWwpIHtcclxuICAgICAgICAgICAgdGhpcy50YWlsLm5leHQgPSBpdGVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRhaWwgPSBpdGVtO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ucHJldikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChpdGVtLnByZXYubmV4dCA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucHJldi5uZXh0ID0gaXRlbS5uZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoX3RoaXMuaGVhZCA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhlYWQgPSBpdGVtLm5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoaXRlbS5uZXh0LnByZXYgPT09IGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm5leHQucHJldiA9IGl0ZW0ucHJldjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KF90aGlzLnRhaWwgPT09IGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWlsID0gaXRlbS5wcmV2O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpdGVtID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJhaXNlcyB0aGUgZXZlbnQsIGNhbGxpbmcgYWxsIHRoZSBldmVudCBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhpcyBldmVudCBpbnN0YW5jZS5cclxuICAgICAqIEBwYXJhbSBhcmcgdGhlIGV2ZW50IHBheWxvYWQuXHJcbiAgICAgKi9cclxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmFpc2UgPSBmdW5jdGlvbiAoYXJnKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmhlYWQ7XHJcbiAgICAgICAgdmFyIGhhbmRsZXJzID0gW107XHJcbiAgICAgICAgdmFyIHJlc29sdmVkUHJvbWlzZTtcclxuICAgICAgICAvLyBQYXNzIDE6IGZyZWV6ZSBldmVudCBoYW5kbGVycyB0byBiZSBjYWxsZWQuXHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgaGFuZGxlcnMucHVzaChbY3VycmVudC5jYWxsYmFjaywgISFjdXJyZW50LmlzQXN5bmNdKTtcclxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUGFzcyAyOiBjYWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgaGFuZGxlcnNfMSA9IGhhbmRsZXJzOyBfaSA8IGhhbmRsZXJzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IGhhbmRsZXJzXzFbX2ldLCBoYW5kbGVyID0gX2FbMF0sIGlzQXN5bmMgPSBfYVsxXTtcclxuICAgICAgICAgICAgaWYgKGlzQXN5bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWRQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGFyZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihoYW5kbGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXIoYXJnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycy5cclxuICAgICAqL1xyXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5jbGVhckxpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcclxufSgpKTtcclxuZXhwb3J0IHsgRXZlbnRFbWl0dGVyIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50RW1pdHRlci5qcy5tYXAiLCJleHBvcnQgKiBmcm9tIFwiLi9jYW5jZWxsYXRpb25cIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vZGlzcG9zYWJsZVwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9lcnJvcnNcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vZXZlbnRFbWl0dGVyXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL3Byb21pc2VSZXNvbHV0aW9uU291cmNlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL3Byb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZVwiO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvKipcclxuICogQG1vZHVsZVxyXG4gKiBQcm92aWRlcyBgUHJvbWlzZUxpa2VgIHRoYXQgY2FuIGJlIHJlc29sdmVkIGZyb20gb3V0c2lkZS5cclxuICogQHNlZSB7QGxpbmsgSUNvbmZpZ3VyYWJsZVByb21pc2VMaWtlfVxyXG4gKiBAc2VlIHtAbGluayBQcm9taXNlUmVzb2x1dGlvblNvdXJjZX1cclxuICovXHJcbi8qKiAqL1xyXG5pbXBvcnQgeyBQcm9taXNlQ2FuY2VsbGVkRXJyb3IgfSBmcm9tIFwiLi9jYW5jZWxsYXRpb25cIjtcclxuaW1wb3J0IHsgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UgfSBmcm9tIFwiLi9wcm9taXNlUmVzb2x1dGlvblNvdXJjZVwiO1xyXG4vKipcclxuICogUmVzb2x2ZXMgb3IgcmVqZWN0cyBhIGBQcm9taXNlTGlrZWAgZnJvbSBvdXRzaWRlIG9mIGl0LlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIGlzIHNpZ25pZmljYW50bHkgZGlmZmVyZW50IGZyb20ge0BsaW5rIFByb21pc2VSZXNvbHV0aW9uU291cmNlfVxyXG4gKiBpbiB0aGUgd2F5IHRoYXQgaXQgZW5zdXJlcyB3aGVuIHtAbGluayB0cnlSZXNvbHZlfSwge0BsaW5rIHRyeUNhbmNlbH0sIG9yIHtAbGluayB0cnlSZWplY3R9XHJcbiAqIGlzIGNhbGxlZCwgdGhlIGNvbnRpbnVhdGlvbiBjYWxsYmFja3MgYXNzb2NpYXRlZCB3aXRoIGBQcm9taXNlTGlrZWAgYXJlIGV4ZWN1dGVkICpzeW5jaHJvbm91c2x5Ki5cclxuICogSG93ZXZlciwgZG93bnN0cmVhbSBjb25zdW1lcnMgYXJlIHN0aWxsIGFibGUgdG8gbGV0IHRoZWlyIGNvbnRpbnVhdGlvbiBjYWxsYmFja3MgZXhlY3V0ZSBhc3luY2hyb25vdXNseS5cclxuICogU2VlIHtAbGluayBJQ29uZmlndXJhYmxlUHJvbWlzZUxpa2V9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIGlzIHNpbWlsYXIgdG8gYERlZmVycmVkYCBidXQgaXQgZXhwbGljaXRseSBzZXBhcmF0ZXNcclxuICogdGhlIHByb21pc2UgYW5kIGl0cyBjb250cm9sIHNpZGUgaW50byB0d28gZGlmZmVyZW50IG9iamVjdHMuXHJcbiAqXHJcbiAqIEB0eXBlcGFyYW0gVCB0eXBlIG9mIHRoZSBwcm9taXNlIHJlc29sdXRpb24gcmVzdWx0LlxyXG4gKi9cclxudmFyIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSgpIHtcclxuICAgIH1cclxuICAgIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUuX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9wcm9taXNlTGlrZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9taXNlTGlrZSA9IG5ldyBTeW5jaHJvbm91c1Byb21pc2VMaWtlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLCBcInByb21pc2VMaWtlXCIsIHtcclxuICAgICAgICAvKiogR2V0cyB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgIGNvbnRyb2xsZWQgYnkgdGhlIGN1cnJlbnQgaW5zdGFuY2UuICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2VMaWtlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTeW5jaHJvbm91c2x5IHJlc29sdmVzIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgd2l0aCB0aGUgc3BlY2lmaWVkIHJlc3VsdC5cclxuICAgICAqIEBwYXJhbSByZXN1bHQgdGhlIHJlc29sdXRpb24gcmVzdWx0LCBvciBhIGBQcm9taXNlTGlrZWAgdGhhdCBjYW4gYmUgZnVydGhlciAqcmVzb2x2ZWQqLlxyXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgaGFzIGp1c3QgYmVlbiAqcmVzb2x2ZWQqO1xyXG4gICAgICogb3RoZXJ3aXNlIGl0IG1lYW5zIHRoZSBgUHJvbWlzZUxpa2VgIGhhcyBhbHJlYWR5IGJlZW4gKnNldHRsZWQqIGJlZm9yZS5cclxuICAgICAqL1xyXG4gICAgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS50cnlSZXNvbHZlID0gZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fcHJvbWlzZUxpa2UuJF9faW50X19zZXR0bGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcHJvbWlzZUxpa2UuJF9faW50X19mdWxmaWxsKHJlc3VsdCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTeW5jaHJvbm91c2x5IGNhbmNlbHMgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYC5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgIGhhcyBqdXN0IGJlZW4gKnJlamVjdGVkKiB3aXRoIGBQcm9taXNlQ2FuY2VsbGVkRXJyb3JgO1xyXG4gICAgICogb3RoZXJ3aXNlIGl0IG1lYW5zIHRoZSBgUHJvbWlzZUxpa2VgIGhhcyBhbHJlYWR5IGJlZW4gKnNldHRsZWQqIGJlZm9yZS5cclxuICAgICAqL1xyXG4gICAgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS50cnlDYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9wcm9taXNlTGlrZS4kX19pbnRfX3NldHRsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9wcm9taXNlTGlrZS4kX19pbnRfX3JlamVjdChuZXcgUHJvbWlzZUNhbmNlbGxlZEVycm9yKCkpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU3luY2hyb25vdXNseSByZWplY3RzIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgd2l0aCB0aGUgc3BlY2lmaWVkIHJhc29uLlxyXG4gICAgICogQHBhcmFtIHJlYXNvbiB0aGUgcmVqZWN0aW9uIHJlYXNvbiwgb3IgdGhlIGBFcnJvcmAgY2F1c2luZyB0aGUgcmVqZWN0aW9uLlxyXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgaGFzIGp1c3QgYmVlbiAqcmVqZWN0ZWQqO1xyXG4gICAgICogb3RoZXJ3aXNlIGl0IG1lYW5zIHRoZSBgUHJvbWlzZUxpa2VgIGhhcyBhbHJlYWR5IGJlZW4gKnNldHRsZWQqIGJlZm9yZS5cclxuICAgICAqL1xyXG4gICAgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS50cnlSZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9wcm9taXNlTGlrZS4kX19pbnRfX3NldHRsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9wcm9taXNlTGlrZS4kX19pbnRfX3JlamVjdChyZWFzb24pO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2U7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSB9O1xyXG52YXIgU3luY2hyb25vdXNQcm9taXNlTGlrZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UoX29uZnVsZmlsbGVkLCBfb25yZWplY3RlZCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5fb25mdWxmaWxsZWQgPSBfb25mdWxmaWxsZWQ7XHJcbiAgICAgICAgdGhpcy5fb25yZWplY3RlZCA9IF9vbnJlamVjdGVkO1xyXG4gICAgICAgIHRoaXMuZnVsZmlsbE5leHQgPSBmdW5jdGlvbiAobmV4dFJlc3VsdCkge1xyXG4gICAgICAgICAgICBpZiAobmV4dFJlc3VsdCAmJiB0eXBlb2YgbmV4dFJlc3VsdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbmV4dFJlc3VsdC50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIG5leHRSZXN1bHQudGhlbihfdGhpcy5mdWxmaWxsTmV4dCwgX3RoaXMucmVqZWN0TmV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuYXNueWNQcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hc255Y1Bycy50cnlSZXNvbHZlKG5leHRSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3RoaXMubmV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMubmV4dDsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkuJF9faW50X19mdWxmaWxsKG5leHRSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBfdGhpcy5uZXh0ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNldHRsZWQgUHJvbWlzZUxpa2Ugc2hvdWxkIG5vdCBiZSByZXNvbHZlZCBmdXJ0aGVybW9yZS5cIiwgX3RoaXMubmV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLm5leHQgPSBcInJlc29sdmVkXCI7XHJcbiAgICAgICAgICAgIF90aGlzLnJlc3VsdCA9IG5leHRSZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnJlamVjdE5leHQgPSBmdW5jdGlvbiAobmV4dFJlYXNvbikge1xyXG4gICAgICAgICAgICBpZiAobmV4dFJlYXNvbiAmJiB0eXBlb2YgbmV4dFJlYXNvbiA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbmV4dFJlYXNvbi50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIG5leHRSZWFzb24udGhlbihfdGhpcy5mdWxmaWxsTmV4dCwgX3RoaXMucmVqZWN0TmV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuYXNueWNQcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hc255Y1Bycy50cnlSZWplY3QobmV4dFJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfdGhpcy5uZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5uZXh0OyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaS4kX19pbnRfX3JlamVjdChuZXh0UmVhc29uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgX3RoaXMubmV4dCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTZXR0bGVkIFByb21pc0xpa2Ugc2hvdWxkIG5vdCBiZSByZWplY3RlZCBmdXJ0aGVybW9yZS5cIiwgX3RoaXMubmV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLm5leHQgPSBcInJlamVjdGVkXCI7XHJcbiAgICAgICAgICAgIF90aGlzLnJlc3VsdCA9IG5leHRSZWFzb247XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTeW5jaHJvbm91c1Byb21pc2VMaWtlLnByb3RvdHlwZSwgXCIkX19pbnRfX3NldHRsZWRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMubmV4dCA9PT0gXCJzdHJpbmdcIjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8vIE5vdGU6IFROZXh0IHwgUHJvbWlzZUxpa2U8VE5leHQ+IGlzIG9ubHkgdXNlZCB3aGVuIFRQcmV2ID09IFROZXh0XHJcbiAgICBTeW5jaHJvbm91c1Byb21pc2VMaWtlLnByb3RvdHlwZS4kX19pbnRfX2Z1bGZpbGwgPSBmdW5jdGlvbiAocHJldlJlc3VsdCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5uZXh0ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTZXR0bGVkIFByb21pc2VMaWtlIHNob3VsZCBub3QgYmUgcmVzb2x2ZWQgZnVydGhlcm1vcmUuXCIsIHRoaXMubmV4dCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX29uZnVsZmlsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmdWxmaWxsIGN1cnJlbnQgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9vbmZ1bGZpbGxlZChwcmV2UmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIC8vIG5vdGlmeSBuZXh0IFByb21pc2VMaWtlKHMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZ1bGZpbGxOZXh0KHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZ1bGZpbGxOZXh0KHByZXZSZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBFcnJvciByYWlzZWQgd2hpbGUgZXhlY3V0aW5nIG9uZnVsZmlsbGVkIGNhbGxiYWNrLlxyXG4gICAgICAgICAgICAvLyBOZXh0IFByb21pc2VMaWtlcyBzaG91bGQgYmUgcmVqZWN0ZWQuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbnJlamVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdE5leHQoZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLiRfX2ludF9fcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5uZXh0ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTZXR0bGVkIFByb21pc2VMaWtlIHNob3VsZCBub3QgYmUgcmVzb2x2ZWQgZnVydGhlcm1vcmUuXCIsIHRoaXMubmV4dCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX29ucmVqZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9vbnJlamVjdGVkKHJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZ1bGZpbGxOZXh0KHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdE5leHQocmVhc29uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gRXJyb3IgcmFpc2VkIHdoaWxlIGV4ZWN1dGluZyBvbnJlamVjdGVkIGNhbGxiYWNrLlxyXG4gICAgICAgICAgICAvLyBOZXh0IFByb21pc2VMaWtlcyBzaG91bGQgYmUgcmVqZWN0ZWQuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbnJlamVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlamVjdE5leHQoZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuY2F1Z2h0IFN5bmNocm9ub3VzUHJvbWlzZUxpa2UgcmVqZWN0aW9uOiAlb1wiLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU3luY2hyb25vdXNQcm9taXNlTGlrZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkge1xyXG4gICAgICAgIHZhciBuZXh0ID0gbmV3IFN5bmNocm9ub3VzUHJvbWlzZUxpa2Uob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpO1xyXG4gICAgICAgIGlmICghdGhpcy5uZXh0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLm5leHQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dC5wdXNoKG5leHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLm5leHQgPT09IFwicmVzb2x2ZWRcIikge1xyXG4gICAgICAgICAgICBuZXh0LiRfX2ludF9fZnVsZmlsbCh0aGlzLnJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMubmV4dCA9PT0gXCJyZWplY3RlZFwiKSB7XHJcbiAgICAgICAgICAgIG5leHQuJF9faW50X19yZWplY3QodGhpcy5yZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgc3RhdGUuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV4dDtcclxuICAgIH07XHJcbiAgICBTeW5jaHJvbm91c1Byb21pc2VMaWtlLnByb3RvdHlwZS5mb3JjZUFzeW5jID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFzbnljUHJzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFzbnljUHJzLnByb21pc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm5leHQgPT09IFwicmVzb2x2ZWRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMucmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5uZXh0ID09PSBcInJlamVjdGVkXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHRoaXMucmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KCF0aGlzLm5leHQgfHwgQXJyYXkuaXNBcnJheSh0aGlzLm5leHQpKTtcclxuICAgICAgICAgICAgdGhpcy5hc255Y1BycyA9IG5ldyBQcm9taXNlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hc255Y1Bycy5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU3luY2hyb25vdXNQcm9taXNlTGlrZTtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlLmpzLm1hcCIsIi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIFByb3ZpZGVzIGBQcm9taXNlYCB0aGF0IGNhbiBiZSByZXNvbHZlZCBmcm9tIG91dHNpZGUuXHJcbiAqIEBzZWUge0BsaW5rIFByb21pc2VSZXNvbHV0aW9uU291cmNlfVxyXG4gKi9cclxuLyoqICovXHJcbmltcG9ydCB7IFByb21pc2VDYW5jZWxsZWRFcnJvciB9IGZyb20gXCIuL2NhbmNlbGxhdGlvblwiO1xyXG4vKipcclxuICogUmVzb2x2ZXMgb3IgcmVqZWN0cyBhIGBQcm9taXNlYCBmcm9tIG91dHNpZGUgb2YgaXQuXHJcbiAqXHJcbiAqIFRoaXMgY2xhc3MgaXMgc2ltaWxhciB0byBgRGVmZXJyZWRgIGJ1dCBpdCBleHBsaWNpdGx5IHNlcGFyYXRlc1xyXG4gKiB0aGUgcHJvbWlzZSBhbmQgaXRzIGNvbnRyb2wgc2lkZSBpbnRvIHR3byBkaWZmZXJlbnQgb2JqZWN0cy5cclxuICpcclxuICogQHR5cGVwYXJhbSBUIHR5cGUgb2YgdGhlIHByb21pc2UgcmVzb2x1dGlvbiByZXN1bHQuXHJcbiAqIEBzZWUge0BsaW5rIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZX1cclxuICovXHJcbnZhciBQcm9taXNlUmVzb2x1dGlvblNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFByb21pc2VSZXNvbHV0aW9uU291cmNlKCkge1xyXG4gICAgfVxyXG4gICAgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLl9lbnN1cmVQcm9taXNlSW5pdGlhbGl6ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAodGhpcy5fcHJvbWlzZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9yZXNvbHZlID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3JlamVjdCA9IHJlajtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9taXNlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUsIFwicHJvbWlzZVwiLCB7XHJcbiAgICAgICAgLyoqIEdldHMgdGhlIGRlcml2ZWQgYFByb21pc2VgIGNvbnRyb2xsZWQgYnkgdGhlIGN1cnJlbnQgaW5zdGFuY2UuICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogUmVzb2x2ZXMgdGhlIGRlcml2ZWQgYFByb21pc2VgIHdpdGggdGhlIHNwZWNpZmllZCByZXN1bHQuXHJcbiAgICAgKiBAcGFyYW0gcmVzdWx0IHRoZSByZXNvbHV0aW9uIHJlc3VsdCwgb3IgYSBgUHJvbWlzZUxpa2VgIHRoYXQgY2FuIGJlIGZ1cnRoZXJseSAqcmVzb2x2ZWQqLlxyXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBkZXJpdmVkIGBQcm9taXNlYCBoYXMganVzdCBiZWVuICpyZXNvbHZlZCo7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlYCBoYXMgYWxyZWFkeSBiZWVuICpzZXR0bGVkKiBiZWZvcmUuXHJcbiAgICAgKi9cclxuICAgIFByb21pc2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS50cnlSZXNvbHZlID0gZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9yZXNvbHZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IHRoaXMuX3JlamVjdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENhbmNlbHMgdGhlIGRlcml2ZWQgYFByb21pc2VgLlxyXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBkZXJpdmVkIGBQcm9taXNlYCBoYXMganVzdCBiZWVuICpyZWplY3RlZCogd2l0aCBgUHJvbWlzZUNhbmNlbGxlZEVycm9yYDtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VgIGhhcyBhbHJlYWR5IGJlZW4gKnNldHRsZWQqIGJlZm9yZS5cclxuICAgICAqL1xyXG4gICAgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeUNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdChuZXcgUHJvbWlzZUNhbmNlbGxlZEVycm9yKCkpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gdGhpcy5fcmVqZWN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVqZWN0cyB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgd2l0aCB0aGUgc3BlY2lmaWVkIHJhc29uLlxyXG4gICAgICogQHBhcmFtIHJlYXNvbiB0aGUgcmVqZWN0aW9uIHJlYXNvbiwgb3IgdGhlIGBFcnJvcmAgY2F1c2luZyB0aGUgcmVqZWN0aW9uLlxyXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBkZXJpdmVkIGBQcm9taXNlYCBoYXMganVzdCBiZWVuICpyZWplY3RlZCo7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlYCBoYXMgYWxyZWFkeSBiZWVuICpzZXR0bGVkKiBiZWZvcmUuXHJcbiAgICAgKi9cclxuICAgIFByb21pc2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS50cnlSZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlamVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZWplY3QocmVhc29uKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IHRoaXMuX3JlamVjdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUHJvbWlzZVJlc29sdXRpb25Tb3VyY2U7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFByb21pc2VSZXNvbHV0aW9uU291cmNlIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21pc2VSZXNvbHV0aW9uU291cmNlLmpzLm1hcCIsImltcG9ydCB7XHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSwgZGVsYXksIElDYW5jZWxsYXRpb25Ub2tlbiwgSVJlcXVlc3RQYXJhbXMsXHJcbiAgICBQcm9taXNlQ2FuY2VsbGVkRXJyb3IsIHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jLCByZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMsXHJcbiAgICBzZW5kUmVxdWVzdCwgeWllbGRlZFxyXG59IGZyb20gXCJ0YXNrbGlrZS1wcm9taXNlLWxpYnJhcnlcIjtcclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWR1cGxpY2F0ZS1pbXBvcnRzXHJcbmltcG9ydCAqIGFzIHRwbEFtYmllbnQgZnJvbSBcInRhc2tsaWtlLXByb21pc2UtbGlicmFyeVwiO1xyXG5cclxuZnVuY3Rpb24gJDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KHNlbGVjdG9yOiBzdHJpbmcsIHNjb3BlPzogSFRNTEVsZW1lbnQpOiBUIHwgbnVsbCB7XHJcbiAgICBpZiAoc2NvcGUpIHtcclxuICAgICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgVDtcclxuICAgIH1cclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSBhcyBUO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkxvYWQoKSB7XHJcbiAgICAkKFwiI3RwbC15aWVsZGVkLXJ1blwiKSEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHJ1bkRlbW8oZGVtb1lpZWxkLCBcIiN0cGwteWllbGRlZC1wYW5lbFwiKSk7XHJcbiAgICAkKFwiI3RwbC1kZWxheS1ydW5cIikhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBydW5EZW1vKGRlbW9EZWxheSwgXCIjdHBsLWRlbGF5LXBhbmVsXCIsIFwiI3RwbC1kZWxheS1jYW5jZWxcIikpO1xyXG4gICAgJChcIiN0cGwtc2VuZHJlcXVlc3QtcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vSHR0cCwgXCIjdHBsLXNlbmRyZXF1ZXN0LXBhbmVsXCIsIFwiI3RwbC1zZW5kcmVxdWVzdC1jYW5jZWxcIikpO1xyXG4gICAgJChcIiN0cGwtcmVxdWVzdGljYi1ydW5cIikhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBydW5EZW1vKGRlbW9SZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMsIFwiI3RwbC1yZXF1ZXN0aWNiLXBhbmVsXCIsIFwiI3RwbC1yZXF1ZXN0aWNiLWNhbmNlbFwiKSk7XHJcbiAgICAkKFwiI3RwbC1yZXF1ZXN0YWYtcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vUmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMsIFwiI3RwbC1yZXF1ZXN0YWYtcGFuZWxcIiwgXCIjdHBsLXJlcXVlc3RhZi1jYW5jZWxcIikpO1xyXG4gICAgLy8gRXhwb3NlIFRQTCBsaWJyYXJ5IHRvIHRoZSBkZWJ1Z2dlciBjb25zb2xlLlxyXG4gICAgKHdpbmRvdyBhcyB1bmtub3duIGFzIHsgVFBMOiB0eXBlb2YgdHBsQW1iaWVudCB9KS5UUEwgPSB0cGxBbWJpZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBidWlsZEVycm9yUGFuZWwoZXJyb3I6IHVua25vd24pIHtcclxuICAgIGNvbnN0IGVyckJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBlcnJCb3guY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG4gICAgZXJyQm94LmlubmVyVGV4dCA9IGVycm9yICYmIChlcnJvciBhcyB7IHN0YWNrPzogc3RyaW5nIH0pLnN0YWNrIHx8IFN0cmluZyhlcnJvcik7XHJcbiAgICByZXR1cm4gZXJyQm94O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBlbmRMaW5lKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNvbnRlbnQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgbGluZS5pbm5lclRleHQgPSBjb250ZW50O1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxpbmUpO1xyXG4gICAgcmV0dXJuIGxpbmU7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJ1bkRlbW8oXHJcbiAgICBkZW1vRnVuYzogKHBhbmVsOiBIVE1MRWxlbWVudCwgY2FuY2VsbGF0aW9uVG9rZW4/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxyXG4gICAgcGFuZWxTZWxlY3Rvcjogc3RyaW5nLFxyXG4gICAgY2FuY2VsbGF0aW9uQnV0dG9uU2VsZWN0b3I/OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGN0cyA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSgpO1xyXG4gICAgY29uc3Qgb25DYW5jZWwgPSAoKSA9PiB7IGN0cy5jYW5jZWwoKTsgfTtcclxuICAgIGNvbnN0IHBhbmVsID0gJChwYW5lbFNlbGVjdG9yKSE7XHJcbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBjYW5jZWxsYXRpb25CdXR0b25TZWxlY3RvciA/ICQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KGNhbmNlbGxhdGlvbkJ1dHRvblNlbGVjdG9yKSA6IG51bGw7XHJcbiAgICBpZiAoY2FuY2VsQnV0dG9uKSB7XHJcbiAgICAgICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNhbmNlbCk7XHJcbiAgICAgICAgY2FuY2VsQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBwYW5lbC5pbm5lclRleHQgPSBcIlwiO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBkZW1vRnVuYyhwYW5lbCwgY2FuY2VsQnV0dG9uID8gY3RzLnRva2VuIDogdW5kZWZpbmVkKTtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChidWlsZEVycm9yUGFuZWwoZXJyb3IpKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgaWYgKGNhbmNlbEJ1dHRvbikge1xyXG4gICAgICAgICAgICBjYW5jZWxCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQ2FuY2VsKTtcclxuICAgICAgICAgICAgY2FuY2VsQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlbW9ZaWVsZChwYW5lbDogSFRNTEVsZW1lbnQpIHtcclxuICAgIGFzeW5jIGZ1bmN0aW9uIG15QXN5bmNGdW5jdGlvbigpIHtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogRG8gc29tZSB3b3JrIHN5bmNocm9ub3VzbHkgaW4gbXlBc3luY0Z1bmN0aW9u4oCmXCIpO1xyXG4gICAgICAgIGFwcGVuZExpbmUocGFuZWwsIFwiQ2FsbGVlOiBteUFzeW5jRnVuY3Rpb24gaXMgdG8geWllbGTigKZcIik7XHJcbiAgICAgICAgYXdhaXQgeWllbGRlZCgpO1xyXG4gICAgICAgIGFwcGVuZExpbmUocGFuZWwsIFwiQ2FsbGVlOiBiYWNrIGZyb20geWllbGRlZCBzdGF0ZeKAplwiKTtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogZXhpdGluZy5cIik7XHJcbiAgICB9XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlcjogQ2FsbCBteUFzeW5jRnVuY3Rpb24uXCIpO1xyXG4gICAgbXlBc3luY0Z1bmN0aW9uKCk7XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlcjogV2UgZGVjaWRlIGRvbid0IGF3YWl0IGZvciBteUFzeW5jRnVuY3Rpb24uXCIpO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZXI6IGV4aXRpbmcuXCIpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZW1vRGVsYXkocGFuZWw6IEhUTUxFbGVtZW50LCBjdD86IElDYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgbGV0IGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgXCJEZWxheSAwbXMgKFNldFRpbWVvdXQoMCkgKyB5aWVsZGVkKS5cIik7XHJcbiAgICBhd2FpdCBkZWxheSgwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgNTAwbXMuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoNTAwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgMXMuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoMTAwMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIkRlbGF5IDJzLlwiKTtcclxuICAgIGF3YWl0IGRlbGF5KDIwMDAsIGN0KTtcclxuICAgIGxhc3RMaW5lLmlubmVyVGV4dCArPSBcIiBGaW5pc2hlZC5cIjtcclxuICAgIGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgXCJEZWxheSAzcy5cIik7XHJcbiAgICBhd2FpdCBkZWxheSgzMDAwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIi0tLS0tLS0tLS1cIik7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbW9IdHRwKHBhbmVsOiBIVE1MRWxlbWVudCwgY3Q/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGFzeW5jIGZ1bmN0aW9uIHNlbmRBbmRSZXBvcnQocmVxdWVzdDogSVJlcXVlc3RQYXJhbXMpIHtcclxuICAgICAgICBsZXQgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBgJHtyZXF1ZXN0Lm1ldGhvZH0gcmVxdWVzdCB0byAke3JlcXVlc3QudXJsfeKApmApO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZFJlcXVlc3QocmVxdWVzdCwgY3QpO1xyXG4gICAgICAgICAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgXCIgKyByZXNwb25zZS5zdGF0dXNDb2RlICsgXCIgXCIgKyByZXNwb25zZS5zdGF0dXNUZXh0O1xyXG4gICAgICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNvbnRlbnQtVHlwZTogXCIgKyByZXNwb25zZS5nZXRIZWFkZXJWYWx1ZShcIkNvbnRlbnQtVHlwZVwiKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvZHlDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpO1xyXG4gICAgICAgICAgICBib2R5Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJodHRwLXJlc3BvbnNlLWJvZHlcIik7XHJcbiAgICAgICAgICAgIGJvZHlDb250YWluZXIuaW5uZXJUZXh0ID0gcmVzcG9uc2UuYm9keTtcclxuICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQoYm9keUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgXCJlbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZeKAplwiKTtcclxuICAgICAgICAgICAgcmVzcG9uc2UuZW5zdXJlU3VjY2Vzc2Z1bFN0YXR1c0NvZGUoKTtcclxuICAgICAgICAgICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIFN1Y2Nlc3NmdWwuXCI7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUHJvbWlzZUNhbmNlbGxlZEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBjdCBpcyBjYW5jZWxsZWQsIHdlIHdvbid0IGNvbnRpbnVlIHRoZSBkZW1vXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChidWlsZEVycm9yUGFuZWwoZXJyb3IpKTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIi0tLS0tLS0tLS1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXdhaXQgc2VuZEFuZFJlcG9ydCh7IHVybDogXCJ0c2NvbmZpZy5qc29uP3JhbmQ9XCIgKyBNYXRoLnJhbmRvbSgpLCBtZXRob2Q6IFwiR0VUXCIsIHRpbWVvdXQ6IDIwMDAgfSk7XHJcbiAgICBhd2FpdCBzZW5kQW5kUmVwb3J0KHsgdXJsOiBcInRzY29uZmlnLmpzb25cIiwgbWV0aG9kOiBcIlBPU1RcIiB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGVtb1JlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYyhwYW5lbDogSFRNTEVsZW1lbnQsIGN0PzogSUNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjdCAmJiBjdC50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcInJlcXVlc3RJZGxlQ2FsbGJhY2tBc3luY1wiKTtcclxuICAgIGNvbnN0IHN0YXR1cyA9IGFwcGVuZExpbmUocGFuZWwsIFwiUmVxdWVzdGluZ+KAplwiKTtcclxuICAgIGxldCBjb3VudGVyID0gMDtcclxuICAgIGxldCB0aW1lb3V0Q291bnRlciA9IDA7XHJcbiAgICBsZXQgbWluSWRsZVRpbWU6IHVuZGVmaW5lZCB8IG51bWJlciwgbWF4SWRsZVRpbWU6IHVuZGVmaW5lZCB8IG51bWJlcjtcclxuICAgIHdoaWxlIChjdCAmJiAhY3QuaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgcmVxdWVzdElkbGVDYWxsYmFja0FzeW5jKHsgdGltZW91dDogMTAwMCB9LCBjdCk7XHJcbiAgICAgICAgLy8gTm93IHdlIGFyZSBpbnNpZGUgcmVxdWVzdElkbGVDYWxsYmFjayBjYWxsYmFjay5cclxuICAgICAgICBjb25zdCB0aW1lUmVtYWluaW5nID0gY29udGV4dC5kZWFkbGluZS50aW1lUmVtYWluaW5nKCk7XHJcbiAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgIGlmIChjb250ZXh0LmRlYWRsaW5lLmRpZFRpbWVvdXQpIHsgdGltZW91dENvdW50ZXIrKzsgfVxyXG4gICAgICAgIG1pbklkbGVUaW1lID0gbWluSWRsZVRpbWUgPT0gbnVsbCA/IHRpbWVSZW1haW5pbmcgOiBNYXRoLm1pbih0aW1lUmVtYWluaW5nLCBtaW5JZGxlVGltZSk7XHJcbiAgICAgICAgbWF4SWRsZVRpbWUgPSBtYXhJZGxlVGltZSA9PSBudWxsID8gdGltZVJlbWFpbmluZyA6IE1hdGgubWF4KHRpbWVSZW1haW5pbmcsIG1heElkbGVUaW1lKTtcclxuICAgICAgICBzdGF0dXMuaW5uZXJUZXh0ID0gYFJlcXVlc3RlZDogJHtjb3VudGVyfSB0aW1lcywgdGltZWQtb3V0czogJHt0aW1lb3V0Q291bnRlcn0sIG1pbklkbGVUaW1lOiAke21pbklkbGVUaW1lfSwgbWF4SWRsZVRpbWU6ICR7bWF4SWRsZVRpbWV9YDtcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGVtb1JlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKHBhbmVsOiBIVE1MRWxlbWVudCwgY3Q/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGN0ICYmIGN0LnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIGFwcGVuZExpbmUocGFuZWwsIFwicmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmNcIik7XHJcbiAgICBjb25zdCBzdGF0dXMgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIlJlcXVlc3RpbmfigKZcIik7XHJcbiAgICBjb25zdCBjYW52YXMgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIlRoaXMgaXMgPERJVj4uXCIpO1xyXG4gICAgY29uc3QgYmFsbFNpemUgPSAzMDtcclxuICAgIGNvbnN0IGJhbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgYmFsbC5pbm5lclRleHQgPSBcImJhbGxcIjtcclxuICAgIGJhbGwuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCIxNXB4XCI7XHJcbiAgICBiYWxsLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgYmFsbC5zdHlsZS53aWR0aCA9IGJhbGwuc3R5bGUuaGVpZ2h0ID0gYmFsbFNpemUgKyBcInB4XCI7XHJcbiAgICBjYW52YXMuY2xhc3NMaXN0LmFkZChcImNhbnZhc1wiKTtcclxuICAgIGNhbnZhcy5hcHBlbmRDaGlsZChiYWxsKTtcclxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgbGV0IHByZXZUaW1lID0gc3RhcnRUaW1lO1xyXG4gICAgLy8gUG9zaXRpb246IHBpeGVsLlxyXG4gICAgbGV0IHB4ID0gMCwgcHkgPSAwO1xyXG4gICAgLy8gVmVsb2NpdHk6IHBpeGVsIC8gc2VjLlxyXG4gICAgbGV0IHZ4ID0gMjAwLCB2eSA9IDIwMDtcclxuICAgIGxldCBheCA9IDAsIGF5ID0gMjAwO1xyXG4gICAgbGV0IGZyYW1lQ291bnRlciA9IDA7XHJcbiAgICAvLyBXYWl0IGZvciBsYXlvdXQgdG8gY29tcGxldGUuXHJcbiAgICBhd2FpdCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyhjdCk7XHJcbiAgICBjYW52YXMuc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgIC8vIFN0YXJ0IGFuaW1hdGlvbi5cclxuICAgIHdoaWxlICghY3QgfHwgIWN0LmlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGF3YWl0IHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKGN0KTtcclxuICAgICAgICAvLyBOb3cgd2UgYXJlIGluc2lkZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgY2FsbGJhY2suXHJcbiAgICAgICAgY29uc3QgZnJhbWVEdXJhdGlvbiA9IGNvbnRleHQudGltZSAtIHByZXZUaW1lO1xyXG4gICAgICAgIGNvbnN0IGNhbnZhc1dpZHRoID0gY2FudmFzLmNsaWVudFdpZHRoLCBjYW52YXNIZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIGxldCB4ID0gcHggKyB2eCAqIChmcmFtZUR1cmF0aW9uIC8gMTAwMCk7XHJcbiAgICAgICAgbGV0IHkgPSBweSArIHZ5ICogKGZyYW1lRHVyYXRpb24gLyAxMDAwKTtcclxuICAgICAgICBpZiAoeCA8IDAgfHwgeCArIGJhbGwub2Zmc2V0V2lkdGggPiBjYW52YXNXaWR0aCkge1xyXG4gICAgICAgICAgICB2eCA9IC12eCAqIChNYXRoLnJhbmRvbSgpICogMC4yICsgMC44KTtcclxuICAgICAgICAgICAgcHggPSB4IDwgMCA/IDAgOiBjYW52YXNXaWR0aCAtIGJhbGwub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcHggPSB4O1xyXG4gICAgICAgICAgICBiYWxsLnN0eWxlLmxlZnQgPSB4ICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeSA8IDAgfHwgeSArIGJhbGwub2Zmc2V0SGVpZ2h0ID4gY2FudmFzSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHZ5ID0gLXZ5ICogKE1hdGgucmFuZG9tKCkgKiAwLjIgKyAwLjgpO1xyXG4gICAgICAgICAgICBweSA9IHkgPCAwID8gMCA6IGNhbnZhc0hlaWdodCAtIGJhbGwub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHB5ID0geTtcclxuICAgICAgICAgICAgdnkgKz0gYXkgKiAoZnJhbWVEdXJhdGlvbiAvIDEwMDApO1xyXG4gICAgICAgICAgICBiYWxsLnN0eWxlLnRvcCA9IHkgKyBcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByZXZUaW1lID0gY29udGV4dC50aW1lO1xyXG4gICAgICAgIGZyYW1lQ291bnRlcisrO1xyXG4gICAgICAgIGlmIChmcmFtZUNvdW50ZXIgPiAzMCkge1xyXG4gICAgICAgICAgICBzdGF0dXMuaW5uZXJUZXh0ID0gYEZyYW1lczogJHtmcmFtZUNvdW50ZXJ9LCB0aW1lOiAkeygoY29udGV4dC50aW1lIC0gc3RhcnRUaW1lKSAvIDEwMDApLnRvRml4ZWQoMil9IHNlYy4sIEZQUzogJHsoZnJhbWVDb3VudGVyICogMTAwMCAvIChjb250ZXh0LnRpbWUgLSBzdGFydFRpbWUpKS50b0ZpeGVkKDIpfS5gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxub25Mb2FkKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=