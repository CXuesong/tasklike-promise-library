/*! For license information please see index.js.LICENSE */
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.ts")}({"../packages/tasklike-promise-library/dist/common.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=r("../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js"),s=Promise.resolve();t.delay=function(e,t){if(e<0)throw new RangeError("milliseconds (arg#1) should be a non-negative number.");t&&t.throwIfCancellationRequested();var r=new i.PromiseResolutionSource,s=setTimeout((function(){r.tryResolve()}),e);return t&&t.subscribe((function(){clearTimeout(s),r.tryReject(new n.PromiseCancelledError)})),r.promise},t.yielded=function(){return s},t.fromResolved=function(e){return Promise.resolve(e)},t.fromRejected=function(e){return Promise.reject(e)},t.fromCancelled=function(){return Promise.reject(new n.PromiseCancelledError)}},"../packages/tasklike-promise-library/dist/delayedCallbacks.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/index.js");t.setTimeoutAsync=function(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,s=window.setTimeout((function(){r&&r.dispose(),i.tryResolve(s)}),e);return t&&(r=t.subscribe((function(){window.clearTimeout(s),i.tryCancel()}))),i.promiseLike},t.requestAnimationFrameAsync=function(e){e&&e.throwIfCancellationRequested();var t,r=new n.PromiseLikeResolutionSource,i=window.requestAnimationFrame((function(e){t&&t.dispose(),r.tryResolve({id:i,time:e})}));return e&&(t=e.subscribe((function(){window.cancelAnimationFrame(i),r.tryCancel()}))),r.promiseLike},t.requestIdleCallbackAsync=function(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,s=window.requestIdleCallback((function(e){r&&r.dispose(),i.tryResolve({id:s,deadline:e})}),e);return t&&(r=t.subscribe((function(){window.cancelIdleCallback(s),i.tryCancel()}))),i.promiseLike}},"../packages/tasklike-promise-library/dist/http.js":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r("../packages/tasklike-promise-library/dist/primitives/index.js"),o=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),a=function(e){function t(r){var n=e.call(this,null==r?"The HTTP request has failed.":r)||this;return n.name="HttpRequestError",Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(Error);t.HttpRequestError=a;var l=function(){function e(e){this.xhr=e,this.statusCode=this.xhr.status,this.statusText=this.xhr.statusText,this.isSuccessfulStatusCode=this.xhr.status>=200&&this.xhr.status<=299,console.assert(e)}return e.prototype.getHeaderValue=function(e){return this.xhr.getResponseHeader(e)},e.prototype.getHeaderValues=function(e){var t=this.xhr.getResponseHeader(e);return null==t?null:t.split(", ")},Object.defineProperty(e.prototype,"body",{get:function(){return this.xhr.response},enumerable:!0,configurable:!0}),e.prototype.ensureSuccessfulStatusCode=function(){if(!this.isSuccessfulStatusCode)throw new a("The HTTP response code "+this.statusCode+" indicates failure.")},e}();t.sendRequest=function(e,t){t&&t.throwIfCancellationRequested();var r,n=new XMLHttpRequest,i=new s.PromiseLikeResolutionSource;if(null!=e.username||null!=e.password?n.open(e.method,e.url,!0,e.username,e.password):n.open(e.method,e.url),e.timeout&&(n.timeout=e.timeout),e.headers)for(var c in e.headers)e.headers.hasOwnProperty(c)&&n.setRequestHeader(c,e.headers[c]);return null!=e.responseType&&(n.responseType=e.responseType),null!=e.withCredentials&&(n.withCredentials=e.withCredentials),n.onload=function(){console.assert(4==n.readyState),r&&r.dispose(),i.tryResolve(new l(n))},n.onerror=function(){r&&r.dispose(),i.tryReject(new a("An error occurred while sending the HTTP request."))},n.ontimeout=function(){r&&r.dispose(),i.tryReject(new o.PromiseCancelledError("HTTP request timeout has reached."))},r=t&&t.subscribe((function(){i.tryCancel()&&n.abort()})),n.send(e.body),i.promiseLike}},"../packages/tasklike-promise-library/dist/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("../packages/tasklike-promise-library/dist/common.js")),n(r("../packages/tasklike-promise-library/dist/primitives/index.js")),n(r("../packages/tasklike-promise-library/dist/http.js")),n(r("../packages/tasklike-promise-library/dist/delayedCallbacks.js"))},"../packages/tasklike-promise-library/dist/primitives/cancellation.js":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r("../packages/tasklike-promise-library/dist/primitives/eventEmitter.js"),o=r("../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js"),a=function(e){function t(r){var n=e.call(this,null==r?"Promise execution has been cancelled.":r)||this;return n.name="PromiseCancelledError",Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(Error);t.PromiseCancelledError=a;var l=function(){function e(){}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancelled},enumerable:!0,configurable:!0}),e.prototype.__int_cancel=function(){this._cancellationEvent&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),this._cancellationPlrs&&this._cancellationPlrs.tryResolve(),this._cancelled=!0},e.prototype.throwIfCancellationRequested=function(){if(this._cancelled)throw new a},e.prototype.subscribe=function(e){this._cancellationEvent||(this._cancellationEvent=new s.EventEmitter);var t=this._cancellationEvent.addListener(e,!0);return this._cancelled&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),t},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._cancellationPlrs&&(this._cancellationPlrs=new o.PromiseLikeResolutionSource,this._cancelled&&this._cancellationPlrs.tryResolve()),this._cancellationPlrs.promiseLike},enumerable:!0,configurable:!0}),e}(),c=new l;c.__int_cancel();var u=function(){function e(e){null!=e&&this.cancelAfter(e)}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancellationToken&&this._cancellationToken.isCancellationRequested},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._cancellationToken?this._cancellationToken.__int_cancel():this._cancellationToken=c},e.prototype.cancelAfter=function(e){var t=this;if(e<0)throw new RangeError("delay (arg#1) should be a non-negative number.");0===e?this.cancel():setTimeout((function(){t.cancel()}),e)},Object.defineProperty(e.prototype,"token",{get:function(){return this._cancellationToken||(this._cancellationToken=new l),this._cancellationToken},enumerable:!0,configurable:!0}),e.race=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e,i=function(){n.cancel()},s=0,o=t;s<o.length;s++){var a=o[s];a&&a.subscribe(i)}return n},e}();t.CancellationTokenSource=u},"../packages/tasklike-promise-library/dist/primitives/disposable.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineDisposable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{dispose:function(){e.forEach((function(e){return e.dispose()}))}}}},"../packages/tasklike-promise-library/dist/primitives/errors.js":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(r,n){var i=e.call(this)||this;return i.rawValue=r,i.inner=n,i.name="RawValueError",i.getBaseError=o,Object.setPrototypeOf(i,t),i}return i(t,e),t}(Error);function o(){for(var e=this;null!=e.inner;)e=e.inner;return e}t.setInnerError=function(e,t){return e instanceof Error?(Object.defineProperty(e,"inner",{value:t,writable:!1}),Object.defineProperty(e,"getBaseError",{value:o,writable:!1}),e):new s(e,t)};var a=function(e){function t(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=e.call(this)||this;return s.name="RawValueError",Object.setPrototypeOf(s,t),s.innerErrors=n.filter((function(e){return null!=e})),s}return i(t,e),t.prototype.forEach=function(e,r){e.call(r,this);for(var n=0,i=this.innerErrors;n<i.length;n++){var s=i[n];e.call(r,s),s instanceof t&&s.forEach(e,r)}},t}(Error);t.AggregateError=a},"../packages/tasklike-promise-library/dist/primitives/eventEmitter.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.addListener=function(e,t,r){var n=this,i={prev:this.tail,callback:e.bind(r),isAsync:t};return this.head||(console.assert(!this.tail),this.head=i),this.tail&&(this.tail.next=i),this.tail=i,{dispose:function(){i&&(i.prev?(console.assert(i.prev.next===i),i.prev.next=i.next):(console.assert(n.head===i),n.head=i.next),i.next?(console.assert(i.next.prev===i),i.next.prev=i.prev):(console.assert(n.tail===i),n.tail=i.prev),i=void 0)}}},e.prototype.raise=function(e){for(var t,r=this.head,n=[];r;)n.push([r.callback,!!r.isAsync]),r=r.next;for(var i=0,s=n;i<s.length;i++){var o=s[i],a=o[0];o[1]?(t||(t=Promise.resolve(e)),t.then(a)):a(e)}},e.prototype.clearListeners=function(){this.head=this.tail=void 0},e}();t.EventEmitter=n},"../packages/tasklike-promise-library/dist/primitives/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("../packages/tasklike-promise-library/dist/primitives/cancellation.js")),n(r("../packages/tasklike-promise-library/dist/primitives/disposable.js")),n(r("../packages/tasklike-promise-library/dist/primitives/errors.js")),n(r("../packages/tasklike-promise-library/dist/primitives/eventEmitter.js")),n(r("../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js")),n(r("../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js"))},"../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=r("../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js"),s=function(){function e(){}return e.prototype._ensurePromiseLikeInitialized=function(){this._promiseLike||(this._promiseLike=new o)},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._ensurePromiseLikeInitialized(),this._promiseLike},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__fulfill(e),!0)},e.prototype.tryCancel=function(){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(new n.PromiseCancelledError),!0)},e.prototype.tryReject=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(e),!0)},e}();t.PromiseLikeResolutionSource=s;var o=function(){function e(e,t){var r=this;this._onfulfilled=e,this._onrejected=t,this.fulfillNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryResolve(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__fulfill(e)}else if("string"==typeof r.next)return void console.error("Settled PromiseLike should not be resolved furthermore.",r.next);r.next="resolved",r.result=e},this.rejectNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryReject(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__reject(e)}else if("string"==typeof r.next)return void console.error("Settled PromisLike should not be rejected furthermore.",r.next);r.next="rejected",r.result=e}}return Object.defineProperty(e.prototype,"$__int__settled",{get:function(){return"string"==typeof this.next},enumerable:!0,configurable:!0}),e.prototype.$__int__fulfill=function(e){if("string"!=typeof this.next)try{if(this._onfulfilled){var t=this._onfulfilled(e);this.fulfillNext(t)}else this.fulfillNext(e)}catch(e){this._onrejected&&this.rejectNext(e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.$__int__reject=function(e){if("string"!=typeof this.next)try{if(this._onrejected){var t=this._onrejected(e);this.fulfillNext(t)}else this.rejectNext(e)}catch(e){this._onrejected?this.rejectNext(e):console.error("Uncaught SynchronousPromiseLike rejection: %o",e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.then=function(t,r){var n=new e(t,r);return this.next||(this.next=[]),Array.isArray(this.next)?this.next.push(n):"resolved"===this.next?n.$__int__fulfill(this.result):"rejected"===this.next?n.$__int__reject(this.result):console.error("Invalid state."),n},e.prototype.forceAsync=function(){return this.asnycPrs?this.asnycPrs.promise:"resolved"===this.next?Promise.resolve(this.result):"rejected"===this.next?Promise.reject(this.result):(console.assert(!this.next||Array.isArray(this.next)),this.asnycPrs=new i.PromiseResolutionSource,this.asnycPrs.promise)},e}()},"../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=function(){function e(){}return e.prototype._ensurePromiseInitialized=function(){var e=this;null==this._promise&&(this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r})))},Object.defineProperty(e.prototype,"promise",{get:function(){return this._ensurePromiseInitialized(),this._promise},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseInitialized(),!!this._resolve&&(this._resolve(e),this._resolve=this._reject=void 0,!0)},e.prototype.tryCancel=function(){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(new n.PromiseCancelledError),this._resolve=this._reject=void 0,!0)},e.prototype.tryReject=function(e){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(e),this._resolve=this._reject=void 0,!0)},e}();t.PromiseResolutionSource=i},"./src/index.ts":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r("../packages/tasklike-promise-library/dist/index.js"),a=s(r("../packages/tasklike-promise-library/dist/index.js"));function l(e,t){return t?t.querySelector(e):document.querySelector(e)}function c(e){var t=document.createElement("div");return t.classList.add("error"),t.innerText=e&&e.stack||String(e),t}function u(e,t){var r=document.createElement("div");return r.innerText=t,e.appendChild(r),r}function d(e,t,r){return n(this,void 0,void 0,(function(){var n,s,a,u,d,p;return i(this,(function(i){switch(i.label){case 0:n=new o.CancellationTokenSource,s=function(){n.cancel()},a=l(t),(u=r?l(r):null)&&(u.addEventListener("click",s),u.disabled=!1),a.innerText="",i.label=1;case 1:return i.trys.push([1,4,5,6]),(d=e(a,u?n.token:void 0))?[4,d]:[3,3];case 2:i.sent(),i.label=3;case 3:return[3,6];case 4:return p=i.sent(),a.appendChild(c(p)),console.error(p),[3,6];case 5:return u&&(u.removeEventListener("click",s),u.disabled=!0),[7];case 6:return[2]}}))}))}function p(e){u(e,"Caller: Call myAsyncFunction."),function(){n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return u(e,"Callee: Do some work synchronously in myAsyncFunction…"),u(e,"Callee: myAsyncFunction is to yield…"),[4,o.yielded()];case 1:return t.sent(),u(e,"Callee: back from yielded state…"),u(e,"Callee: exiting."),[2]}}))}))}(),u(e,"Caller: We decide don't await for myAsyncFunction."),u(e,"Caller: exiting.")}function f(e,t){return n(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return r=u(e,"Delay 0ms (SetTimeout(0) + yielded)."),[4,o.delay(0,t)];case 1:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 500ms."),[4,o.delay(500,t)];case 2:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 1s."),[4,o.delay(1e3,t)];case 3:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 2s."),[4,o.delay(2e3,t)];case 4:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 3s."),[4,o.delay(3e3,t)];case 5:return n.sent(),r.innerText+=" Finished.",u(e,"----------"),[2]}}))}))}function h(e,t){return n(this,void 0,void 0,(function(){function r(r){return n(this,void 0,void 0,(function(){var n,s,a,l;return i(this,(function(i){switch(i.label){case 0:n=u(e,r.method+" request to "+r.url+"…"),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,o.sendRequest(r,t)];case 2:return s=i.sent(),n.innerText+=" "+s.statusCode+" "+s.statusText,u(e,"Content-Type: "+s.getHeaderValue("Content-Type")),(a=document.createElement("pre")).classList.add("http-response-body"),a.innerText=s.body,e.appendChild(a),n=u(e,"ensureSuccessfulStatusCode…"),s.ensureSuccessfulStatusCode(),n.innerText+=" Successful.",[3,5];case 3:if((l=i.sent())instanceof o.PromiseCancelledError)throw l;return e.appendChild(c(l)),[3,5];case 4:return u(e,"----------"),[7];case 5:return[2]}}))}))}return i(this,(function(e){switch(e.label){case 0:return[4,r({url:"tsconfig.json?rand="+Math.random(),method:"GET",timeout:2e3})];case 1:return e.sent(),[4,r({url:"tsconfig.json",method:"POST"})];case 2:return e.sent(),[2]}}))}))}function y(e,t){return n(this,void 0,void 0,(function(){var r,n,s,a,l,c,d;return i(this,(function(i){switch(i.label){case 0:t&&t.throwIfCancellationRequested(),u(e,"requestIdleCallbackAsync"),r=u(e,"Requesting…"),n=0,s=0,i.label=1;case 1:return!t||t.isCancellationRequested?[3,3]:[4,o.requestIdleCallbackAsync({timeout:1e3},t)];case 2:return c=i.sent(),d=c.deadline.timeRemaining(),n++,c.deadline.didTimeout&&s++,a=null==a?d:Math.min(d,a),l=null==l?d:Math.max(d,l),r.innerText="Requested: "+n+" times, timed-outs: "+s+", minIdleTime: "+a+", maxIdleTime: "+l,[3,1];case 3:return[2]}}))}))}function m(e,t){return n(this,void 0,void 0,(function(){var r,n,s,a,l,c,d,p,f,h,y,m,v,_,b,k,j;return i(this,(function(i){switch(i.label){case 0:return t&&t.throwIfCancellationRequested(),u(e,"requestAnimationFrameAsync"),r=u(e,"Requesting…"),n=u(e,"This is <DIV>."),30,(s=document.createElement("button")).innerText="ball",s.style.borderRadius="15px",s.style.position="absolute",s.style.width=s.style.height="30px",n.classList.add("canvas"),n.appendChild(s),a=performance.now(),l=a,c=0,d=0,p=200,f=200,0,h=200,y=0,[4,o.requestAnimationFrameAsync(t)];case 1:i.sent(),n.scrollIntoView(),i.label=2;case 2:return t&&t.isCancellationRequested?[3,4]:[4,o.requestAnimationFrameAsync(t)];case 3:return m=i.sent(),v=m.time-l,_=n.clientWidth,b=n.clientHeight,j=d+f*(v/1e3),(k=c+p*(v/1e3))<0||k+s.offsetWidth>_?(p=-p*(.2*Math.random()+.8),c=k<0?0:_-s.offsetWidth):(c=k,s.style.left=k+"px"),j<0||j+s.offsetHeight>b?(f=-f*(.2*Math.random()+.8),d=j<0?0:b-s.offsetHeight):(d=j,f+=h*(v/1e3),s.style.top=j+"px"),l=m.time,++y>30&&(r.innerText="Frames: "+y+", time: "+((m.time-a)/1e3).toFixed(2)+" sec., FPS: "+(1e3*y/(m.time-a)).toFixed(2)+"."),[3,2];case 4:return[2]}}))}))}l("#tpl-yielded-run").addEventListener("click",(function(){return d(p,"#tpl-yielded-panel")})),l("#tpl-delay-run").addEventListener("click",(function(){return d(f,"#tpl-delay-panel","#tpl-delay-cancel")})),l("#tpl-sendrequest-run").addEventListener("click",(function(){return d(h,"#tpl-sendrequest-panel","#tpl-sendrequest-cancel")})),l("#tpl-requesticb-run").addEventListener("click",(function(){return d(y,"#tpl-requesticb-panel","#tpl-requesticb-cancel")})),l("#tpl-requestaf-run").addEventListener("click",(function(){return d(m,"#tpl-requestaf-panel","#tpl-requestaf-cancel")})),window.TPL=a}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvZGVsYXllZENhbGxiYWNrcy5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvaHR0cC5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvY2FuY2VsbGF0aW9uLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9wcmltaXRpdmVzL2Rpc3Bvc2FibGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvZXJyb3JzLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9wcmltaXRpdmVzL2V2ZW50RW1pdHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvcHJpbWl0aXZlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvcHJpbWl0aXZlcy9wcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvcHJvbWlzZVJlc29sdXRpb25Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2FuY2VsbGF0aW9uXzEiLCJwcm9taXNlUmVzb2x1dGlvblNvdXJjZV8xIiwiX3lpZWxkZWRQcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJkZWxheSIsIm1pbGxpc2Vjb25kcyIsImNhbmNlbGxhdGlvblRva2VuIiwiUmFuZ2VFcnJvciIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJwcnMiLCJQcm9taXNlUmVzb2x1dGlvblNvdXJjZSIsImlkIiwic2V0VGltZW91dCIsInRyeVJlc29sdmUiLCJzdWJzY3JpYmUiLCJjbGVhclRpbWVvdXQiLCJ0cnlSZWplY3QiLCJQcm9taXNlQ2FuY2VsbGVkRXJyb3IiLCJwcm9taXNlIiwieWllbGRlZCIsImZyb21SZXNvbHZlZCIsInJlc3VsdCIsImZyb21SZWplY3RlZCIsInJlYXNvbiIsInJlamVjdCIsImZyb21DYW5jZWxsZWQiLCJwcmltaXRpdmVzXzEiLCJzZXRUaW1lb3V0QXN5bmMiLCJzdWJzY3JpcHRpb24iLCJwbHJzIiwiUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlIiwid2luZG93IiwiZGlzcG9zZSIsInRyeUNhbmNlbCIsInByb21pc2VMaWtlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMiLCJvcHRpb25zIiwicmVxdWVzdElkbGVDYWxsYmFjayIsImRlYWRsaW5lIiwiY2FuY2VsSWRsZUNhbGxiYWNrIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInRoaXMiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fIiwiY29uc3RydWN0b3IiLCJIdHRwUmVxdWVzdEVycm9yIiwiX3N1cGVyIiwibWVzc2FnZSIsIl90aGlzIiwiRXJyb3IiLCJYaHJSZXNwb25zZSIsInhociIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiaXNTdWNjZXNzZnVsU3RhdHVzQ29kZSIsImNvbnNvbGUiLCJhc3NlcnQiLCJnZXRIZWFkZXJWYWx1ZSIsImhlYWRlck5hbWUiLCJnZXRSZXNwb25zZUhlYWRlciIsImdldEhlYWRlclZhbHVlcyIsInNwbGl0IiwicmVzcG9uc2UiLCJjb25maWd1cmFibGUiLCJlbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZSIsInNlbmRSZXF1ZXN0IiwicmVxdWVzdCIsImNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbiIsIlhNTEh0dHBSZXF1ZXN0IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm9wZW4iLCJtZXRob2QiLCJ1cmwiLCJ0aW1lb3V0IiwiaGVhZGVycyIsIm5hbWVfMSIsInNldFJlcXVlc3RIZWFkZXIiLCJyZXNwb25zZVR5cGUiLCJ3aXRoQ3JlZGVudGlhbHMiLCJvbmxvYWQiLCJyZWFkeVN0YXRlIiwib25lcnJvciIsIm9udGltZW91dCIsImFib3J0Iiwic2VuZCIsImJvZHkiLCJfX2V4cG9ydCIsImV2ZW50RW1pdHRlcl8xIiwicHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXzEiLCJDYW5jZWxsYXRpb25Ub2tlbiIsIl9jYW5jZWxsZWQiLCJfX2ludF9jYW5jZWwiLCJfY2FuY2VsbGF0aW9uRXZlbnQiLCJyYWlzZSIsImNsZWFyTGlzdGVuZXJzIiwiX2NhbmNlbGxhdGlvblBscnMiLCJjYWxsYmFjayIsIkV2ZW50RW1pdHRlciIsImFkZExpc3RlbmVyIiwiY2FuY2VsbGVkVG9rZW4iLCJDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSIsImNhbmNlbEFmdGVyRGVsYXkiLCJjYW5jZWxBZnRlciIsIl9jYW5jZWxsYXRpb25Ub2tlbiIsImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwiY2FuY2VsIiwicmFjZSIsImNhbmNlbGxhdGlvblRva2VucyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY3RzIiwiY2FuY2VsbGF0aW9uQ2FsbGJhY2siLCJfYSIsImNhbmNlbGxhdGlvblRva2Vuc18xIiwidG9rZW4iLCJjb21iaW5lRGlzcG9zYWJsZSIsImRpc3Bvc2FibGVzIiwiZm9yRWFjaCIsIlJhd1ZhbHVlRXJyb3IiLCJyYXdWYWx1ZSIsImlubmVyIiwiZ2V0QmFzZUVycm9yIiwiY3VycmVudCIsInNldElubmVyRXJyb3IiLCJlcnJvciIsIndyaXRhYmxlIiwiQWdncmVnYXRlRXJyb3IiLCJlcnJvcnMiLCJpbm5lckVycm9ycyIsImZpbHRlciIsImUiLCJ0aGlzQXJnIiwibGlzdGVuZXIiLCJpc0FzeW5jIiwiaXRlbSIsInByZXYiLCJ0YWlsIiwiaGVhZCIsIm5leHQiLCJ1bmRlZmluZWQiLCJhcmciLCJyZXNvbHZlZFByb21pc2UiLCJoYW5kbGVycyIsInB1c2giLCJoYW5kbGVyc18xIiwiaGFuZGxlciIsInRoZW4iLCJfZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCIsIl9wcm9taXNlTGlrZSIsIlN5bmNocm9ub3VzUHJvbWlzZUxpa2UiLCIkX19pbnRfX3NldHRsZWQiLCIkX19pbnRfX2Z1bGZpbGwiLCIkX19pbnRfX3JlamVjdCIsIl9vbmZ1bGZpbGxlZCIsIl9vbnJlamVjdGVkIiwiZnVsZmlsbE5leHQiLCJuZXh0UmVzdWx0IiwicmVqZWN0TmV4dCIsImFzbnljUHJzIiwiaXNBcnJheSIsIm5leHRSZWFzb24iLCJwcmV2UmVzdWx0Iiwib25mdWxmaWxsZWQiLCJvbnJlamVjdGVkIiwiZm9yY2VBc3luYyIsIl9lbnN1cmVQcm9taXNlSW5pdGlhbGl6ZWQiLCJfcHJvbWlzZSIsInJlcyIsInJlaiIsIl9yZXNvbHZlIiwiX3JlamVjdCIsIiQiLCJzZWxlY3RvciIsInNjb3BlIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50IiwiYnVpbGRFcnJvclBhbmVsIiwiZXJyQm94IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVyVGV4dCIsInN0YWNrIiwiU3RyaW5nIiwiYXBwZW5kTGluZSIsImNvbnRhaW5lciIsImNvbnRlbnQiLCJsaW5lIiwiYXBwZW5kQ2hpbGQiLCJydW5EZW1vIiwiZGVtb0Z1bmMiLCJwYW5lbFNlbGVjdG9yIiwiY2FuY2VsbGF0aW9uQnV0dG9uU2VsZWN0b3IiLCJvbkNhbmNlbCIsInBhbmVsIiwiY2FuY2VsQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2FibGVkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlbW9ZaWVsZCIsIm15QXN5bmNGdW5jdGlvbiIsImRlbW9EZWxheSIsImN0IiwibGFzdExpbmUiLCJkZW1vSHR0cCIsInNlbmRBbmRSZXBvcnQiLCJib2R5Q29udGFpbmVyIiwiTWF0aCIsInJhbmRvbSIsImRlbW9SZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMiLCJjb3VudGVyIiwidGltZW91dENvdW50ZXIiLCJjb250ZXh0IiwidGltZVJlbWFpbmluZyIsImRpZFRpbWVvdXQiLCJtaW5JZGxlVGltZSIsIm1pbiIsIm1heElkbGVUaW1lIiwibWF4IiwiZGVtb1JlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jIiwiY2FudmFzIiwiYmFsbCIsInN0eWxlIiwiYm9yZGVyUmFkaXVzIiwicG9zaXRpb24iLCJ3aWR0aCIsImhlaWdodCIsImJhbGxTaXplIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJwcmV2VGltZSIsInB4IiwicHkiLCJ2eCIsInZ5IiwiYXkiLCJmcmFtZUNvdW50ZXIiLCJzY3JvbGxJbnRvVmlldyIsImZyYW1lRHVyYXRpb24iLCJjYW52YXNXaWR0aCIsImNsaWVudFdpZHRoIiwiY2FudmFzSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwieSIsIngiLCJvZmZzZXRXaWR0aCIsImxlZnQiLCJvZmZzZXRIZWlnaHQiLCJ0b3AiLCJ0b0ZpeGVkIiwiVFBMIiwidHBsQW1iaWVudCJdLCJtYXBwaW5ncyI6IjthQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdB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TixFQUNtQixLQUNmM0wsRUFBT21JLFVBQVksV0FBV3dELEVBQVksYUFBYXpCLEVBQVExTCxLQUFPME0sR0FBYSxLQUFNc0IsUUFBUSxHQUFFLGdCQUErQixJQUFmYixHQUF1QnpCLEVBQVExTCxLQUFPME0sSUFBWXNCLFFBQVEsR0FBRSxLLDhCQXZMdkwvRSxFQUFFLG9CQUFxQnlCLGlCQUFpQixTQUFTLFdBQU0sT0FBQVAsRUFBUVUsRUFBVyx5QkFDMUU1QixFQUFFLGtCQUFtQnlCLGlCQUFpQixTQUFTLFdBQU0sT0FBQVAsRUFBUVksRUFBVyxtQkFBb0Isd0JBQzVGOUIsRUFBRSx3QkFBeUJ5QixpQkFBaUIsU0FBUyxXQUFNLE9BQUFQLEVBQVFlLEVBQVUseUJBQTBCLDhCQUN2R2pDLEVBQUUsdUJBQXdCeUIsaUJBQWlCLFNBQVMsV0FBTSxPQUFBUCxFQUFRb0IsRUFBOEIsd0JBQXlCLDZCQUN6SHRDLEVBQUUsc0JBQXVCeUIsaUJBQWlCLFNBQVMsV0FBTSxPQUFBUCxFQUFROEIsRUFBZ0MsdUJBQXdCLDRCQUV4SHZNLE9BQWlEdU8sSUFBTUMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC50c1wiKTtcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIENvbnRhaW5zIGNvbW1vbiB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgYFByb21pc2VgLlxyXG4gKi9cclxuLyoqICovXHJcbnZhciBjYW5jZWxsYXRpb25fMSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXMvY2FuY2VsbGF0aW9uXCIpO1xyXG52YXIgcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VfMSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXMvcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VcIik7XHJcbnZhciBfeWllbGRlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuLyoqXHJcbiAqIEdldHMgYSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyBhZnRlciB0aGUgc3BlY2lmaWVkIHRpbWUgb2YgZGVsYXkuXHJcbiAqIEBwYXJhbSBtaWxsaXNlY29uZHMgbm9uLW5lZ2F0aXZlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHRoZSByZXR1cm5lZCBgUHJvbWlzZWAgcmVzb2x2ZXMuXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSByZXR1cm5lZCBgUHJvbWlzZWAuXHJcbiAqIEBzZWUge0BsaW5rIHlpZWxkZWR9XHJcbiAqIEB0b2RvIG1ha2UgdGhpcyBmdW5jdGlvbiBhbHNvIHdvcmtzIGluIG5vZGVqcy5cclxuICovXHJcbmZ1bmN0aW9uIGRlbGF5KG1pbGxpc2Vjb25kcywgY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGlmIChtaWxsaXNlY29uZHMgPCAwKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJtaWxsaXNlY29uZHMgKGFyZyMxKSBzaG91bGQgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLlwiKTtcclxuICAgIH1cclxuICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIHZhciBwcnMgPSBuZXcgcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VfMS5Qcm9taXNlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgLy8gVE9ETyBtYWtlIHNldFRpbWVvdXQgaW5qZWN0YWJsZS5cclxuICAgIHZhciBpZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBwcnMudHJ5UmVzb2x2ZSgpOyB9LCBtaWxsaXNlY29uZHMpO1xyXG4gICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgICAgICAgcHJzLnRyeVJlamVjdChuZXcgY2FuY2VsbGF0aW9uXzEuUHJvbWlzZUNhbmNlbGxlZEVycm9yKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBycy5wcm9taXNlO1xyXG59XHJcbmV4cG9ydHMuZGVsYXkgPSBkZWxheTtcclxuLyoqXHJcbiAqIFJldHVybnMgYSBgUHJvbWlzZUxpa2VgIGluc3RhbmNlIHRoYXQsIHdoZW4gdXNlZCB3aXRoIGBhd2FpdGAgZXhwcmVzc2lvbixcclxuICogYXN5bmNocm9ub3VzbHkgeWllbGRzIGJhY2sgdG8gdGhlIGNvZGUgYmVsb3cuIFRoZSBpbnN0YW5jZSByZXR1cm5lZCBiZWhhdmVzXHJcbiAqIGxpa2UgdGhlIHJldHVybmVkIHZhbHVlIG9mIGBQcm9taXNlLnJlc29sdmUoKWAuXHJcbiAqXHJcbiAqIE5vdGU6IFRoZSBtYWpvciBkaWZmZXJlbmNlIGJldHdlZW4gYHlpZWxkZWQoKWAgYW5kIGBkZWxheSgwKWAsIGlzIHRoYXQgYGRlbGF5YCB3aWxsXHJcbiAqIHJlc29sdmUgdGhlIHJldHVybmVkIGBQcm9taXNlYCBpbiBhIGBzZXRUaW1lb3V0YCBjYWxsYmFjaywgZXZlbiBpZiB0aGUgZGVsYXkgdGltZSBpcyBgMGAuXHJcbiAqIFRoaXMgd2lsbCBjYXVzZSBgUHJvbWlzZWAgcmV0dXJuZWQgYnkgYGRlbGF5YCBiZSAqcmVzb2x2ZWQqIGluIG1hcmNvVGFzayBxdWV1ZSBvbiBzb21lIGV4ZWN1dGlvbiBlbmdpbmUuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGRlbGF5fVxyXG4gKi9cclxuZnVuY3Rpb24geWllbGRlZCgpIHtcclxuICAgIHJldHVybiBfeWllbGRlZFByb21pc2U7XHJcbn1cclxuZXhwb3J0cy55aWVsZGVkID0geWllbGRlZDtcclxuLyoqXHJcbiAqIEdldHMgYSByZXNvbHZlZCBgUHJvbWlzZWAuXHJcbiAqIFRoaXMgZnVuY3Rpb24gYmVoYXZlcyB0aGUgc2FtZSBhcyBgUHJvbWlzZS5yZXNvbHZlYC5cclxuICogQHBhcmFtIHJlc3VsdCB0aGUgcmVzdWx0IG9mIHRoZSByZXNvbHZlZCBgUHJvbWlzZWAuXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tUmVzb2x2ZWQocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XHJcbn1cclxuZXhwb3J0cy5mcm9tUmVzb2x2ZWQgPSBmcm9tUmVzb2x2ZWQ7XHJcbi8qKlxyXG4gKiBHZXRzIGEgcmVqZWN0ZWQgYFByb21pc2VgLlxyXG4gKiBUaGlzIGZ1bmN0aW9uIGJlaGF2ZXMgdGhlIHNhbWUgYXMgYFByb21pc2UucmVqZWN0YC5cclxuICogQHBhcmFtIHJlYXNvbiB0aGUgcmVqZWN0aW9uIHJlYXNvbiwgb3IgdGhlIGBFcnJvcmAgY2F1c2luZyB0aGUgcmVqZWN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbVJlamVjdGVkKHJlYXNvbikge1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XHJcbn1cclxuZXhwb3J0cy5mcm9tUmVqZWN0ZWQgPSBmcm9tUmVqZWN0ZWQ7XHJcbi8qKlxyXG4gKiBHZXRzIGEgY2FuY2VsbGVkIGBQcm9taXNlYC5cclxuICpcclxuICogQSBjYW5jZWxsZWQgYFByb21pc2VgIGlzIGEgYFByb21pc2VgIHJlamVjdGVkIHdpdGgge0BsaW5rIFByb21pc2VDYW5jZWxsZWRFcnJvcn0uXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tQ2FuY2VsbGVkKCkge1xyXG4gICAgLy8gV2Ugd2FudCB0byBjYXB0dXJlIHRoZSBzdGFjayB0cmFjZS5cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgY2FuY2VsbGF0aW9uXzEuUHJvbWlzZUNhbmNlbGxlZEVycm9yKCkpO1xyXG59XHJcbmV4cG9ydHMuZnJvbUNhbmNlbGxlZCA9IGZyb21DYW5jZWxsZWQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogQG1vZHVsZVxyXG4gKiBDb250YWlucyBhZGFwdGVyIGZ1bmN0aW9ucyB0aGF0IGFsbG93cyB5b3UgdG8gc3dpdGNoIGludG8gYW5vdGhlciBjb250ZXh0IHdoZW4geW91IHN1YnNjcmliZSB0aGUgcmV0dXJuZWQgYFByb21pc2VMaWtlYHMuXHJcbiAqIEZvciBleGFtcGxlLCBpbiBhc3luYyBmdW5jdGlvbnMsIGlmIHlvdSB3YW50IHRvIGV4ZWN1dGUgcGFydCBvZiB5b3VyIGxvZ2ljIGluc2lkZSBhblxyXG4gKiBbYW5pbWF0aW9uIGZyYW1lXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvd2luZG93L3JlcXVlc3RBbmltYXRpb25GcmFtZSksXHJcbiAqIHlvdSBtYXkgbm93IHVzZSBhIHNpbXBsZSBsb29wIGluc2lkZSB0aGUgYXN5bmNocm9ub3VzIGZ1bmN0aW9uLlxyXG4gKiBgYGB0c1xyXG4gKiBpbXBvcnQgeyBJQ2FuY2VsbGF0aW9uVG9rZW4sIHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jIH0gZnJvbSBcInRhc2tsaWtlLXByb21pc2UtbGlicmFyeVwiO1xyXG4gKlxyXG4gKiBhc3luYyBmdW5jdGlvbiBwbGF5QW5pbWF0aW9uKGNhbmNlbGxhdGlvblRva2VuPzogSUNhbmNlbGxhdGlvblRva2VuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAqICAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAqICAgICBsZXQgcHJldlRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICogICAgIGxldCBjdXJyZW50V2lkdGggPSAwO1xyXG4gKiAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LnBhbmVsXCIpO1xyXG4gKiAgICAgd2hpbGUgKCFjYW5jZWxsYXRpb25Ub2tlbiB8fCAhY2FuY2VsbGF0aW9uVG9rZW4uaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQpIHtcclxuICogICAgICAgICBjb25zdCBhbmltYXRpb25GcmFtZSA9IGF3YWl0IHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKGNhbmNlbGxhdGlvblRva2VuKTtcclxuICogICAgICAgICAvLyBGcm9tIG5vdyBvbiwgd2UgYXJlIGluc2lkZSBSQUYgY2FsbGJhY2suXHJcbiAqICAgICAgICAgLy8gYGFuaW1hdGlvbkZyYW1lYCBjb250YWlucyB0aGUgaW5mb3JtYXRpb24gcGFzc2VkIGZyb20gUkFGIGNhbGxiYWNrLFxyXG4gKiAgICAgICAgIC8vIGJhc2ljYWxseSwgdGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGFuaW1hdGlvbiBmcmFtZS5cclxuICogICAgICAgICAvLyBNYWtlIHNvbWUgYW5pbWF0aW9uIGhlcmUuXHJcbiAqICAgICAgICAgY29uc3QgZnJhbWVEdXJhdGlvbiA9IGFuaW1hdGlvbkZyYW1lLnRpbWUgLSBwcmV2VGltZTtcclxuICogICAgICAgICAvLyBMZXQgdGhlIHdpZHRoIG9mIC5wYW5lbCBpbmNyZWFzZSBieSAxMCBwaXhlbC9zZWMuXHJcbiAqICAgICAgICAgY3VycmVudFdpZHRoICs9IGZyYW1lRHVyYXRpb24gKiAxMCAqIGZyYW1lRHVyYXRpb24gLyAxMDAwO1xyXG4gKiAgICAgICAgIHBhbmVsLnN0eWxlcy53aXRoID0gTWF0aC5yb3VuZChjdXJyZW50V2lkdGgpICsgXCJweFwiO1xyXG4gKiAgICAgICAgIHByZXZUaW1lID0gYW5pbWF0aW9uRnJhbWUudGltZTtcclxuICogICAgICAgICAvLyBFbmQgb2YgUkFGIGNhbGxiYWNrLlxyXG4gKiAgICAgICAgIC8vIChNb3JlIHByZWNpc2VseSwgdGhlIGNhbGxiYWNrIHN0b3AgYXQgdGhlIG5leHQgYGF3YWl0IHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jYCBleHByZXNzaW9uLilcclxuICogICAgICAgICAvLyBUaGUgbmV4dCBgYXdhaXQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmNgIGV4cHJlc3Npb24gd2lsbCBsZXQgdXMgZW50ZXIgYW5vdGhlciBSQUYgY2FsbGJhY2suXHJcbiAqICAgICAgICAgLy8gVG8gZXhpdCB0aGUgY3VycmVudCBSQUYgY2FsbGJhY2sgYW5kIGVudGVyIGFub3RoZXIgYXJiaXRyYXJ5IGFzeW5jaHJvbm91cyBjYWxsYmFjayBpbiB0aGUgc2FtZSBhc3luYyBmdW5jdGlvbixcclxuICogICAgICAgICAvLyBVc2UgYHlpZWxkZWQoKWAgb3IgYGRlbGF5KDApYCBmcm9tIGBcImNvbW1vblwiYCBtb2R1bGUuXHJcbiAqICAgICB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG4vKiogKi9cclxudmFyIHByaW1pdGl2ZXNfMSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXNcIik7XHJcbi8qKlxyXG4gKiBHZXRzIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgd2luZG93LnNldFRpbWVvdXRgIGNhbGxiYWNrLlxyXG4gKiBAcGFyYW0gbWlsbGlzZWNvbmRzIHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYmVmb3JlIHRoZSBgUHJvbWlzZUxpa2VgIHJlc29sdmVzLlxyXG4gKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW4gYSB0b2tlbiB1c2VkIHRvIGNhbmNlbCB0aGUgdGltZW91dCB3aXRoIGB3aW5kb3cuY2xlYXJUaW1lb3V0YC5cclxuICogQHJldHVybnMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cuc2V0VGltZW91dGAgY2FsbGJhY2suXHJcbiAqIFJlc29sdmVkIHZhbHVlIGlzIHRoZSB0aW1lb3V0IElEIHJldHVybmVkIGZyb20gYHdpbmRvdy5zZXRUaW1lb3V0YC5cclxuICogQHJlbWFya3MgQ29tcGFyZWQgd2l0aCB7QGxpbmsgZGVsYXl9LCB0aGlzIGZ1bmN0aW9uIGlzIG1vcmUgbG93LWxldmVsIGFuZCB5b3Ugc2hvdWxkIHByZWZlciB0b1xyXG4gKiB1c2Uge0BsaW5rIGRlbGF5fSB3aGVuIHBvc3NpYmxlLlxyXG4gKi9cclxuZnVuY3Rpb24gc2V0VGltZW91dEFzeW5jKG1pbGxpc2Vjb25kcywgY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIHZhciBwbHJzID0gbmV3IHByaW1pdGl2ZXNfMS5Qcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBzdWJzY3JpcHRpb247XHJcbiAgICB2YXIgaWQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZXNvbHZlKGlkKTtcclxuICAgIH0sIG1pbGxpc2Vjb25kcyk7XHJcbiAgICBpZiAoY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gPSBjYW5jZWxsYXRpb25Ub2tlbi5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgICAgICAgcGxycy50cnlDYW5jZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBwbHJzLnByb21pc2VMaWtlO1xyXG59XHJcbmV4cG9ydHMuc2V0VGltZW91dEFzeW5jID0gc2V0VGltZW91dEFzeW5jO1xyXG4vKipcclxuICogR2V0cyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxyXG4gKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW4gYSB0b2tlbiB1c2VkIHRvIGNhbmNlbCB0aGUgdGltZW91dCB3aXRoIGB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWVgLlxyXG4gKiBAcmV0dXJucyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxyXG4gKiBSZXNvbHZlZCB2YWx1ZSBjb250YWlucyBSQUYgY29udGV4dC5cclxuICovXHJcbmZ1bmN0aW9uIHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgcGxycyA9IG5ldyBwcmltaXRpdmVzXzEuUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCk7XHJcbiAgICB2YXIgc3Vic2NyaXB0aW9uO1xyXG4gICAgdmFyIGlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgIHN1YnNjcmlwdGlvbiAmJiBzdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIHBscnMudHJ5UmVzb2x2ZSh7IGlkOiBpZCwgdGltZTogdGltZSB9KTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcclxuICAgICAgICAgICAgcGxycy50cnlDYW5jZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBwbHJzLnByb21pc2VMaWtlO1xyXG59XHJcbmV4cG9ydHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYztcclxuLyoqXHJcbiAqIEdldHMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFja2AgY2FsbGJhY2suXHJcbiAqIEl0IGJhc2ljYWxseSBleGVjdXRlcyB0aGUgY2FsbGJhY2sgd2hlbiB0aGUgSmF2YVNjcmlwdCBldmVudCBsb29wIGlzIGlkbGUsIG9yIHRoZSBzcGVjaWZpZWQgdGltZW91dCBoYXMgcmVhY2hlZC5cclxuICogQHBhcmFtIG9wdGlvbnMgb3B0aW9ucyBwYXNzZWQgaW50byBgcmVxdWVzdElkbGVDYWxsYmFja2AgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSB0aW1lb3V0IHdpdGggYHdpbmRvdy5jYW5jZWxJZGxlQ2FsbGJhY2tgLlxyXG4gKiBAcmV0dXJucyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrYCBjYWxsYmFjay5cclxuICogUmVzb2x2ZWQgdmFsdWUgY29udGFpbnMgcmVxdWVzdElkbGVDYWxsYmFjayBjb250ZXh0LlxyXG4gKiBAZXhwZXJpbWVudGFsIFVuZGVybHlpbmcgYHJlcXVlc3RJZGxlQ2FsbGJhY2tgIGZ1bmN0aW9uIGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlLlxyXG4gKiBTZWUgW01ETiBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L3JlcXVlc3RJZGxlQ2FsbGJhY2spIGZvciBtb3JlIGluZm9ybWF0aW9uXHJcbiAqIG9uIGl0IGNvbXBhdGliaWxpdHkuXHJcbiAqL1xyXG5mdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMob3B0aW9ucywgY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIHZhciBwbHJzID0gbmV3IHByaW1pdGl2ZXNfMS5Qcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBzdWJzY3JpcHRpb247XHJcbiAgICB2YXIgaWQgPSB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayhmdW5jdGlvbiAoZGVhZGxpbmUpIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gJiYgc3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlc29sdmUoeyBpZDogaWQsIGRlYWRsaW5lOiBkZWFkbGluZSB9KTtcclxuICAgIH0sIG9wdGlvbnMpO1xyXG4gICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayhpZCk7XHJcbiAgICAgICAgICAgIHBscnMudHJ5Q2FuY2VsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGxycy5wcm9taXNlTGlrZTtcclxufVxyXG5leHBvcnRzLnJlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYyA9IHJlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsYXllZENhbGxiYWNrcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogQ29udGFpbnMgZnVuY3Rpb25zIGZvciBhd2FpdGFibGUgSFRUUCByZXF1ZXN0LlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBzZW5kUmVxdWVzdH1cclxuICovXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKiAqL1xyXG52YXIgcHJpbWl0aXZlc18xID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlc1wiKTtcclxudmFyIGNhbmNlbGxhdGlvbl8xID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlcy9jYW5jZWxsYXRpb25cIik7XHJcbi8qKlxyXG4gKiBBbiBlcnJvciByYWlzZXMgd2hlbiBhbiBIVFRQIHJlcXVlc3QgZmFpbHMgZHVlIHRvIG5ldHdvcmsgdHJhbnNwb3J0YXRpb25cclxuICogb3Igc2VydmVyIHJlc3BvbnNlLlxyXG4gKi9cclxudmFyIEh0dHBSZXF1ZXN0RXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoSHR0cFJlcXVlc3RFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEh0dHBSZXF1ZXN0RXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UgPT0gbnVsbCA/IFwiVGhlIEhUVFAgcmVxdWVzdCBoYXMgZmFpbGVkLlwiIDogbWVzc2FnZSkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5uYW1lID0gXCJIdHRwUmVxdWVzdEVycm9yXCI7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBIdHRwUmVxdWVzdEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEh0dHBSZXF1ZXN0RXJyb3I7XHJcbn0oRXJyb3IpKTtcclxuZXhwb3J0cy5IdHRwUmVxdWVzdEVycm9yID0gSHR0cFJlcXVlc3RFcnJvcjtcclxudmFyIFhoclJlc3BvbnNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gWGhyUmVzcG9uc2UoeGhyKSB7XHJcbiAgICAgICAgdGhpcy54aHIgPSB4aHI7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNDb2RlID0gdGhpcy54aHIuc3RhdHVzO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMueGhyLnN0YXR1c1RleHQ7XHJcbiAgICAgICAgdGhpcy5pc1N1Y2Nlc3NmdWxTdGF0dXNDb2RlID0gdGhpcy54aHIuc3RhdHVzID49IDIwMCAmJiB0aGlzLnhoci5zdGF0dXMgPD0gMjk5O1xyXG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHhocik7XHJcbiAgICB9XHJcbiAgICBYaHJSZXNwb25zZS5wcm90b3R5cGUuZ2V0SGVhZGVyVmFsdWUgPSBmdW5jdGlvbiAoaGVhZGVyTmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnhoci5nZXRSZXNwb25zZUhlYWRlcihoZWFkZXJOYW1lKTtcclxuICAgIH07XHJcbiAgICBYaHJSZXNwb25zZS5wcm90b3R5cGUuZ2V0SGVhZGVyVmFsdWVzID0gZnVuY3Rpb24gKGhlYWRlck5hbWUpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnhoci5nZXRSZXNwb25zZUhlYWRlcihoZWFkZXJOYW1lKTtcclxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlLnNwbGl0KFwiLCBcIik7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhoclJlc3BvbnNlLnByb3RvdHlwZSwgXCJib2R5XCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueGhyLnJlc3BvbnNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgWGhyUmVzcG9uc2UucHJvdG90eXBlLmVuc3VyZVN1Y2Nlc3NmdWxTdGF0dXNDb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1N1Y2Nlc3NmdWxTdGF0dXNDb2RlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBIdHRwUmVxdWVzdEVycm9yKFwiVGhlIEhUVFAgcmVzcG9uc2UgY29kZSBcIiArIHRoaXMuc3RhdHVzQ29kZSArIFwiIGluZGljYXRlcyBmYWlsdXJlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFhoclJlc3BvbnNlO1xyXG59KCkpO1xyXG4vKipcclxuICogU2VuZHMgYW4gSFRUUCByZXF1ZXN0IHdpdGggYFhNTEh0dHBSZXF1ZXN0YC5cclxuICogQHBhcmFtIHJlcXVlc3QgdGhlIHJlcXVlc3QgcGFyYW1ldGVycy5cclxuICogQHBhcmFtIGNhbmNlbGxhdGlvblRva2VuIGEgdG9rZW4gdXNlZCB0byBjYW5jZWwgdGhlIG9wZXJhdGlvbiBhbmQgYWJvcnQgdGhlIEhUVFAgcmVxdWVzdC5cclxuICogQHJldHVybnMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGBYTUxIdHRwUmVxdWVzdGAgY2FsbGJhY2suXHJcbiAqIEB0aHJvd3Mge0BsaW5rIFByb21pc2VDYW5jZWxsZWRFcnJvcn0gaWYgdGhlIHJlcXVlc3QgaGFzIGVpdGhlciB0aW1lZC1vdXQsIG9yIGNhbmNlbGxlZCB2aWEgYGNhbmNlbGxhdGlvblRva2VuYC5cclxuICovXHJcbmZ1bmN0aW9uIHNlbmRSZXF1ZXN0KHJlcXVlc3QsIGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB2YXIgcGxycyA9IG5ldyBwcmltaXRpdmVzXzEuUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCk7XHJcbiAgICB2YXIgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uO1xyXG4gICAgaWYgKHJlcXVlc3QudXNlcm5hbWUgIT0gbnVsbCB8fCByZXF1ZXN0LnBhc3N3b3JkICE9IG51bGwpIHtcclxuICAgICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUsIHJlcXVlc3QudXNlcm5hbWUsIHJlcXVlc3QucGFzc3dvcmQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsKTtcclxuICAgIH1cclxuICAgIC8vIEluIElFIHRoZSB0aW1lb3V0IHByb3BlcnR5IG1heSBvbmx5IGJlIHNldCBhZnRlciBjYWxsaW5nIG9wZW4gYW5kIGJlZm9yZSBjYWxsaW5nIHNlbmQuXHJcbiAgICBpZiAocmVxdWVzdC50aW1lb3V0KSB7XHJcbiAgICAgICAgeGhyLnRpbWVvdXQgPSByZXF1ZXN0LnRpbWVvdXQ7XHJcbiAgICB9XHJcbiAgICBpZiAocmVxdWVzdC5oZWFkZXJzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgbmFtZV8xIGluIHJlcXVlc3QuaGVhZGVycykge1xyXG4gICAgICAgICAgICBpZiAocmVxdWVzdC5oZWFkZXJzLmhhc093blByb3BlcnR5KG5hbWVfMSkpIHtcclxuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWVfMSwgcmVxdWVzdC5oZWFkZXJzW25hbWVfMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlcXVlc3QucmVzcG9uc2VUeXBlICE9IG51bGwpIHtcclxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gcmVxdWVzdC5yZXNwb25zZVR5cGU7XHJcbiAgICB9XHJcbiAgICBpZiAocmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgIT0gbnVsbCkge1xyXG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSByZXF1ZXN0LndpdGhDcmVkZW50aWFscztcclxuICAgIH1cclxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5hc3NlcnQoeGhyLnJlYWR5U3RhdGUgPT0gNCk7IC8vIERPTkVcclxuICAgICAgICBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24gJiYgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlc29sdmUobmV3IFhoclJlc3BvbnNlKHhocikpO1xyXG4gICAgfTtcclxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbiAmJiBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIHBscnMudHJ5UmVqZWN0KG5ldyBIdHRwUmVxdWVzdEVycm9yKFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgc2VuZGluZyB0aGUgSFRUUCByZXF1ZXN0LlwiKSk7XHJcbiAgICB9O1xyXG4gICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24gJiYgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlamVjdChuZXcgY2FuY2VsbGF0aW9uXzEuUHJvbWlzZUNhbmNlbGxlZEVycm9yKFwiSFRUUCByZXF1ZXN0IHRpbWVvdXQgaGFzIHJlYWNoZWQuXCIpKTtcclxuICAgIH07XHJcbiAgICBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24gPSBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChwbHJzLnRyeUNhbmNlbCgpKSB7XHJcbiAgICAgICAgICAgIHhoci5hYm9ydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgeGhyLnNlbmQocmVxdWVzdC5ib2R5KTtcclxuICAgIHJldHVybiBwbHJzLnByb21pc2VMaWtlO1xyXG59XHJcbmV4cG9ydHMuc2VuZFJlcXVlc3QgPSBzZW5kUmVxdWVzdDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogQGRlc2NyaXB0aW9uIFRoZSByb290IG1vZHVsZSBleHBvcnRpbmcgYWxsIHRoZSBzdWItbW9kdWxlIG1lbWJlcnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKiogKi9cclxuX19leHBvcnQocmVxdWlyZShcIi4vY29tbW9uXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vcHJpbWl0aXZlc1wiKSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2h0dHBcIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kZWxheWVkQ2FsbGJhY2tzXCIpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBldmVudEVtaXR0ZXJfMSA9IHJlcXVpcmUoXCIuL2V2ZW50RW1pdHRlclwiKTtcclxudmFyIHByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZV8xID0gcmVxdWlyZShcIi4vcHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXCIpO1xyXG4vKipcclxuICogQW4gZXJyb3IgdGhhdCByYWlzZXMgd2hlbiB0aGUgY3VycmVudCBwcm9taXNlIGhhcyBiZWVuIHJlamVjdGVkIGR1ZSB0byBjYW5jZWxsYXRpb24uXHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIEVTNiBgUHJvbWlzZWAgZG9lcyBub3QgaGF2ZSBjYW5jZWxsYXRpb24gc3VwcG9ydCxcclxuICogc28gVFBMIHVzZXMgYHJlamVjdGAgd2l0aCB7QGxpbmsgUHJvbWlzZUNhbmNlbGxlZEVycm9yfSB0byBpbmRpY2F0ZSBhIGNhbmNlbGxlZCBgUHJvbWlzZWAuXHJcbiAqL1xyXG52YXIgUHJvbWlzZUNhbmNlbGxlZEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFByb21pc2VDYW5jZWxsZWRFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFByb21pc2VDYW5jZWxsZWRFcnJvcihtZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSA9PSBudWxsID8gXCJQcm9taXNlIGV4ZWN1dGlvbiBoYXMgYmVlbiBjYW5jZWxsZWQuXCIgOiBtZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBcIlByb21pc2VDYW5jZWxsZWRFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgUHJvbWlzZUNhbmNlbGxlZEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2VDYW5jZWxsZWRFcnJvcjtcclxufShFcnJvcikpO1xyXG5leHBvcnRzLlByb21pc2VDYW5jZWxsZWRFcnJvciA9IFByb21pc2VDYW5jZWxsZWRFcnJvcjtcclxudmFyIENhbmNlbGxhdGlvblRva2VuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ2FuY2VsbGF0aW9uVG9rZW4oKSB7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLCBcImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fY2FuY2VsbGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLl9faW50X2NhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQucmFpc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQuY2xlYXJMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvblBscnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uUGxycy50cnlSZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NhbmNlbGxlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUHJvbWlzZUNhbmNlbGxlZEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENhbmNlbGxhdGlvblRva2VuLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50ID0gbmV3IGV2ZW50RW1pdHRlcl8xLkV2ZW50RW1pdHRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQuYWRkTGlzdGVuZXIoY2FsbGJhY2ssIHRydWUpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQucmFpc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQuY2xlYXJMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLCBcInByb21pc2VMaWtlXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvblBscnMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBscnMgPSBuZXcgcHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXzEuUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uUGxycy50cnlSZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbGxhdGlvblBscnMucHJvbWlzZUxpa2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQ2FuY2VsbGF0aW9uVG9rZW47XHJcbn0oKSk7XHJcbnZhciBjYW5jZWxsZWRUb2tlbiA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlbigpO1xyXG5jYW5jZWxsZWRUb2tlbi5fX2ludF9jYW5jZWwoKTtcclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYW4gb3duZXIgb2Yge0BsaW5rIElDYW5jZWxsYXRpb25Ub2tlbn0gdGhhdCBjYW4gaW5pdGlhdGVzIHRoZSBjYW5jZWxsYXRpb24uXHJcbiAqL1xyXG52YXIgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBjYW5jZWxBZnRlckRlbGF5IEF1dG9tYXRpY2FsbHkgcmVxdWVzdHMgY2FuY2VsbGF0aW9uIGFmdGVyIHRoZSBzcGVjaWZpZWQgbm9uLW5lZ2F0aXZlIHRpbWUgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZShjYW5jZWxBZnRlckRlbGF5KSB7XHJcbiAgICAgICAgaWYgKGNhbmNlbEFmdGVyRGVsYXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbEFmdGVyKGNhbmNlbEFmdGVyRGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUsIFwiaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWRcIiwge1xyXG4gICAgICAgIC8qKiBXaGV0aGVyIHRoZSBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLiAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gISF0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbiAmJiB0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbi5pc0NhbmNlbGxhdGlvblJlcXVlc3RlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhdGVzIGNhbmNlbGxhdGlvbiBpZiBpdCBoYXMgbm90IGJlZW4gcmVxdWVzdGVkIHlldC5cclxuICAgICAqIE5vdGlmaWVzIHRoZSBkZXJpdmVkIGBJQ2FuY2VsbGF0aW9uVG9rZW5gIG9mIHRoZSBjYW5jZWxsYXRpb24uXHJcbiAgICAgKi9cclxuICAgIENhbmNlbGxhdGlvblRva2VuU291cmNlLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuLl9faW50X2NhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4gPSBjYW5jZWxsZWRUb2tlbjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWF0ZXMgY2FuY2VsbGF0aW9uIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXkuXHJcbiAgICAgKiBAcGFyYW0gZGVsYXkgdGhlIG5vbi1uZWdhdGl2ZSB0aW1lIGluIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBpbml0aWF0aW5nIHRoZSBjYW5jZWxsYXRpb24uXHJcbiAgICAgKi9cclxuICAgIENhbmNlbGxhdGlvblRva2VuU291cmNlLnByb3RvdHlwZS5jYW5jZWxBZnRlciA9IGZ1bmN0aW9uIChkZWxheSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGRlbGF5IDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImRlbGF5IChhcmcjMSkgc2hvdWxkIGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZWxheSA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IF90aGlzLmNhbmNlbCgpOyB9LCBkZWxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUsIFwidG9rZW5cIiwge1xyXG4gICAgICAgIC8qKiBHZXRzIHRoZSBkZXJpdmVkIGBJQ2FuY2VsbGF0aW9uVG9rZW5gIGZyb20gdGhpcyB0b2tlbiBzb3VyY2UuICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuID0gbmV3IENhbmNlbGxhdGlvblRva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGEgYENhbmNlbGxhdGlvblRva2VuU291cmNlYCB0aGF0IGdldHMgY2FuY2VsbGVkIHdoZW4gYW55IG9mIHRoZSBzcGVjaWZpZWQgYElDYW5jZWxsYXRpb25Ub2tlbmAgZ2V0cyBjYW5jZWxsZWQuXHJcbiAgICAgKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW5zIE9uZSBvciBtb3JlIHVuZGVybHlpbmcgYElDYW5jZWxsYXRpb25Ub2tlbmAuXHJcbiAgICAgKi9cclxuICAgIENhbmNlbGxhdGlvblRva2VuU291cmNlLnJhY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNhbmNlbGxhdGlvblRva2VucyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbGxhdGlvblRva2Vuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3RzID0gbmV3IENhbmNlbGxhdGlvblRva2VuU291cmNlKCk7XHJcbiAgICAgICAgdmFyIGNhbmNlbGxhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBjdHMuY2FuY2VsKCk7IH07XHJcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBjYW5jZWxsYXRpb25Ub2tlbnNfMSA9IGNhbmNlbGxhdGlvblRva2VuczsgX2EgPCBjYW5jZWxsYXRpb25Ub2tlbnNfMS5sZW5ndGg7IF9hKyspIHtcclxuICAgICAgICAgICAgdmFyIHRva2VuID0gY2FuY2VsbGF0aW9uVG9rZW5zXzFbX2FdO1xyXG4gICAgICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIHRva2VuLnN1YnNjcmliZShjYW5jZWxsYXRpb25DYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN0cztcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2U7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UgPSBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuY2VsbGF0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBDb21iaW5lcyB7QGxpbmsgSURpc3Bvc2FibGV9IGluc3RhbmNlcy5cclxuICogQHBhcmFtIGRpc3Bvc2FibGVzIDAsIDEsIG9yIG1vcmUgaW5zdGFuY2VzIHRvIGJlIGNvbWJpbmVkLlxyXG4gKiBAcmV0dXJucyBhbiB7QGxpbmsgSURpc3Bvc2FibGV9IHRoYXQgZGlzcG9zZXMgdGhlIGdpdmVuIGluc3RhbmNlcyB3aGVuIHtAbGluayBJRGlzcG9zYWJsZS5kaXNwb3NlfSBpcyBjYWxsZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBjb21iaW5lRGlzcG9zYWJsZSgpIHtcclxuICAgIHZhciBkaXNwb3NhYmxlcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBkaXNwb3NhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRpc3Bvc2FibGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGlzcG9zZSgpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydHMuY29tYmluZURpc3Bvc2FibGUgPSBjb21iaW5lRGlzcG9zYWJsZTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcG9zYWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFJhd1ZhbHVlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmF3VmFsdWVFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJhd1ZhbHVlRXJyb3IocmF3VmFsdWUsIGlubmVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5yYXdWYWx1ZSA9IHJhd1ZhbHVlO1xyXG4gICAgICAgIF90aGlzLmlubmVyID0gaW5uZXI7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiUmF3VmFsdWVFcnJvclwiO1xyXG4gICAgICAgIF90aGlzLmdldEJhc2VFcnJvciA9IGdldEJhc2VFcnJvcjtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIFJhd1ZhbHVlRXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBSYXdWYWx1ZUVycm9yO1xyXG59KEVycm9yKSk7XHJcbmZ1bmN0aW9uIGdldEJhc2VFcnJvcigpIHtcclxuICAgIHZhciBjdXJyZW50ID0gdGhpcztcclxuICAgIHdoaWxlIChjdXJyZW50LmlubmVyICE9IG51bGwpIHtcclxuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5pbm5lcjtcclxuICAgIH1cclxuICAgIHJldHVybiBjdXJyZW50O1xyXG59XHJcbmZ1bmN0aW9uIHNldElubmVyRXJyb3IoZXJyb3IsIGlubmVyKSB7XHJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJpbm5lclwiLCB7IHZhbHVlOiBpbm5lciwgd3JpdGFibGU6IGZhbHNlIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJnZXRCYXNlRXJyb3JcIiwgeyB2YWx1ZTogZ2V0QmFzZUVycm9yLCB3cml0YWJsZTogZmFsc2UgfSk7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSYXdWYWx1ZUVycm9yKGVycm9yLCBpbm5lcik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5zZXRJbm5lckVycm9yID0gc2V0SW5uZXJFcnJvcjtcclxudmFyIEFnZ3JlZ2F0ZUVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFnZ3JlZ2F0ZUVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQWdncmVnYXRlRXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBlcnJvcnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBlcnJvcnNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiUmF3VmFsdWVFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgQWdncmVnYXRlRXJyb3IpO1xyXG4gICAgICAgIF90aGlzLmlubmVyRXJyb3JzID0gZXJyb3JzLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZSAhPSBudWxsOyB9KTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc0FyZykge1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcyk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuaW5uZXJFcnJvcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGUpO1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEFnZ3JlZ2F0ZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBlLmZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBZ2dyZWdhdGVFcnJvcjtcclxufShFcnJvcikpO1xyXG5leHBvcnRzLkFnZ3JlZ2F0ZUVycm9yID0gQWdncmVnYXRlRXJyb3I7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHNpbXBsZSBwdWItc3ViIGV2ZW50LlxyXG4gKiBAdHlwZWRlZiBUIHR5cGUgb2YgdGhlIGV2ZW50IHBheWxvYWQuXHJcbiAqL1xyXG52YXIgRXZlbnRFbWl0dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xyXG4gICAgfVxyXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgaXNBc3luYywgdGhpc0FyZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSB7IHByZXY6IHRoaXMudGFpbCwgY2FsbGJhY2s6IGxpc3RlbmVyLmJpbmQodGhpc0FyZyksIGlzQXN5bmM6IGlzQXN5bmMgfTtcclxuICAgICAgICBpZiAoIXRoaXMuaGVhZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydCghdGhpcy50YWlsKTtcclxuICAgICAgICAgICAgdGhpcy5oZWFkID0gaXRlbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudGFpbCkge1xyXG4gICAgICAgICAgICB0aGlzLnRhaWwubmV4dCA9IGl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGFpbCA9IGl0ZW07XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5wcmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KGl0ZW0ucHJldi5uZXh0ID09PSBpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5wcmV2Lm5leHQgPSBpdGVtLm5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChfdGhpcy5oZWFkID09PSBpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGVhZCA9IGl0ZW0ubmV4dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChpdGVtLm5leHQucHJldiA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubmV4dC5wcmV2ID0gaXRlbS5wcmV2O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoX3RoaXMudGFpbCA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRhaWwgPSBpdGVtLnByZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmFpc2VzIHRoZSBldmVudCwgY2FsbGluZyBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycyBhZGRlZCB0byB0aGlzIGV2ZW50IGluc3RhbmNlLlxyXG4gICAgICogQHBhcmFtIGFyZyB0aGUgZXZlbnQgcGF5bG9hZC5cclxuICAgICAqL1xyXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYWlzZSA9IGZ1bmN0aW9uIChhcmcpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuaGVhZDtcclxuICAgICAgICB2YXIgaGFuZGxlcnMgPSBbXTtcclxuICAgICAgICB2YXIgcmVzb2x2ZWRQcm9taXNlO1xyXG4gICAgICAgIC8vIFBhc3MgMTogZnJlZXplIGV2ZW50IGhhbmRsZXJzIHRvIGJlIGNhbGxlZC5cclxuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xyXG4gICAgICAgICAgICBoYW5kbGVycy5wdXNoKFtjdXJyZW50LmNhbGxiYWNrLCAhIWN1cnJlbnQuaXNBc3luY10pO1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQYXNzIDI6IGNhbGwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBoYW5kbGVyc18xID0gaGFuZGxlcnM7IF9pIDwgaGFuZGxlcnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gaGFuZGxlcnNfMVtfaV0sIGhhbmRsZXIgPSBfYVswXSwgaXNBc3luYyA9IF9hWzFdO1xyXG4gICAgICAgICAgICBpZiAoaXNBc3luYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlZFByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoYXJnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvbWlzZS50aGVuKGhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcihhcmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICovXHJcbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmNsZWFyTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IHVuZGVmaW5lZDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRFbWl0dGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jYW5jZWxsYXRpb25cIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kaXNwb3NhYmxlXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vZXJyb3JzXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vZXZlbnRFbWl0dGVyXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VcIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2VcIikpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogUHJvdmlkZXMgYFByb21pc2VMaWtlYCB0aGF0IGNhbiBiZSByZXNvbHZlZCBmcm9tIG91dHNpZGUuXHJcbiAqIEBzZWUge0BsaW5rIElDb25maWd1cmFibGVQcm9taXNlTGlrZX1cclxuICogQHNlZSB7QGxpbmsgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2V9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKiAqL1xyXG52YXIgY2FuY2VsbGF0aW9uXzEgPSByZXF1aXJlKFwiLi9jYW5jZWxsYXRpb25cIik7XHJcbnZhciBwcm9taXNlUmVzb2x1dGlvblNvdXJjZV8xID0gcmVxdWlyZShcIi4vcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VcIik7XHJcbi8qKlxyXG4gKiBSZXNvbHZlcyBvciByZWplY3RzIGEgYFByb21pc2VMaWtlYCBmcm9tIG91dHNpZGUgb2YgaXQuXHJcbiAqXHJcbiAqIFRoaXMgY2xhc3MgaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSB7QGxpbmsgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2V9XHJcbiAqIGluIHRoZSB3YXkgdGhhdCBpdCBlbnN1cmVzIHdoZW4ge0BsaW5rIHRyeVJlc29sdmV9LCB7QGxpbmsgdHJ5Q2FuY2VsfSwgb3Ige0BsaW5rIHRyeVJlamVjdH1cclxuICogaXMgY2FsbGVkLCB0aGUgY29udGludWF0aW9uIGNhbGxiYWNrcyBhc3NvY2lhdGVkIHdpdGggYFByb21pc2VMaWtlYCBhcmUgZXhlY3V0ZWQgKnN5bmNocm9ub3VzbHkqLlxyXG4gKiBIb3dldmVyLCBkb3duc3RyZWFtIGNvbnN1bWVycyBhcmUgc3RpbGwgYWJsZSB0byBsZXQgdGhlaXIgY29udGludWF0aW9uIGNhbGxiYWNrcyBleGVjdXRlIGFzeW5jaHJvbm91c2x5LlxyXG4gKiBTZWUge0BsaW5rIElDb25maWd1cmFibGVQcm9taXNlTGlrZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAqXHJcbiAqIFRoaXMgY2xhc3MgaXMgc2ltaWxhciB0byBgRGVmZXJyZWRgIGJ1dCBpdCBleHBsaWNpdGx5IHNlcGFyYXRlc1xyXG4gKiB0aGUgcHJvbWlzZSBhbmQgaXRzIGNvbnRyb2wgc2lkZSBpbnRvIHR3byBkaWZmZXJlbnQgb2JqZWN0cy5cclxuICpcclxuICogQHR5cGVwYXJhbSBUIHR5cGUgb2YgdGhlIHByb21pc2UgcmVzb2x1dGlvbiByZXN1bHQuXHJcbiAqL1xyXG52YXIgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCkge1xyXG4gICAgfVxyXG4gICAgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS5fZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3Byb21pc2VMaWtlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb21pc2VMaWtlID0gbmV3IFN5bmNocm9ub3VzUHJvbWlzZUxpa2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUsIFwicHJvbWlzZUxpa2VcIiwge1xyXG4gICAgICAgIC8qKiBHZXRzIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgY29udHJvbGxlZCBieSB0aGUgY3VycmVudCBpbnN0YW5jZS4gKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZUxpa2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFN5bmNocm9ub3VzbHkgcmVzb2x2ZXMgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCB3aXRoIHRoZSBzcGVjaWZpZWQgcmVzdWx0LlxyXG4gICAgICogQHBhcmFtIHJlc3VsdCB0aGUgcmVzb2x1dGlvbiByZXN1bHQsIG9yIGEgYFByb21pc2VMaWtlYCB0aGF0IGNhbiBiZSBmdXJ0aGVybHkgKnJlc29sdmVkKi5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgIGhhcyBqdXN0IGJlZW4gKnJlc29sdmVkKjtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VMaWtlYCBoYXMgYWxyZWFkeSBiZWVuICpzZXR0bGVkKiBiZWZvcmUuXHJcbiAgICAgKi9cclxuICAgIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5UmVzb2x2ZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlTGlrZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fc2V0dGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fZnVsZmlsbChyZXN1bHQpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU3luY2hyb25vdXNseSBjYW5jZWxzIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAuXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCBoYXMganVzdCBiZWVuICpyZWplY3RlZCogd2l0aCBgUHJvbWlzZUNhbmNlbGxlZEVycm9yYDtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VMaWtlYCBoYXMgYWxyZWFkeSBiZWVuICpzZXR0bGVkKiBiZWZvcmUuXHJcbiAgICAgKi9cclxuICAgIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5Q2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fcHJvbWlzZUxpa2UuJF9faW50X19zZXR0bGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcHJvbWlzZUxpa2UuJF9faW50X19yZWplY3QobmV3IGNhbmNlbGxhdGlvbl8xLlByb21pc2VDYW5jZWxsZWRFcnJvcigpKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN5bmNocm9ub3VzbHkgcmVqZWN0cyB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgIHdpdGggdGhlIHNwZWNpZmllZCByYXNvbi5cclxuICAgICAqIEBwYXJhbSByZWFzb24gdGhlIHJlamVjdGlvbiByZWFzb24sIG9yIHRoZSBgRXJyb3JgIGNhdXNpbmcgdGhlIHJlamVjdGlvbi5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgIGhhcyBqdXN0IGJlZW4gKnJlamVjdGVkKjtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VMaWtlYCBoYXMgYWxyZWFkeSBiZWVuICpzZXR0bGVkKiBiZWZvcmUuXHJcbiAgICAgKi9cclxuICAgIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5UmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fcHJvbWlzZUxpa2UuJF9faW50X19zZXR0bGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcHJvbWlzZUxpa2UuJF9faW50X19yZWplY3QocmVhc29uKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlO1xyXG59KCkpO1xyXG5leHBvcnRzLlByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSA9IFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZTtcclxudmFyIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTeW5jaHJvbm91c1Byb21pc2VMaWtlKF9vbmZ1bGZpbGxlZCwgX29ucmVqZWN0ZWQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX29uZnVsZmlsbGVkID0gX29uZnVsZmlsbGVkO1xyXG4gICAgICAgIHRoaXMuX29ucmVqZWN0ZWQgPSBfb25yZWplY3RlZDtcclxuICAgICAgICB0aGlzLmZ1bGZpbGxOZXh0ID0gZnVuY3Rpb24gKG5leHRSZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKG5leHRSZXN1bHQgJiYgdHlwZW9mIG5leHRSZXN1bHQgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG5leHRSZXN1bHQudGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0UmVzdWx0LnRoZW4oX3RoaXMuZnVsZmlsbE5leHQsIF90aGlzLnJlamVjdE5leHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmFzbnljUHJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXNueWNQcnMudHJ5UmVzb2x2ZShuZXh0UmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF90aGlzLm5leHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLm5leHQ7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpLiRfX2ludF9fZnVsZmlsbChuZXh0UmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgX3RoaXMubmV4dCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTZXR0bGVkIFByb21pc2VMaWtlIHNob3VsZCBub3QgYmUgcmVzb2x2ZWQgZnVydGhlcm1vcmUuXCIsIF90aGlzLm5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5uZXh0ID0gXCJyZXNvbHZlZFwiO1xyXG4gICAgICAgICAgICBfdGhpcy5yZXN1bHQgPSBuZXh0UmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5yZWplY3ROZXh0ID0gZnVuY3Rpb24gKG5leHRSZWFzb24pIHtcclxuICAgICAgICAgICAgaWYgKG5leHRSZWFzb24gJiYgdHlwZW9mIG5leHRSZWFzb24gPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG5leHRSZWFzb24udGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0UmVhc29uLnRoZW4oX3RoaXMuZnVsZmlsbE5leHQsIF90aGlzLnJlamVjdE5leHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmFzbnljUHJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXNueWNQcnMudHJ5UmVqZWN0KG5leHRSZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3RoaXMubmV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMubmV4dDsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkuJF9faW50X19yZWplY3QobmV4dFJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIF90aGlzLm5leHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU2V0dGxlZCBQcm9taXNMaWtlIHNob3VsZCBub3QgYmUgcmVqZWN0ZWQgZnVydGhlcm1vcmUuXCIsIF90aGlzLm5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5uZXh0ID0gXCJyZWplY3RlZFwiO1xyXG4gICAgICAgICAgICBfdGhpcy5yZXN1bHQgPSBuZXh0UmVhc29uO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3luY2hyb25vdXNQcm9taXNlTGlrZS5wcm90b3R5cGUsIFwiJF9faW50X19zZXR0bGVkXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLm5leHQgPT09IFwic3RyaW5nXCI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvLyBOb3RlOiBUTmV4dCB8IFByb21pc2VMaWtlPFROZXh0PiBpcyBvbmx5IHVzZWQgd2hlbiBUUHJldiA9PSBUTmV4dFxyXG4gICAgU3luY2hyb25vdXNQcm9taXNlTGlrZS5wcm90b3R5cGUuJF9faW50X19mdWxmaWxsID0gZnVuY3Rpb24gKHByZXZSZXN1bHQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMubmV4dCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU2V0dGxlZCBQcm9taXNlTGlrZSBzaG91bGQgbm90IGJlIHJlc29sdmVkIGZ1cnRoZXJtb3JlLlwiLCB0aGlzLm5leHQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbmZ1bGZpbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZnVsZmlsbCBjdXJyZW50IGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fb25mdWxmaWxsZWQocHJldlJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAvLyBub3RpZnkgbmV4dCBQcm9taXNlTGlrZShzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5mdWxmaWxsTmV4dChyZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mdWxmaWxsTmV4dChwcmV2UmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gRXJyb3IgcmFpc2VkIHdoaWxlIGV4ZWN1dGluZyBvbmZ1bGZpbGxlZCBjYWxsYmFjay5cclxuICAgICAgICAgICAgLy8gTmV4dCBQcm9taXNlTGlrZXMgc2hvdWxkIGJlIHJlamVjdGVkLlxyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25yZWplY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWplY3ROZXh0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTeW5jaHJvbm91c1Byb21pc2VMaWtlLnByb3RvdHlwZS4kX19pbnRfX3JlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMubmV4dCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU2V0dGxlZCBQcm9taXNlTGlrZSBzaG91bGQgbm90IGJlIHJlc29sdmVkIGZ1cnRoZXJtb3JlLlwiLCB0aGlzLm5leHQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbnJlamVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fb25yZWplY3RlZChyZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mdWxmaWxsTmV4dChyZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWplY3ROZXh0KHJlYXNvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIHJhaXNlZCB3aGlsZSBleGVjdXRpbmcgb25yZWplY3RlZCBjYWxsYmFjay5cclxuICAgICAgICAgICAgLy8gTmV4dCBQcm9taXNlTGlrZXMgc2hvdWxkIGJlIHJlamVjdGVkLlxyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25yZWplY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWplY3ROZXh0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmNhdWdodCBTeW5jaHJvbm91c1Byb21pc2VMaWtlIHJlamVjdGlvbjogJW9cIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcclxuICAgICAgICB2YXIgbmV4dCA9IG5ldyBTeW5jaHJvbm91c1Byb21pc2VMaWtlKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcclxuICAgICAgICBpZiAoIXRoaXMubmV4dCkge1xyXG4gICAgICAgICAgICB0aGlzLm5leHQgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5uZXh0KSkge1xyXG4gICAgICAgICAgICB0aGlzLm5leHQucHVzaChuZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5uZXh0ID09PSBcInJlc29sdmVkXCIpIHtcclxuICAgICAgICAgICAgbmV4dC4kX19pbnRfX2Z1bGZpbGwodGhpcy5yZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLm5leHQgPT09IFwicmVqZWN0ZWRcIikge1xyXG4gICAgICAgICAgICBuZXh0LiRfX2ludF9fcmVqZWN0KHRoaXMucmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIHN0YXRlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICB9O1xyXG4gICAgU3luY2hyb25vdXNQcm9taXNlTGlrZS5wcm90b3R5cGUuZm9yY2VBc3luYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5hc255Y1Bycykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hc255Y1Bycy5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5uZXh0ID09PSBcInJlc29sdmVkXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMubmV4dCA9PT0gXCJyZWplY3RlZFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh0aGlzLnJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydCghdGhpcy5uZXh0IHx8IEFycmF5LmlzQXJyYXkodGhpcy5uZXh0KSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXNueWNQcnMgPSBuZXcgcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VfMS5Qcm9taXNlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hc255Y1Bycy5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU3luY2hyb25vdXNQcm9taXNlTGlrZTtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQG1vZHVsZVxyXG4gKiBQcm92aWRlcyBgUHJvbWlzZWAgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgZnJvbSBvdXRzaWRlLlxyXG4gKiBAc2VlIHtAbGluayBQcm9taXNlUmVzb2x1dGlvblNvdXJjZX1cclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqICovXHJcbnZhciBjYW5jZWxsYXRpb25fMSA9IHJlcXVpcmUoXCIuL2NhbmNlbGxhdGlvblwiKTtcclxuLyoqXHJcbiAqIFJlc29sdmVzIG9yIHJlamVjdHMgYSBgUHJvbWlzZWAgZnJvbSBvdXRzaWRlIG9mIGl0LlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIGlzIHNpbWlsYXIgdG8gYERlZmVycmVkYCBidXQgaXQgZXhwbGljaXRseSBzZXBhcmF0ZXNcclxuICogdGhlIHByb21pc2UgYW5kIGl0cyBjb250cm9sIHNpZGUgaW50byB0d28gZGlmZmVyZW50IG9iamVjdHMuXHJcbiAqXHJcbiAqIEB0eXBlcGFyYW0gVCB0eXBlIG9mIHRoZSBwcm9taXNlIHJlc29sdXRpb24gcmVzdWx0LlxyXG4gKiBAc2VlIHtAbGluayBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2V9XHJcbiAqL1xyXG52YXIgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQcm9taXNlUmVzb2x1dGlvblNvdXJjZSgpIHtcclxuICAgIH1cclxuICAgIFByb21pc2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS5fZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2UgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IHJlcztcclxuICAgICAgICAgICAgICAgIF90aGlzLl9yZWplY3QgPSByZWo7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLCBcInByb21pc2VcIiwge1xyXG4gICAgICAgIC8qKiBHZXRzIHRoZSBkZXJpdmVkIGBQcm9taXNlYCBjb250cm9sbGVkIGJ5IHRoZSBjdXJyZW50IGluc3RhbmNlLiAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFJlc29sdmVzIHRoZSBkZXJpdmVkIGBQcm9taXNlYCB3aXRoIHRoZSBzcGVjaWZpZWQgcmVzdWx0LlxyXG4gICAgICogQHBhcmFtIHJlc3VsdCB0aGUgcmVzb2x1dGlvbiByZXN1bHQsIG9yIGEgYFByb21pc2VMaWtlYCB0aGF0IGNhbiBiZSBmdXJ0aGVybHkgKnJlc29sdmVkKi5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgaGFzIGp1c3QgYmVlbiAqcmVzb2x2ZWQqO1xyXG4gICAgICogb3RoZXJ3aXNlIGl0IG1lYW5zIHRoZSBgUHJvbWlzZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5UmVzb2x2ZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fcmVzb2x2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSB0aGlzLl9yZWplY3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDYW5jZWxzIHRoZSBkZXJpdmVkIGBQcm9taXNlYC5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgaGFzIGp1c3QgYmVlbiAqcmVqZWN0ZWQqIHdpdGggYFByb21pc2VDYW5jZWxsZWRFcnJvcmA7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlYCBoYXMgYWxyZWFkeSBiZWVuICpzZXR0bGVkKiBiZWZvcmUuXHJcbiAgICAgKi9cclxuICAgIFByb21pc2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS50cnlDYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlamVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZWplY3QobmV3IGNhbmNlbGxhdGlvbl8xLlByb21pc2VDYW5jZWxsZWRFcnJvcigpKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IHRoaXMuX3JlamVjdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlamVjdHMgdGhlIGRlcml2ZWQgYFByb21pc2VgIHdpdGggdGhlIHNwZWNpZmllZCByYXNvbi5cclxuICAgICAqIEBwYXJhbSByZWFzb24gdGhlIHJlamVjdGlvbiByZWFzb24sIG9yIHRoZSBgRXJyb3JgIGNhdXNpbmcgdGhlIHJlamVjdGlvbi5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgaGFzIGp1c3QgYmVlbiAqcmVqZWN0ZWQqO1xyXG4gICAgICogb3RoZXJ3aXNlIGl0IG1lYW5zIHRoZSBgUHJvbWlzZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5UmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9yZWplY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSB0aGlzLl9yZWplY3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByb21pc2VSZXNvbHV0aW9uU291cmNlO1xyXG59KCkpO1xyXG5leHBvcnRzLlByb21pc2VSZXNvbHV0aW9uU291cmNlID0gUHJvbWlzZVJlc29sdXRpb25Tb3VyY2U7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21pc2VSZXNvbHV0aW9uU291cmNlLmpzLm1hcCIsImltcG9ydCB7XHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSwgZGVsYXksIElDYW5jZWxsYXRpb25Ub2tlbiwgSVJlcXVlc3RQYXJhbXMsXHJcbiAgICBQcm9taXNlQ2FuY2VsbGVkRXJyb3IsIHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jLCByZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMsXHJcbiAgICBzZW5kUmVxdWVzdCwgeWllbGRlZFxyXG59IGZyb20gXCJ0YXNrbGlrZS1wcm9taXNlLWxpYnJhcnlcIjtcclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWR1cGxpY2F0ZS1pbXBvcnRzXHJcbmltcG9ydCAqIGFzIHRwbEFtYmllbnQgZnJvbSBcInRhc2tsaWtlLXByb21pc2UtbGlicmFyeVwiO1xyXG5cclxuZnVuY3Rpb24gJDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KHNlbGVjdG9yOiBzdHJpbmcsIHNjb3BlPzogSFRNTEVsZW1lbnQpOiBUIHwgbnVsbCB7XHJcbiAgICBpZiAoc2NvcGUpIHtcclxuICAgICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgVDtcclxuICAgIH1cclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSBhcyBUO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkxvYWQoKSB7XHJcbiAgICAkKFwiI3RwbC15aWVsZGVkLXJ1blwiKSEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHJ1bkRlbW8oZGVtb1lpZWxkLCBcIiN0cGwteWllbGRlZC1wYW5lbFwiKSk7XHJcbiAgICAkKFwiI3RwbC1kZWxheS1ydW5cIikhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBydW5EZW1vKGRlbW9EZWxheSwgXCIjdHBsLWRlbGF5LXBhbmVsXCIsIFwiI3RwbC1kZWxheS1jYW5jZWxcIikpO1xyXG4gICAgJChcIiN0cGwtc2VuZHJlcXVlc3QtcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vSHR0cCwgXCIjdHBsLXNlbmRyZXF1ZXN0LXBhbmVsXCIsIFwiI3RwbC1zZW5kcmVxdWVzdC1jYW5jZWxcIikpO1xyXG4gICAgJChcIiN0cGwtcmVxdWVzdGljYi1ydW5cIikhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBydW5EZW1vKGRlbW9SZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMsIFwiI3RwbC1yZXF1ZXN0aWNiLXBhbmVsXCIsIFwiI3RwbC1yZXF1ZXN0aWNiLWNhbmNlbFwiKSk7XHJcbiAgICAkKFwiI3RwbC1yZXF1ZXN0YWYtcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vUmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMsIFwiI3RwbC1yZXF1ZXN0YWYtcGFuZWxcIiwgXCIjdHBsLXJlcXVlc3RhZi1jYW5jZWxcIikpO1xyXG4gICAgLy8gRXhwb3NlIFRQTCBsaWJyYXJ5IHRvIHRoZSBkZWJ1Z2dlciBjb25zb2xlLlxyXG4gICAgKHdpbmRvdyBhcyB1bmtub3duIGFzIHsgVFBMOiB0eXBlb2YgdHBsQW1iaWVudCB9KS5UUEwgPSB0cGxBbWJpZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBidWlsZEVycm9yUGFuZWwoZXJyb3I6IHVua25vd24pIHtcclxuICAgIGNvbnN0IGVyckJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBlcnJCb3guY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG4gICAgZXJyQm94LmlubmVyVGV4dCA9IGVycm9yICYmIChlcnJvciBhcyB7IHN0YWNrPzogc3RyaW5nIH0pLnN0YWNrIHx8IFN0cmluZyhlcnJvcik7XHJcbiAgICByZXR1cm4gZXJyQm94O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBlbmRMaW5lKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNvbnRlbnQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgbGluZS5pbm5lclRleHQgPSBjb250ZW50O1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxpbmUpO1xyXG4gICAgcmV0dXJuIGxpbmU7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJ1bkRlbW8oXHJcbiAgICBkZW1vRnVuYzogKHBhbmVsOiBIVE1MRWxlbWVudCwgY2FuY2VsbGF0aW9uVG9rZW4/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxyXG4gICAgcGFuZWxTZWxlY3Rvcjogc3RyaW5nLFxyXG4gICAgY2FuY2VsbGF0aW9uQnV0dG9uU2VsZWN0b3I/OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGN0cyA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSgpO1xyXG4gICAgY29uc3Qgb25DYW5jZWwgPSAoKSA9PiB7IGN0cy5jYW5jZWwoKTsgfTtcclxuICAgIGNvbnN0IHBhbmVsID0gJChwYW5lbFNlbGVjdG9yKSE7XHJcbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBjYW5jZWxsYXRpb25CdXR0b25TZWxlY3RvciA/ICQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KGNhbmNlbGxhdGlvbkJ1dHRvblNlbGVjdG9yKSA6IG51bGw7XHJcbiAgICBpZiAoY2FuY2VsQnV0dG9uKSB7XHJcbiAgICAgICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNhbmNlbCk7XHJcbiAgICAgICAgY2FuY2VsQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBwYW5lbC5pbm5lclRleHQgPSBcIlwiO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBkZW1vRnVuYyhwYW5lbCwgY2FuY2VsQnV0dG9uID8gY3RzLnRva2VuIDogdW5kZWZpbmVkKTtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChidWlsZEVycm9yUGFuZWwoZXJyb3IpKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgaWYgKGNhbmNlbEJ1dHRvbikge1xyXG4gICAgICAgICAgICBjYW5jZWxCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQ2FuY2VsKTtcclxuICAgICAgICAgICAgY2FuY2VsQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlbW9ZaWVsZChwYW5lbDogSFRNTEVsZW1lbnQpIHtcclxuICAgIGFzeW5jIGZ1bmN0aW9uIG15QXN5bmNGdW5jdGlvbigpIHtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogRG8gc29tZSB3b3JrIHN5bmNocm9ub3VzbHkgaW4gbXlBc3luY0Z1bmN0aW9u4oCmXCIpO1xyXG4gICAgICAgIGFwcGVuZExpbmUocGFuZWwsIFwiQ2FsbGVlOiBteUFzeW5jRnVuY3Rpb24gaXMgdG8geWllbGTigKZcIik7XHJcbiAgICAgICAgYXdhaXQgeWllbGRlZCgpO1xyXG4gICAgICAgIGFwcGVuZExpbmUocGFuZWwsIFwiQ2FsbGVlOiBiYWNrIGZyb20geWllbGRlZCBzdGF0ZeKAplwiKTtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogZXhpdGluZy5cIik7XHJcbiAgICB9XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlcjogQ2FsbCBteUFzeW5jRnVuY3Rpb24uXCIpO1xyXG4gICAgbXlBc3luY0Z1bmN0aW9uKCk7XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlcjogV2UgZGVjaWRlIGRvbid0IGF3YWl0IGZvciBteUFzeW5jRnVuY3Rpb24uXCIpO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZXI6IGV4aXRpbmcuXCIpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZW1vRGVsYXkocGFuZWw6IEhUTUxFbGVtZW50LCBjdD86IElDYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgbGV0IGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgXCJEZWxheSAwbXMgKFNldFRpbWVvdXQoMCkgKyB5aWVsZGVkKS5cIik7XHJcbiAgICBhd2FpdCBkZWxheSgwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgNTAwbXMuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoNTAwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgMXMuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoMTAwMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIkRlbGF5IDJzLlwiKTtcclxuICAgIGF3YWl0IGRlbGF5KDIwMDAsIGN0KTtcclxuICAgIGxhc3RMaW5lLmlubmVyVGV4dCArPSBcIiBGaW5pc2hlZC5cIjtcclxuICAgIGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgXCJEZWxheSAzcy5cIik7XHJcbiAgICBhd2FpdCBkZWxheSgzMDAwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIi0tLS0tLS0tLS1cIik7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbW9IdHRwKHBhbmVsOiBIVE1MRWxlbWVudCwgY3Q/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGFzeW5jIGZ1bmN0aW9uIHNlbmRBbmRSZXBvcnQocmVxdWVzdDogSVJlcXVlc3RQYXJhbXMpIHtcclxuICAgICAgICBsZXQgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBgJHtyZXF1ZXN0Lm1ldGhvZH0gcmVxdWVzdCB0byAke3JlcXVlc3QudXJsfeKApmApO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZFJlcXVlc3QocmVxdWVzdCwgY3QpO1xyXG4gICAgICAgICAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgXCIgKyByZXNwb25zZS5zdGF0dXNDb2RlICsgXCIgXCIgKyByZXNwb25zZS5zdGF0dXNUZXh0O1xyXG4gICAgICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNvbnRlbnQtVHlwZTogXCIgKyByZXNwb25zZS5nZXRIZWFkZXJWYWx1ZShcIkNvbnRlbnQtVHlwZVwiKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvZHlDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpO1xyXG4gICAgICAgICAgICBib2R5Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJodHRwLXJlc3BvbnNlLWJvZHlcIik7XHJcbiAgICAgICAgICAgIGJvZHlDb250YWluZXIuaW5uZXJUZXh0ID0gcmVzcG9uc2UuYm9keTtcclxuICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQoYm9keUNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgXCJlbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZeKAplwiKTtcclxuICAgICAgICAgICAgcmVzcG9uc2UuZW5zdXJlU3VjY2Vzc2Z1bFN0YXR1c0NvZGUoKTtcclxuICAgICAgICAgICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIFN1Y2Nlc3NmdWwuXCI7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUHJvbWlzZUNhbmNlbGxlZEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBjdCBpcyBjYW5jZWxsZWQsIHdlIHdvbid0IGNvbnRpbnVlIHRoZSBkZW1vXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChidWlsZEVycm9yUGFuZWwoZXJyb3IpKTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIi0tLS0tLS0tLS1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXdhaXQgc2VuZEFuZFJlcG9ydCh7IHVybDogXCJ0c2NvbmZpZy5qc29uP3JhbmQ9XCIgKyBNYXRoLnJhbmRvbSgpLCBtZXRob2Q6IFwiR0VUXCIsIHRpbWVvdXQ6IDIwMDAgfSk7XHJcbiAgICBhd2FpdCBzZW5kQW5kUmVwb3J0KHsgdXJsOiBcInRzY29uZmlnLmpzb25cIiwgbWV0aG9kOiBcIlBPU1RcIiB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGVtb1JlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYyhwYW5lbDogSFRNTEVsZW1lbnQsIGN0PzogSUNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjdCAmJiBjdC50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcInJlcXVlc3RJZGxlQ2FsbGJhY2tBc3luY1wiKTtcclxuICAgIGNvbnN0IHN0YXR1cyA9IGFwcGVuZExpbmUocGFuZWwsIFwiUmVxdWVzdGluZ+KAplwiKTtcclxuICAgIGxldCBjb3VudGVyID0gMDtcclxuICAgIGxldCB0aW1lb3V0Q291bnRlciA9IDA7XHJcbiAgICBsZXQgbWluSWRsZVRpbWU6IHVuZGVmaW5lZCB8IG51bWJlciwgbWF4SWRsZVRpbWU6IHVuZGVmaW5lZCB8IG51bWJlcjtcclxuICAgIHdoaWxlIChjdCAmJiAhY3QuaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgcmVxdWVzdElkbGVDYWxsYmFja0FzeW5jKHsgdGltZW91dDogMTAwMCB9LCBjdCk7XHJcbiAgICAgICAgLy8gTm93IHdlIGFyZSBpbnNpZGUgcmVxdWVzdElkbGVDYWxsYmFjayBjYWxsYmFjay5cclxuICAgICAgICBjb25zdCB0aW1lUmVtYWluaW5nID0gY29udGV4dC5kZWFkbGluZS50aW1lUmVtYWluaW5nKCk7XHJcbiAgICAgICAgY291bnRlcisrO1xyXG4gICAgICAgIGlmIChjb250ZXh0LmRlYWRsaW5lLmRpZFRpbWVvdXQpIHsgdGltZW91dENvdW50ZXIrKzsgfVxyXG4gICAgICAgIG1pbklkbGVUaW1lID0gbWluSWRsZVRpbWUgPT0gbnVsbCA/IHRpbWVSZW1haW5pbmcgOiBNYXRoLm1pbih0aW1lUmVtYWluaW5nLCBtaW5JZGxlVGltZSk7XHJcbiAgICAgICAgbWF4SWRsZVRpbWUgPSBtYXhJZGxlVGltZSA9PSBudWxsID8gdGltZVJlbWFpbmluZyA6IE1hdGgubWF4KHRpbWVSZW1haW5pbmcsIG1heElkbGVUaW1lKTtcclxuICAgICAgICBzdGF0dXMuaW5uZXJUZXh0ID0gYFJlcXVlc3RlZDogJHtjb3VudGVyfSB0aW1lcywgdGltZWQtb3V0czogJHt0aW1lb3V0Q291bnRlcn0sIG1pbklkbGVUaW1lOiAke21pbklkbGVUaW1lfSwgbWF4SWRsZVRpbWU6ICR7bWF4SWRsZVRpbWV9YDtcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGVtb1JlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKHBhbmVsOiBIVE1MRWxlbWVudCwgY3Q/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGN0ICYmIGN0LnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIGFwcGVuZExpbmUocGFuZWwsIFwicmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmNcIik7XHJcbiAgICBjb25zdCBzdGF0dXMgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIlJlcXVlc3RpbmfigKZcIik7XHJcbiAgICBjb25zdCBjYW52YXMgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIlRoaXMgaXMgPERJVj4uXCIpO1xyXG4gICAgY29uc3QgYmFsbFNpemUgPSAzMDtcclxuICAgIGNvbnN0IGJhbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgYmFsbC5pbm5lclRleHQgPSBcImJhbGxcIjtcclxuICAgIGJhbGwuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCIxNXB4XCI7XHJcbiAgICBiYWxsLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgYmFsbC5zdHlsZS53aWR0aCA9IGJhbGwuc3R5bGUuaGVpZ2h0ID0gYmFsbFNpemUgKyBcInB4XCI7XHJcbiAgICBjYW52YXMuY2xhc3NMaXN0LmFkZChcImNhbnZhc1wiKTtcclxuICAgIGNhbnZhcy5hcHBlbmRDaGlsZChiYWxsKTtcclxuICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgbGV0IHByZXZUaW1lID0gc3RhcnRUaW1lO1xyXG4gICAgLy8gUG9zaXRpb246IHBpeGVsLlxyXG4gICAgbGV0IHB4ID0gMCwgcHkgPSAwO1xyXG4gICAgLy8gVmVsb2NpdHk6IHBpeGVsIC8gc2VjLlxyXG4gICAgbGV0IHZ4ID0gMjAwLCB2eSA9IDIwMDtcclxuICAgIGxldCBheCA9IDAsIGF5ID0gMjAwO1xyXG4gICAgbGV0IGZyYW1lQ291bnRlciA9IDA7XHJcbiAgICAvLyBXYWl0IGZvciBsYXlvdXQgdG8gY29tcGxldGUuXHJcbiAgICBhd2FpdCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyhjdCk7XHJcbiAgICBjYW52YXMuc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgIC8vIFN0YXJ0IGFuaW1hdGlvbi5cclxuICAgIHdoaWxlICghY3QgfHwgIWN0LmlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGF3YWl0IHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKGN0KTtcclxuICAgICAgICAvLyBOb3cgd2UgYXJlIGluc2lkZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgY2FsbGJhY2suXHJcbiAgICAgICAgY29uc3QgZnJhbWVEdXJhdGlvbiA9IGNvbnRleHQudGltZSAtIHByZXZUaW1lO1xyXG4gICAgICAgIGNvbnN0IGNhbnZhc1dpZHRoID0gY2FudmFzLmNsaWVudFdpZHRoLCBjYW52YXNIZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIGxldCB4ID0gcHggKyB2eCAqIChmcmFtZUR1cmF0aW9uIC8gMTAwMCk7XHJcbiAgICAgICAgbGV0IHkgPSBweSArIHZ5ICogKGZyYW1lRHVyYXRpb24gLyAxMDAwKTtcclxuICAgICAgICBpZiAoeCA8IDAgfHwgeCArIGJhbGwub2Zmc2V0V2lkdGggPiBjYW52YXNXaWR0aCkge1xyXG4gICAgICAgICAgICB2eCA9IC12eCAqIChNYXRoLnJhbmRvbSgpICogMC4yICsgMC44KTtcclxuICAgICAgICAgICAgcHggPSB4IDwgMCA/IDAgOiBjYW52YXNXaWR0aCAtIGJhbGwub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcHggPSB4O1xyXG4gICAgICAgICAgICBiYWxsLnN0eWxlLmxlZnQgPSB4ICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeSA8IDAgfHwgeSArIGJhbGwub2Zmc2V0SGVpZ2h0ID4gY2FudmFzSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHZ5ID0gLXZ5ICogKE1hdGgucmFuZG9tKCkgKiAwLjIgKyAwLjgpO1xyXG4gICAgICAgICAgICBweSA9IHkgPCAwID8gMCA6IGNhbnZhc0hlaWdodCAtIGJhbGwub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHB5ID0geTtcclxuICAgICAgICAgICAgdnkgKz0gYXkgKiAoZnJhbWVEdXJhdGlvbiAvIDEwMDApO1xyXG4gICAgICAgICAgICBiYWxsLnN0eWxlLnRvcCA9IHkgKyBcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByZXZUaW1lID0gY29udGV4dC50aW1lO1xyXG4gICAgICAgIGZyYW1lQ291bnRlcisrO1xyXG4gICAgICAgIGlmIChmcmFtZUNvdW50ZXIgPiAzMCkge1xyXG4gICAgICAgICAgICBzdGF0dXMuaW5uZXJUZXh0ID0gYEZyYW1lczogJHtmcmFtZUNvdW50ZXJ9LCB0aW1lOiAkeygoY29udGV4dC50aW1lIC0gc3RhcnRUaW1lKSAvIDEwMDApLnRvRml4ZWQoMil9IHNlYy4sIEZQUzogJHsoZnJhbWVDb3VudGVyICogMTAwMCAvIChjb250ZXh0LnRpbWUgLSBzdGFydFRpbWUpKS50b0ZpeGVkKDIpfS5gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxub25Mb2FkKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=