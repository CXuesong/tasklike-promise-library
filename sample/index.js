!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.ts")}({"../packages/tasklike-promise-library/dist/common.js":
/*!***********************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/common.js ***!
  \***********************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./primitives/cancellation */"../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=r(/*! ./primitives/promiseResolutionSource */"../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js"),s=Promise.resolve();t.delay=function(e,t){if(e<0)throw new RangeError("milliseconds (arg#1) should be a non-negative number.");t&&t.throwIfCancellationRequested();var r=new i.PromiseResolutionSource,s=setTimeout(function(){r.tryResolve()},e);return t&&t.subscribe(function(){clearTimeout(s),r.tryReject(new n.PromiseCancelledError)}),r.promise},t.yielded=function(){return s},t.fromResolved=function(e){return Promise.resolve(e)},t.fromRejected=function(e){return Promise.reject(e)},t.fromCancelled=function(){return Promise.reject(new n.PromiseCancelledError)}},"../packages/tasklike-promise-library/dist/delayedCallbacks.js":
/*!*********************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/delayedCallbacks.js ***!
  \*********************************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./primitives */"../packages/tasklike-promise-library/dist/primitives/index.js");t.setTimeoutAsync=function(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,s=window.setTimeout(function(){r&&r.dispose(),i.tryResolve(s)},e);return t&&(r=t.subscribe(function(){window.clearTimeout(s),i.tryCancel()})),i.promiseLike},t.requestAnimationFrameAsync=function(e){e&&e.throwIfCancellationRequested();var t,r=new n.PromiseLikeResolutionSource,i=window.requestAnimationFrame(function(e){t&&t.dispose(),r.tryResolve({id:i,time:e})});return e&&(t=e.subscribe(function(){window.cancelAnimationFrame(i),r.tryCancel()})),r.promiseLike},t.requestIdleCallbackAsync=function(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,s=window.requestIdleCallback(function(e){r&&r.dispose(),i.tryResolve({id:s,deadline:e})},e);return t&&(r=t.subscribe(function(){window.cancelIdleCallback(s),i.tryCancel()})),i.promiseLike}},"../packages/tasklike-promise-library/dist/http.js":
/*!*********************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/http.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(/*! ./primitives */"../packages/tasklike-promise-library/dist/primitives/index.js"),o=r(/*! ./primitives/cancellation */"../packages/tasklike-promise-library/dist/primitives/cancellation.js"),a=function(e){function t(r){var n=e.call(this,null==r?"The HTTP request has failed.":r)||this;return n.name="HttpRequestError",Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(Error);t.HttpRequestError=a;var l=function(){function e(e){this.xhr=e,this.statusCode=this.xhr.status,this.statusText=this.xhr.statusText,this.isSuccessfulStatusCode=this.xhr.status>=200&&this.xhr.status<=299,console.assert(e)}return e.prototype.ensureSuccessfulStatusCode=function(){if(!this.isSuccessfulStatusCode)throw new a("The HTTP response code "+this.statusCode+" indicates failure.")},e}();t.sendRequest=function(e,t){t&&t.throwIfCancellationRequested();var r,n=new XMLHttpRequest,i=new s.PromiseLikeResolutionSource;if(null!=e.username||null!=e.password?n.open(e.method,e.url,!0,e.username,e.password):n.open(e.method,e.url),e.timeout&&(n.timeout=e.timeout),e.headers)for(var c in e.headers)Object.prototype.hasOwnProperty.call(e.headers,c)&&n.setRequestHeader(c,e.headers[c]);return null!=e.responseType&&(n.responseType=e.responseType),null!=e.withCredentials&&(n.withCredentials=e.withCredentials),n.onload=function(){console.assert(4==n.readyState),r&&r.dispose(),i.tryResolve(new l(n))},n.onerror=function(){r&&r.dispose(),i.tryReject(new a("An error occurred while sending the HTTP request."))},n.ontimeout=function(){r&&r.dispose(),i.tryReject(new o.PromiseCancelledError("HTTP request timeout has reached."))},r=t&&t.subscribe(function(){i.tryCancel()&&n.abort()}),n.send(e.body),i.promiseLike}},"../packages/tasklike-promise-library/dist/index.js":
/*!**********************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(/*! ./common */"../packages/tasklike-promise-library/dist/common.js")),n(r(/*! ./primitives */"../packages/tasklike-promise-library/dist/primitives/index.js")),n(r(/*! ./http */"../packages/tasklike-promise-library/dist/http.js")),n(r(/*! ./delayedCallbacks */"../packages/tasklike-promise-library/dist/delayedCallbacks.js"))},"../packages/tasklike-promise-library/dist/primitives/cancellation.js":
/*!****************************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/cancellation.js ***!
  \****************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(/*! ./eventEmitter */"../packages/tasklike-promise-library/dist/primitives/eventEmitter.js"),o=r(/*! ./promiseLikeResolutionSource */"../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js"),a=function(e){function t(r){var n=e.call(this,null==r?"Promise execution has been cancelled.":r)||this;return n.name="PromiseCancelledError",Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(Error);t.PromiseCancelledError=a;var l=function(){function e(){}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancelled},enumerable:!0,configurable:!0}),e.prototype.__int_cancel=function(){this._cancellationEvent&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),this._cancellationPlrs&&this._cancellationPlrs.tryResolve(),this._cancelled=!0},e.prototype.throwIfCancellationRequested=function(){if(this._cancelled)throw new a},e.prototype.subscribe=function(e){this._cancellationEvent||(this._cancellationEvent=new s.EventEmitter);var t=this._cancellationEvent.addListener(e,!0);return this._cancelled&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),t},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._cancellationPlrs&&(this._cancellationPlrs=new o.PromiseLikeResolutionSource,this._cancelled&&this._cancellationPlrs.tryResolve()),this._cancellationPlrs.promiseLike},enumerable:!0,configurable:!0}),e}(),c=new l;c.__int_cancel();var u=function(){function e(e){null!=e&&this.cancelAfter(e)}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancellationToken&&this._cancellationToken.isCancellationRequested},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._cancellationToken?this._cancellationToken.__int_cancel():this._cancellationToken=c},e.prototype.cancelAfter=function(e){var t=this;if(e<0)throw new RangeError("delay (arg#1) should be a non-negative number.");0===e?this.cancel():setTimeout(function(){t.cancel()},e)},Object.defineProperty(e.prototype,"token",{get:function(){return this._cancellationToken||(this._cancellationToken=new l),this._cancellationToken},enumerable:!0,configurable:!0}),e.race=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e,i=function(){n.cancel()},s=0,o=t;s<o.length;s++){var a=o[s];a&&a.subscribe(i)}return n},e}();t.CancellationTokenSource=u},"../packages/tasklike-promise-library/dist/primitives/disposable.js":
/*!**************************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/disposable.js ***!
  \**************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineDisposable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{dispose:function(){e.forEach(function(e){return e.dispose()})}}}},"../packages/tasklike-promise-library/dist/primitives/errors.js":
/*!**********************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/errors.js ***!
  \**********************************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(r,n){var i=e.call(this)||this;return i.rawValue=r,i.inner=n,i.name="RawValueError",i.getBaseError=o,Object.setPrototypeOf(i,t),i}return i(t,e),t}(Error);function o(){for(var e=this;null!=e.inner;)e=e.inner;return e}t.setInnerError=function(e,t){return e instanceof Error?(Object.defineProperty(e,"inner",{value:t,writable:!1}),Object.defineProperty(e,"getBaseError",{value:o,writable:!1}),e):new s(e,t)};var a=function(e){function t(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=e.call(this)||this;return s.name="RawValueError",Object.setPrototypeOf(s,t),s.innerErrors=n.filter(function(e){return null!=e}),s}return i(t,e),t.prototype.forEach=function(e,r){e.call(r,this);for(var n=0,i=this.innerErrors;n<i.length;n++){var s=i[n];e.call(r,s),s instanceof t&&s.forEach(e,r)}},t}(Error);t.AggregateError=a},"../packages/tasklike-promise-library/dist/primitives/eventEmitter.js":
/*!****************************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/eventEmitter.js ***!
  \****************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.addListener=function(e,t,r){var n=this,i={prev:this.tail,callback:e.bind(r),isAsync:t};return this.head||(console.assert(!this.tail),this.head=i),this.tail&&(this.tail.next=i),this.tail=i,{dispose:function(){i&&(i.prev?(console.assert(i.prev.next===i),i.prev.next=i.next):(console.assert(n.head===i),n.head=i.next),i.next?(console.assert(i.next.prev===i),i.next.prev=i.prev):(console.assert(n.tail===i),n.tail=i.prev),i=void 0)}}},e.prototype.raise=function(e){for(var t,r=this.head;r;)r.isAsync&&(t||(t=Promise.resolve(e)),t.then(r.callback)),r.callback(e),r=r.next},e.prototype.clearListeners=function(){this.head=this.tail=void 0},e}();t.EventEmitter=n},"../packages/tasklike-promise-library/dist/primitives/index.js":
/*!*********************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/index.js ***!
  \*********************************************************************/
/*! no static exports found */function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(/*! ./cancellation */"../packages/tasklike-promise-library/dist/primitives/cancellation.js")),n(r(/*! ./disposable */"../packages/tasklike-promise-library/dist/primitives/disposable.js")),n(r(/*! ./errors */"../packages/tasklike-promise-library/dist/primitives/errors.js")),n(r(/*! ./eventEmitter */"../packages/tasklike-promise-library/dist/primitives/eventEmitter.js")),n(r(/*! ./promiseResolutionSource */"../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js")),n(r(/*! ./promiseLikeResolutionSource */"../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js"))},"../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js":
/*!*******************************************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js ***!
  \*******************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./cancellation */"../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=r(/*! ./promiseResolutionSource */"../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js"),s=function(){function e(){}return e.prototype._ensurePromiseLikeInitialized=function(){this._promiseLike||(this._promiseLike=new o)},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._ensurePromiseLikeInitialized(),this._promiseLike},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__fulfill(e),!0)},e.prototype.tryCancel=function(){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(new n.PromiseCancelledError),!0)},e.prototype.tryReject=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(e),!0)},e}();t.PromiseLikeResolutionSource=s;var o=function(){function e(e,t){var r=this;this._onfulfilled=e,this._onrejected=t,this.fulfillNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryResolve(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__fulfill(e)}else if("string"==typeof r.next)return void console.error("Settled PromiseLike should not be resolved furthermore.",r.next);r.next="resolved",r.result=e},this.rejectNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryReject(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__reject(e)}else if("string"==typeof r.next)return void console.error("Settled PromisLike should not be rejected furthermore.",r.next);r.next="rejected",r.result=e}}return Object.defineProperty(e.prototype,"$__int__settled",{get:function(){return"string"==typeof this.next},enumerable:!0,configurable:!0}),e.prototype.$__int__fulfill=function(e){if("string"!=typeof this.next)try{if(this._onfulfilled){var t=this._onfulfilled(e);this.fulfillNext(t)}else this.fulfillNext(e)}catch(e){this._onrejected&&this.rejectNext(e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.$__int__reject=function(e){if("string"!=typeof this.next)try{if(this._onrejected){var t=this._onrejected(e);this.fulfillNext(t)}else this.rejectNext(e)}catch(e){this._onrejected?this.rejectNext(e):console.error("Uncaught SynchronousPromiseLike rejection: %o",e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.then=function(t,r){var n=new e(t,r);return this.next||(this.next=[]),Array.isArray(this.next)?this.next.push(n):"resolved"===this.next?n.$__int__fulfill(this.result):"rejected"===this.next?n.$__int__reject(this.result):console.error("Invalid state."),n},e.prototype.forceAsync=function(){return this.asnycPrs?this.asnycPrs.promise:"resolved"===this.next?Promise.resolve(this.result):"rejected"===this.next?Promise.reject(this.result):(console.assert(!this.next||Array.isArray(this.next)),this.asnycPrs=new i.PromiseResolutionSource,this.asnycPrs.promise)},e}()},"../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js":
/*!***************************************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js ***!
  \***************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./cancellation */"../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=function(){function e(){}return e.prototype._ensurePromiseInitialized=function(){var e=this;null==this._promise&&(this._promise=new Promise(function(t,r){e._resolve=t,e._reject=r}))},Object.defineProperty(e.prototype,"promise",{get:function(){return this._ensurePromiseInitialized(),this._promise},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseInitialized(),!!this._resolve&&(this._resolve(e),this._resolve=this._reject=void 0,!0)},e.prototype.tryCancel=function(){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(new n.PromiseCancelledError),this._resolve=this._reject=void 0,!0)},e.prototype.tryReject=function(e){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(e),this._resolve=this._reject=void 0,!0)},e}();t.PromiseResolutionSource=i},"./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tasklike-promise-library */"../packages/tasklike-promise-library/dist/index.js"),a=s(r(/*! tasklike-promise-library */"../packages/tasklike-promise-library/dist/index.js"));function l(e,t){return t?t.querySelector(e):document.querySelector(e)}function c(e){var t=document.createElement("div");return t.classList.add("error"),t.innerText=e&&e.stack||String(e),t}function u(e,t){var r=document.createElement("div");return r.innerText=t,e.appendChild(r),r}function p(e,t,r){return n(this,void 0,void 0,function(){var n,s,a,u,p,d;return i(this,function(i){switch(i.label){case 0:n=new o.CancellationTokenSource,s=function(){n.cancel()},a=l(t),(u=r?l(r):null)&&(u.addEventListener("click",s),u.disabled=!1),a.innerText="",i.label=1;case 1:return i.trys.push([1,4,5,6]),(p=e(a,u?n.token:void 0))?[4,p]:[3,3];case 2:i.sent(),i.label=3;case 3:return[3,6];case 4:return d=i.sent(),a.appendChild(c(d)),console.error(d),[3,6];case 5:return u&&(u.removeEventListener("click",s),u.disabled=!0),[7];case 6:return[2]}})})}function d(e){u(e,"Caller: Call myAsyncFunction."),function(){n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return u(e,"Callee: Do some work synchronously in myAsyncFunction…"),u(e,"Callee: myAsyncFunction is to yield…"),[4,o.yielded()];case 1:return t.sent(),u(e,"Callee: back from yielded state…"),u(e,"Callee: exiting."),[2]}})})}(),u(e,"Caller: We decide don't await for myAsyncFunction."),u(e,"Caller: exiting.")}function f(e,t){return n(this,void 0,void 0,function(){var r;return i(this,function(n){switch(n.label){case 0:return r=u(e,"Delay 0ms (SetTimeout(0) + yielded)."),[4,o.delay(0,t)];case 1:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 500ms."),[4,o.delay(500,t)];case 2:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 1s."),[4,o.delay(1e3,t)];case 3:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 2s."),[4,o.delay(2e3,t)];case 4:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 3s."),[4,o.delay(3e3,t)];case 5:return n.sent(),r.innerText+=" Finished.",u(e,"----------"),[2]}})})}function h(e,t){return n(this,void 0,void 0,function(){function r(r){return n(this,void 0,void 0,function(){var n,s,a,l;return i(this,function(i){switch(i.label){case 0:n=u(e,r.method+" request to "+r.url+"…"),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,o.sendRequest(r,t)];case 2:return s=i.sent(),n.innerText+=" "+s.statusCode+" "+s.statusText,u(e,"Content-Type: "+s.xhr.getResponseHeader("Content-Type")),(a=document.createElement("pre")).classList.add("http-response-body"),a.innerText=s.xhr.responseText,e.appendChild(a),n=u(e,"ensureSuccessfulStatusCode…"),s.ensureSuccessfulStatusCode(),n.innerText+=" Successful.",[3,5];case 3:if((l=i.sent())instanceof o.PromiseCancelledError)throw l;return e.appendChild(c(l)),[3,5];case 4:return u(e,"----------"),[7];case 5:return[2]}})})}return i(this,function(e){switch(e.label){case 0:return[4,r({url:"tsconfig.json?rand="+Math.random(),method:"GET",timeout:2e3})];case 1:return e.sent(),[4,r({url:"tsconfig.json",method:"POST"})];case 2:return e.sent(),[2]}})})}function y(e,t){return n(this,void 0,void 0,function(){var r,n,s,a,l,c,p;return i(this,function(i){switch(i.label){case 0:t&&t.throwIfCancellationRequested(),u(e,"requestIdleCallbackAsync"),r=u(e,"Requesting…"),n=0,s=0,i.label=1;case 1:return!t||t.isCancellationRequested?[3,3]:[4,o.requestIdleCallbackAsync({timeout:1e3},t)];case 2:return c=i.sent(),p=c.deadline.timeRemaining(),n++,c.deadline.didTimeout&&s++,a=null==a?p:Math.min(p,a),l=null==l?p:Math.max(p,l),r.innerText="Requested: "+n+" times, timed-outs: "+s+", minIdleTime: "+a+", maxIdleTime: "+l,[3,1];case 3:return[2]}})})}function m(e,t){return n(this,void 0,void 0,function(){var r,n,s,a,l,c,p,d,f,h,y,m,_,v,b,k,j;return i(this,function(i){switch(i.label){case 0:t&&t.throwIfCancellationRequested(),u(e,"requestAnimationFrameAsync"),r=u(e,"Requesting…"),n=u(e,"This is <DIV>."),s=800,a=500,30,(l=document.createElement("button")).innerText="ball",l.style.borderRadius="15px",l.style.position="absolute",l.style.width=l.style.height="30px",n.style.position="relative",n.style.width=s+"px",n.style.height=a+"px",n.appendChild(l),c=performance.now(),p=c,d=0,f=0,h=200,y=200,0,m=150,_=0,i.label=1;case 1:return t&&t.isCancellationRequested?[3,3]:[4,o.requestAnimationFrameAsync(t)];case 2:return v=i.sent(),b=v.time-p,j=f+y*(b/1e3),(k=d+h*(b/1e3))<0||k+l.offsetWidth>s?h=-h*(.2*Math.random()+.8):(d=k,l.style.left=k+"px"),j<0||j+l.offsetHeight>a?y=-y*(.2*Math.random()+.8):(f=j,y+=m*(b/1e3),l.style.top=j+"px"),p=v.time,++_>30&&(r.innerText="Frames: "+_+", time: "+((v.time-c)/1e3).toFixed(2)+" sec., FPS: "+(1e3*_/(v.time-c)).toFixed(2)+"."),[3,1];case 3:return[2]}})})}l("#tpl-yielded-run").addEventListener("click",function(){return p(d,"#tpl-yielded-panel")}),l("#tpl-delay-run").addEventListener("click",function(){return p(f,"#tpl-delay-panel","#tpl-delay-cancel")}),l("#tpl-sendrequest-run").addEventListener("click",function(){return p(h,"#tpl-sendrequest-panel","#tpl-sendrequest-cancel")}),l("#tpl-requesticb-run").addEventListener("click",function(){return p(y,"#tpl-requesticb-panel","#tpl-requesticb-cancel")}),l("#tpl-requestaf-run").addEventListener("click",function(){return p(m,"#tpl-requestaf-panel","#tpl-requestaf-cancel")}),window.TPL=a}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvZGVsYXllZENhbGxiYWNrcy5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvaHR0cC5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvY2FuY2VsbGF0aW9uLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9wcmltaXRpdmVzL2Rpc3Bvc2FibGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvZXJyb3JzLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9wcmltaXRpdmVzL2V2ZW50RW1pdHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvcHJpbWl0aXZlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvcHJpbWl0aXZlcy9wcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvcHJvbWlzZVJlc29sdXRpb25Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2FuY2VsbGF0aW9uXzEiLCJwcm9taXNlUmVzb2x1dGlvblNvdXJjZV8xIiwiX3lpZWxkZWRQcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJkZWxheSIsIm1pbGxpc2Vjb25kcyIsImNhbmNlbGxhdGlvblRva2VuIiwiUmFuZ2VFcnJvciIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJwcnMiLCJQcm9taXNlUmVzb2x1dGlvblNvdXJjZSIsImlkIiwic2V0VGltZW91dCIsInRyeVJlc29sdmUiLCJzdWJzY3JpYmUiLCJjbGVhclRpbWVvdXQiLCJ0cnlSZWplY3QiLCJQcm9taXNlQ2FuY2VsbGVkRXJyb3IiLCJwcm9taXNlIiwieWllbGRlZCIsImZyb21SZXNvbHZlZCIsInJlc3VsdCIsImZyb21SZWplY3RlZCIsInJlYXNvbiIsInJlamVjdCIsImZyb21DYW5jZWxsZWQiLCJwcmltaXRpdmVzXzEiLCJzZXRUaW1lb3V0QXN5bmMiLCJzdWJzY3JpcHRpb24iLCJwbHJzIiwiUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlIiwid2luZG93IiwiZGlzcG9zZSIsInRyeUNhbmNlbCIsInByb21pc2VMaWtlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMiLCJvcHRpb25zIiwicmVxdWVzdElkbGVDYWxsYmFjayIsImRlYWRsaW5lIiwiY2FuY2VsSWRsZUNhbGxiYWNrIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInRoaXMiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fIiwiY29uc3RydWN0b3IiLCJIdHRwUmVxdWVzdEVycm9yIiwiX3N1cGVyIiwibWVzc2FnZSIsIl90aGlzIiwiRXJyb3IiLCJYaHJSZXNwb25zZSIsInhociIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiaXNTdWNjZXNzZnVsU3RhdHVzQ29kZSIsImNvbnNvbGUiLCJhc3NlcnQiLCJlbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZSIsInNlbmRSZXF1ZXN0IiwicmVxdWVzdCIsImNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbiIsIlhNTEh0dHBSZXF1ZXN0IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm9wZW4iLCJtZXRob2QiLCJ1cmwiLCJ0aW1lb3V0IiwiaGVhZGVycyIsIm5hbWVfMSIsInNldFJlcXVlc3RIZWFkZXIiLCJyZXNwb25zZVR5cGUiLCJ3aXRoQ3JlZGVudGlhbHMiLCJvbmxvYWQiLCJyZWFkeVN0YXRlIiwib25lcnJvciIsIm9udGltZW91dCIsImFib3J0Iiwic2VuZCIsImJvZHkiLCJfX2V4cG9ydCIsImV2ZW50RW1pdHRlcl8xIiwicHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXzEiLCJDYW5jZWxsYXRpb25Ub2tlbiIsIl9jYW5jZWxsZWQiLCJjb25maWd1cmFibGUiLCJfX2ludF9jYW5jZWwiLCJfY2FuY2VsbGF0aW9uRXZlbnQiLCJyYWlzZSIsImNsZWFyTGlzdGVuZXJzIiwiX2NhbmNlbGxhdGlvblBscnMiLCJjYWxsYmFjayIsIkV2ZW50RW1pdHRlciIsImFkZExpc3RlbmVyIiwiY2FuY2VsbGVkVG9rZW4iLCJDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSIsImNhbmNlbEFmdGVyRGVsYXkiLCJjYW5jZWxBZnRlciIsIl9jYW5jZWxsYXRpb25Ub2tlbiIsImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwiY2FuY2VsIiwicmFjZSIsImNhbmNlbGxhdGlvblRva2VucyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY3RzIiwiY2FuY2VsbGF0aW9uQ2FsbGJhY2siLCJfYSIsImNhbmNlbGxhdGlvblRva2Vuc18xIiwidG9rZW4iLCJjb21iaW5lRGlzcG9zYWJsZSIsImRpc3Bvc2FibGVzIiwiZm9yRWFjaCIsIlJhd1ZhbHVlRXJyb3IiLCJyYXdWYWx1ZSIsImlubmVyIiwiZ2V0QmFzZUVycm9yIiwiY3VycmVudCIsInNldElubmVyRXJyb3IiLCJlcnJvciIsIndyaXRhYmxlIiwiQWdncmVnYXRlRXJyb3IiLCJlcnJvcnMiLCJpbm5lckVycm9ycyIsImZpbHRlciIsImUiLCJ0aGlzQXJnIiwibGlzdGVuZXIiLCJpc0FzeW5jIiwiaXRlbSIsInByZXYiLCJ0YWlsIiwiaGVhZCIsIm5leHQiLCJ1bmRlZmluZWQiLCJhcmciLCJyZXNvbHZlZFByb21pc2UiLCJ0aGVuIiwiX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQiLCJfcHJvbWlzZUxpa2UiLCJTeW5jaHJvbm91c1Byb21pc2VMaWtlIiwiJF9faW50X19zZXR0bGVkIiwiJF9faW50X19mdWxmaWxsIiwiJF9faW50X19yZWplY3QiLCJfb25mdWxmaWxsZWQiLCJfb25yZWplY3RlZCIsImZ1bGZpbGxOZXh0IiwibmV4dFJlc3VsdCIsInJlamVjdE5leHQiLCJhc255Y1BycyIsImlzQXJyYXkiLCJuZXh0UmVhc29uIiwicHJldlJlc3VsdCIsIm9uZnVsZmlsbGVkIiwib25yZWplY3RlZCIsInB1c2giLCJmb3JjZUFzeW5jIiwiX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCIsIl9wcm9taXNlIiwicmVzIiwicmVqIiwiX3Jlc29sdmUiLCJfcmVqZWN0IiwiJCIsInNlbGVjdG9yIiwic2NvcGUiLCJxdWVyeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJidWlsZEVycm9yUGFuZWwiLCJlcnJCb3giLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJUZXh0Iiwic3RhY2siLCJTdHJpbmciLCJhcHBlbmRMaW5lIiwiY29udGFpbmVyIiwiY29udGVudCIsImxpbmUiLCJhcHBlbmRDaGlsZCIsInJ1bkRlbW8iLCJkZW1vRnVuYyIsInBhbmVsU2VsZWN0b3IiLCJjYW5jZWxsYXRpb25CdXR0b25TZWxlY3RvciIsIm9uQ2FuY2VsIiwicGFuZWwiLCJjYW5jZWxCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzYWJsZWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGVtb1lpZWxkIiwibXlBc3luY0Z1bmN0aW9uIiwiZGVtb0RlbGF5IiwiY3QiLCJsYXN0TGluZSIsImRlbW9IdHRwIiwic2VuZEFuZFJlcG9ydCIsInJlc3BvbnNlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJib2R5Q29udGFpbmVyIiwicmVzcG9uc2VUZXh0IiwiTWF0aCIsInJhbmRvbSIsImRlbW9SZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMiLCJjb3VudGVyIiwidGltZW91dENvdW50ZXIiLCJjb250ZXh0IiwidGltZVJlbWFpbmluZyIsImRpZFRpbWVvdXQiLCJtaW5JZGxlVGltZSIsIm1pbiIsIm1heElkbGVUaW1lIiwibWF4IiwiZGVtb1JlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jIiwiY2FudmFzIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJiYWxsIiwic3R5bGUiLCJib3JkZXJSYWRpdXMiLCJwb3NpdGlvbiIsIndpZHRoIiwiaGVpZ2h0IiwiYmFsbFNpemUiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInByZXZUaW1lIiwicHgiLCJweSIsInZ4IiwidnkiLCJheSIsImZyYW1lQ291bnRlciIsImZyYW1lRHVyYXRpb24iLCJ5IiwieCIsIm9mZnNldFdpZHRoIiwibGVmdCIsIm9mZnNldEhlaWdodCIsInRvcCIsInRvRml4ZWQiLCJUUEwiLCJ0cGxBbWJpZW50Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1L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RC9CRSxFQUFJUixFQUFLRSxHQUFNSSxFQUFnQixNQUUzQixHQUFLRSxFQUFJbkIsRUFBS29CLFlBQWN0QixFQUNoQ2UsR0FBTUEsR0FBc0IsR0FBaEI3QixLQUFLQyxTQUFpQixLQUVsQzBCLEVBQUtRLEVBQ0xuQixFQUFLQyxNQUFNb0IsS0FBT0YsRUFBSSxNQUV0QkQsRUFBSSxHQUFLQSxFQUFJbEIsRUFBS3NCLGFBQWV2QixFQUNqQ2UsR0FBTUEsR0FBc0IsR0FBaEI5QixLQUFLQyxTQUFpQixLQUVsQzJCLEVBQUtNLEVBQ0xKLEdBQU1DLEdBQU1FLEVBQWdCLEtBQzVCakIsRUFBS0MsTUFBTXNCLElBQU1MLEVBQUksTUFFekJSLEVBQVdyQixFQUFRcEwsT0FDbkIrTSxFQUNtQixLQUNmdkwsRUFBTzBILFVBQVksV0FBVzZELEVBQVksYUFBYTNCLEVBQVFwTCxLQUFPc00sR0FBYSxLQUFNaUIsUUFBUSxHQUFFLGdCQUErQixJQUFmUixHQUF1QjNCLEVBQVFwTCxLQUFPc00sSUFBWWlCLFFBQVEsR0FBRSxLLDRCQW5MdkwvRSxFQUFFLG9CQUFxQnlCLGlCQUFpQixRQUFTLFdBQU0sT0FBQVAsRUFBUVUsRUFBVyx3QkFDMUU1QixFQUFFLGtCQUFtQnlCLGlCQUFpQixRQUFTLFdBQU0sT0FBQVAsRUFBUVksRUFBVyxtQkFBb0IsdUJBQzVGOUIsRUFBRSx3QkFBeUJ5QixpQkFBaUIsUUFBUyxXQUFNLE9BQUFQLEVBQVFlLEVBQVUseUJBQTBCLDZCQUN2R2pDLEVBQUUsdUJBQXdCeUIsaUJBQWlCLFFBQVMsV0FBTSxPQUFBUCxFQUFRdUIsRUFBOEIsd0JBQXlCLDRCQUN6SHpDLEVBQUUsc0JBQXVCeUIsaUJBQWlCLFFBQVMsV0FBTSxPQUFBUCxFQUFRaUMsRUFBZ0MsdUJBQXdCLDJCQUV4SGpNLE9BQWlEOE4sSUFBTUMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC50c1wiKTtcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIENvbnRhaW5zIGNvbW1vbiB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgYFByb21pc2VgLlxyXG4gKi9cclxuLyoqICovXHJcbnZhciBjYW5jZWxsYXRpb25fMSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXMvY2FuY2VsbGF0aW9uXCIpO1xyXG52YXIgcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VfMSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXMvcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VcIik7XHJcbnZhciBfeWllbGRlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuLyoqXHJcbiAqIEdldHMgYSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyBhZnRlciB0aGUgc3BlY2lmaWVkIHRpbWUgb2YgZGVsYXkuXHJcbiAqIEBwYXJhbSBtaWxsaXNlY29uZHMgbm9uLW5lZ2F0aXZlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHRoZSByZXR1cm5lZCBgUHJvbWlzZWAgcmVzb2x2ZXMuXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSByZXR1cm5lZCBgUHJvbWlzZWAuXHJcbiAqIEBzZWUge0BsaW5rIHlpZWxkZWR9XHJcbiAqIEB0b2RvIG1ha2UgdGhpcyBmdW5jdGlvbiBhbHNvIHdvcmtzIGluIG5vZGVqcy5cclxuICovXHJcbmZ1bmN0aW9uIGRlbGF5KG1pbGxpc2Vjb25kcywgY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGlmIChtaWxsaXNlY29uZHMgPCAwKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJtaWxsaXNlY29uZHMgKGFyZyMxKSBzaG91bGQgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLlwiKTtcclxuICAgIH1cclxuICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIHZhciBwcnMgPSBuZXcgcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VfMS5Qcm9taXNlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgLy8gVE9ETyBtYWtlIHNldFRpbWVvdXQgaW5qZWN0YWJsZS5cclxuICAgIHZhciBpZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBwcnMudHJ5UmVzb2x2ZSgpOyB9LCBtaWxsaXNlY29uZHMpO1xyXG4gICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgICAgICAgcHJzLnRyeVJlamVjdChuZXcgY2FuY2VsbGF0aW9uXzEuUHJvbWlzZUNhbmNlbGxlZEVycm9yKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBycy5wcm9taXNlO1xyXG59XHJcbmV4cG9ydHMuZGVsYXkgPSBkZWxheTtcclxuLyoqXHJcbiAqIFJldHVybnMgYSBgUHJvbWlzZUxpa2VgIGluc3RhbmNlIHRoYXQsIHdoZW4gdXNlZCB3aXRoIGBhd2FpdGAgZXhwcmVzc2lvbixcclxuICogYXN5bmNocm9ub3VzbHkgeWllbGRzIGJhY2sgdG8gdGhlIGNvZGUgYmVsb3cuIFRoZSBpbnN0YW5jZSByZXR1cm5lZCBiZWhhdmVzXHJcbiAqIGxpa2UgdGhlIHJldHVybmVkIHZhbHVlIG9mIGBQcm9taXNlLnJlc29sdmUoKWAuXHJcbiAqXHJcbiAqIE5vdGU6IFRoZSBtYWpvciBkaWZmZXJlbmNlIGJldHdlZW4gYHlpZWxkZWQoKWAgYW5kIGBkZWxheSgwKWAsIGlzIHRoYXQgYGRlbGF5YCB3aWxsXHJcbiAqIHJlc29sdmUgdGhlIHJldHVybmVkIGBQcm9taXNlYCBpbiBhIGBzZXRUaW1lb3V0YCBjYWxsYmFjaywgZXZlbiBpZiB0aGUgZGVsYXkgdGltZSBpcyBgMGAuXHJcbiAqIFRoaXMgd2lsbCBjYXVzZSBgUHJvbWlzZWAgcmV0dXJuZWQgYnkgYGRlbGF5YCBiZSAqcmVzb2x2ZWQqIGluIG1hcmNvVGFzayBxdWV1ZSBvbiBzb21lIGV4ZWN1dGlvbiBlbmdpbmUuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGRlbGF5fVxyXG4gKi9cclxuZnVuY3Rpb24geWllbGRlZCgpIHtcclxuICAgIHJldHVybiBfeWllbGRlZFByb21pc2U7XHJcbn1cclxuZXhwb3J0cy55aWVsZGVkID0geWllbGRlZDtcclxuLyoqXHJcbiAqIEdldHMgYSByZXNvbHZlZCBgUHJvbWlzZWAuXHJcbiAqIFRoaXMgZnVuY3Rpb24gYmVoYXZlcyB0aGUgc2FtZSBhcyBgUHJvbWlzZS5yZXNvbHZlYC5cclxuICogQHBhcmFtIHJlc3VsdCB0aGUgcmVzdWx0IG9mIHRoZSByZXNvbHZlZCBgUHJvbWlzZWAuXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tUmVzb2x2ZWQocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XHJcbn1cclxuZXhwb3J0cy5mcm9tUmVzb2x2ZWQgPSBmcm9tUmVzb2x2ZWQ7XHJcbi8qKlxyXG4gKiBHZXRzIGEgcmVqZWN0ZWQgYFByb21pc2VgLlxyXG4gKiBUaGlzIGZ1bmN0aW9uIGJlaGF2ZXMgdGhlIHNhbWUgYXMgYFByb21pc2UucmVqZWN0YC5cclxuICogQHBhcmFtIHJlYXNvbiB0aGUgcmVqZWN0aW9uIHJlYXNvbiwgb3IgdGhlIGBFcnJvcmAgY2F1c2luZyB0aGUgcmVqZWN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbVJlamVjdGVkKHJlYXNvbikge1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XHJcbn1cclxuZXhwb3J0cy5mcm9tUmVqZWN0ZWQgPSBmcm9tUmVqZWN0ZWQ7XHJcbi8qKlxyXG4gKiBHZXRzIGEgY2FuY2VsbGVkIGBQcm9taXNlYC5cclxuICpcclxuICogQSBjYW5jZWxsZWQgYFByb21pc2VgIGlzIGEgYFByb21pc2VgIHJlamVjdGVkIHdpdGgge0BsaW5rIFByb21pc2VDYW5jZWxsZWRFcnJvcn0uXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tQ2FuY2VsbGVkKCkge1xyXG4gICAgLy8gV2Ugd2FudCB0byBjYXB0dXJlIHRoZSBzdGFjayB0cmFjZS5cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgY2FuY2VsbGF0aW9uXzEuUHJvbWlzZUNhbmNlbGxlZEVycm9yKCkpO1xyXG59XHJcbmV4cG9ydHMuZnJvbUNhbmNlbGxlZCA9IGZyb21DYW5jZWxsZWQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogQG1vZHVsZVxyXG4gKiBDb250YWlucyBhZGFwdGVyIGZ1bmN0aW9ucyB0aGF0IGFsbG93cyB5b3UgdG8gc3dpdGNoIGludG8gYW5vdGhlciBjb250ZXh0IHdoZW4geW91IHN1YnNjcmliZSB0aGUgcmV0dXJuZWQgYFByb21pc2VMaWtlYHMuXHJcbiAqIEZvciBleGFtcGxlLCBpbiBhc3luYyBmdW5jdGlvbnMsIGlmIHlvdSB3YW50IHRvIGV4ZWN1dGUgcGFydCBvZiB5b3VyIGxvZ2ljIGluc2lkZSBhblxyXG4gKiBbYW5pbWF0aW9uIGZyYW1lXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvd2luZG93L3JlcXVlc3RBbmltYXRpb25GcmFtZSksXHJcbiAqIHlvdSBtYXkgbm93IHVzZSBhIHNpbXBsZSBsb29wIGluc2lkZSB0aGUgYXN5bmNocm9ub3VzIGZ1bmN0aW9uLlxyXG4gKiBgYGB0c1xyXG4gKiBpbXBvcnQgeyBJQ2FuY2VsbGF0aW9uVG9rZW4sIHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jIH0gZnJvbSBcInRhc2tsaWtlLXByb21pc2UtbGlicmFyeVwiO1xyXG4gKlxyXG4gKiBhc3luYyBmdW5jdGlvbiBwbGF5QW5pbWF0aW9uKGNhbmNlbGxhdGlvblRva2VuPzogSUNhbmNlbGxhdGlvblRva2VuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAqICAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAqICAgICBsZXQgcHJldlRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICogICAgIGxldCBjdXJyZW50V2lkdGggPSAwO1xyXG4gKiAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LnBhbmVsXCIpO1xyXG4gKiAgICAgd2hpbGUgKCFjYW5jZWxsYXRpb25Ub2tlbiB8fCAhY2FuY2VsbGF0aW9uVG9rZW4uaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQpIHtcclxuICogICAgICAgICBjb25zdCBhbmltYXRpb25GcmFtZSA9IGF3YWl0IHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKGNhbmNlbGxhdGlvblRva2VuKTtcclxuICogICAgICAgICAvLyBGcm9tIG5vdyBvbiwgd2UgYXJlIGluc2lkZSBSQUYgY2FsbGJhY2suXHJcbiAqICAgICAgICAgLy8gYGFuaW1hdGlvbkZyYW1lYCBjb250YWlucyB0aGUgaW5mb3JtYXRpb24gcGFzc2VkIGZyb20gUkFGIGNhbGxiYWNrLFxyXG4gKiAgICAgICAgIC8vIGJhc2ljYWxseSwgdGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGFuaW1hdGlvbiBmcmFtZS5cclxuICogICAgICAgICAvLyBNYWtlIHNvbWUgYW5pbWF0aW9uIGhlcmUuXHJcbiAqICAgICAgICAgY29uc3QgZnJhbWVEdXJhdGlvbiA9IGFuaW1hdGlvbkZyYW1lLnRpbWUgLSBwcmV2VGltZTtcclxuICogICAgICAgICAvLyBMZXQgdGhlIHdpZHRoIG9mIC5wYW5lbCBpbmNyZWFzZSBieSAxMCBwaXhlbC9zZWMuXHJcbiAqICAgICAgICAgY3VycmVudFdpZHRoICs9IGZyYW1lRHVyYXRpb24gKiAxMCAqIGZyYW1lRHVyYXRpb24gLyAxMDAwO1xyXG4gKiAgICAgICAgIHBhbmVsLnN0eWxlcy53aXRoID0gTWF0aC5yb3VuZChjdXJyZW50V2lkdGgpICsgXCJweFwiO1xyXG4gKiAgICAgICAgIHByZXZUaW1lID0gYW5pbWF0aW9uRnJhbWUudGltZTtcclxuICogICAgICAgICAvLyBFbmQgb2YgUkFGIGNhbGxiYWNrLlxyXG4gKiAgICAgICAgIC8vIChNb3JlIHByZWNpc2VseSwgdGhlIGNhbGxiYWNrIHN0b3AgYXQgdGhlIG5leHQgYGF3YWl0IHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jYCBleHByZXNzaW9uLilcclxuICogICAgICAgICAvLyBUaGUgbmV4dCBgYXdhaXQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmNgIGV4cHJlc3Npb24gd2lsbCBsZXQgdXMgZW50ZXIgYW5vdGhlciBSQUYgY2FsbGJhY2suXHJcbiAqICAgICAgICAgLy8gVG8gZXhpdCB0aGUgY3VycmVudCBSQUYgY2FsbGJhY2sgYW5kIGVudGVyIGFub3RoZXIgYXJiaXRyYXJ5IGFzeW5jaHJvbm91cyBjYWxsYmFjayBpbiB0aGUgc2FtZSBhc3luYyBmdW5jdGlvbixcclxuICogICAgICAgICAvLyBVc2UgYHlpZWxkZWQoKWAgb3IgYGRlbGF5KDApYCBmcm9tIGBcImNvbW1vblwiYCBtb2R1bGUuXHJcbiAqICAgICB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG4vKiogKi9cclxudmFyIHByaW1pdGl2ZXNfMSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXNcIik7XHJcbi8qKlxyXG4gKiBHZXRzIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgd2luZG93LnNldFRpbWVvdXRgIGNhbGxiYWNrLlxyXG4gKiBAcGFyYW0gbWlsbGlzZWNvbmRzIHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYmVmb3JlIHRoZSBgUHJvbWlzZUxpa2VgIHJlc29sdmVzLlxyXG4gKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW4gYSB0b2tlbiB1c2VkIHRvIGNhbmNlbCB0aGUgdGltZW91dCB3aXRoIGB3aW5kb3cuY2xlYXJUaW1lb3V0YC5cclxuICogQHJldHVybnMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cuc2V0VGltZW91dGAgY2FsbGJhY2suXHJcbiAqIFJlc29sdmVkIHZhbHVlIGlzIHRoZSB0aW1lb3V0IElEIHJldHVybmVkIGZyb20gYHdpbmRvdy5zZXRUaW1lb3V0YC5cclxuICogQHJlbWFya3MgQ29tcGFyZWQgd2l0aCB7QGxpbmsgZGVsYXl9LCB0aGlzIGZ1bmN0aW9uIGlzIG1vcmUgbG93LWxldmVsIGFuZCB5b3Ugc2hvdWxkIHByZWZlciB0b1xyXG4gKiB1c2Uge0BsaW5rIGRlbGF5fSB3aGVuIHBvc3NpYmxlLlxyXG4gKi9cclxuZnVuY3Rpb24gc2V0VGltZW91dEFzeW5jKG1pbGxpc2Vjb25kcywgY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIHZhciBwbHJzID0gbmV3IHByaW1pdGl2ZXNfMS5Qcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBzdWJzY3JpcHRpb247XHJcbiAgICB2YXIgaWQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZXNvbHZlKGlkKTtcclxuICAgIH0sIG1pbGxpc2Vjb25kcyk7XHJcbiAgICBpZiAoY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gPSBjYW5jZWxsYXRpb25Ub2tlbi5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgICAgICAgcGxycy50cnlDYW5jZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBwbHJzLnByb21pc2VMaWtlO1xyXG59XHJcbmV4cG9ydHMuc2V0VGltZW91dEFzeW5jID0gc2V0VGltZW91dEFzeW5jO1xyXG4vKipcclxuICogR2V0cyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxyXG4gKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW4gYSB0b2tlbiB1c2VkIHRvIGNhbmNlbCB0aGUgdGltZW91dCB3aXRoIGB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWVgLlxyXG4gKiBAcmV0dXJucyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxyXG4gKiBSZXNvbHZlZCB2YWx1ZSBjb250YWlucyBSQUYgY29udGV4dC5cclxuICovXHJcbmZ1bmN0aW9uIHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgcGxycyA9IG5ldyBwcmltaXRpdmVzXzEuUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCk7XHJcbiAgICB2YXIgc3Vic2NyaXB0aW9uO1xyXG4gICAgdmFyIGlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgIHN1YnNjcmlwdGlvbiAmJiBzdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIHBscnMudHJ5UmVzb2x2ZSh7IGlkOiBpZCwgdGltZTogdGltZSB9KTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcclxuICAgICAgICAgICAgcGxycy50cnlDYW5jZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBwbHJzLnByb21pc2VMaWtlO1xyXG59XHJcbmV4cG9ydHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYztcclxuLyoqXHJcbiAqIEdldHMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFja2AgY2FsbGJhY2suXHJcbiAqIEl0IGJhc2ljYWxseSBleGVjdXRlcyB0aGUgY2FsbGJhY2sgd2hlbiB0aGUgSmF2YVNjcmlwdCBldmVudCBsb29wIGlzIGlkbGUsIG9yIHRoZSBzcGVjaWZpZWQgdGltZW91dCBoYXMgcmVhY2hlZC5cclxuICogQHBhcmFtIG9wdGlvbnMgb3B0aW9ucyBwYXNzZWQgaW50byBgcmVxdWVzdElkbGVDYWxsYmFja2AgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSB0aW1lb3V0IHdpdGggYHdpbmRvdy5jYW5jZWxJZGxlQ2FsbGJhY2tgLlxyXG4gKiBAcmV0dXJucyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrYCBjYWxsYmFjay5cclxuICogUmVzb2x2ZWQgdmFsdWUgY29udGFpbnMgcmVxdWVzdElkbGVDYWxsYmFjayBjb250ZXh0LlxyXG4gKiBAZXhwZXJpbWVudGFsIFVuZGVybHlpbmcgYHJlcXVlc3RJZGxlQ2FsbGJhY2tgIGZ1bmN0aW9uIGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlLlxyXG4gKiBTZWUgW01ETiBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L3JlcXVlc3RJZGxlQ2FsbGJhY2spIGZvciBtb3JlIGluZm9ybWF0aW9uXHJcbiAqIG9uIGl0IGNvbXBhdGliaWxpdHkuXHJcbiAqL1xyXG5mdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMob3B0aW9ucywgY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIHZhciBwbHJzID0gbmV3IHByaW1pdGl2ZXNfMS5Qcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBzdWJzY3JpcHRpb247XHJcbiAgICB2YXIgaWQgPSB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayhmdW5jdGlvbiAoZGVhZGxpbmUpIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gJiYgc3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlc29sdmUoeyBpZDogaWQsIGRlYWRsaW5lOiBkZWFkbGluZSB9KTtcclxuICAgIH0sIG9wdGlvbnMpO1xyXG4gICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayhpZCk7XHJcbiAgICAgICAgICAgIHBscnMudHJ5Q2FuY2VsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGxycy5wcm9taXNlTGlrZTtcclxufVxyXG5leHBvcnRzLnJlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYyA9IHJlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsYXllZENhbGxiYWNrcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogQ29udGFpbnMgZnVuY3Rpb25zIGZvciBhd2FpdGFibGUgSFRUUCByZXF1ZXN0LlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBzZW5kUmVxdWVzdH1cclxuICovXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKiAqL1xyXG52YXIgcHJpbWl0aXZlc18xID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlc1wiKTtcclxudmFyIGNhbmNlbGxhdGlvbl8xID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlcy9jYW5jZWxsYXRpb25cIik7XHJcbi8qKlxyXG4gKiBBbiBlcnJvciByYWlzZXMgd2hlbiBhbiBIVFRQIHJlcXVlc3QgZmFpbHMgZHVlIHRvIG5ldHdvcmsgdHJhbnNwb3J0YXRpb25cclxuICogb3Igc2VydmVyIHJlc3BvbnNlLlxyXG4gKi9cclxudmFyIEh0dHBSZXF1ZXN0RXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoSHR0cFJlcXVlc3RFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEh0dHBSZXF1ZXN0RXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UgPT0gbnVsbCA/IFwiVGhlIEhUVFAgcmVxdWVzdCBoYXMgZmFpbGVkLlwiIDogbWVzc2FnZSkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5uYW1lID0gXCJIdHRwUmVxdWVzdEVycm9yXCI7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBIdHRwUmVxdWVzdEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEh0dHBSZXF1ZXN0RXJyb3I7XHJcbn0oRXJyb3IpKTtcclxuZXhwb3J0cy5IdHRwUmVxdWVzdEVycm9yID0gSHR0cFJlcXVlc3RFcnJvcjtcclxudmFyIFhoclJlc3BvbnNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gWGhyUmVzcG9uc2UoeGhyKSB7XHJcbiAgICAgICAgdGhpcy54aHIgPSB4aHI7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNDb2RlID0gdGhpcy54aHIuc3RhdHVzO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMueGhyLnN0YXR1c1RleHQ7XHJcbiAgICAgICAgdGhpcy5pc1N1Y2Nlc3NmdWxTdGF0dXNDb2RlID0gdGhpcy54aHIuc3RhdHVzID49IDIwMCAmJiB0aGlzLnhoci5zdGF0dXMgPD0gMjk5O1xyXG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHhocik7XHJcbiAgICB9XHJcbiAgICBYaHJSZXNwb25zZS5wcm90b3R5cGUuZW5zdXJlU3VjY2Vzc2Z1bFN0YXR1c0NvZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzU3VjY2Vzc2Z1bFN0YXR1c0NvZGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEh0dHBSZXF1ZXN0RXJyb3IoXCJUaGUgSFRUUCByZXNwb25zZSBjb2RlIFwiICsgdGhpcy5zdGF0dXNDb2RlICsgXCIgaW5kaWNhdGVzIGZhaWx1cmUuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gWGhyUmVzcG9uc2U7XHJcbn0oKSk7XHJcbi8qKlxyXG4gKiBTZW5kcyBhbiBIVFRQIHJlcXVlc3Qgd2l0aCBgWE1MSHR0cFJlcXVlc3RgLlxyXG4gKiBAcGFyYW0gcmVxdWVzdCB0aGUgcmVxdWVzdCBwYXJhbWV0ZXJzLlxyXG4gKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW4gYSB0b2tlbiB1c2VkIHRvIGNhbmNlbCB0aGUgb3BlcmF0aW9uIGFuZCBhYm9ydCB0aGUgSFRUUCByZXF1ZXN0LlxyXG4gKiBAcmV0dXJucyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYFhNTEh0dHBSZXF1ZXN0YCBjYWxsYmFjay5cclxuICogQHRocm93cyB7QGxpbmsgUHJvbWlzZUNhbmNlbGxlZEVycm9yfSBpZiB0aGUgcmVxdWVzdCBoYXMgZWl0aGVyIHRpbWVkLW91dCwgb3IgY2FuY2VsbGVkIHZpYSBgY2FuY2VsbGF0aW9uVG9rZW5gLlxyXG4gKi9cclxuZnVuY3Rpb24gc2VuZFJlcXVlc3QocmVxdWVzdCwgY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHZhciBwbHJzID0gbmV3IHByaW1pdGl2ZXNfMS5Qcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb247XHJcbiAgICBpZiAocmVxdWVzdC51c2VybmFtZSAhPSBudWxsIHx8IHJlcXVlc3QucGFzc3dvcmQgIT0gbnVsbCkge1xyXG4gICAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSwgcmVxdWVzdC51c2VybmFtZSwgcmVxdWVzdC5wYXNzd29yZCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwpO1xyXG4gICAgfVxyXG4gICAgLy8gSW4gSUUgdGhlIHRpbWVvdXQgcHJvcGVydHkgbWF5IG9ubHkgYmUgc2V0IGFmdGVyIGNhbGxpbmcgb3BlbiBhbmQgYmVmb3JlIGNhbGxpbmcgc2VuZC5cclxuICAgIGlmIChyZXF1ZXN0LnRpbWVvdXQpIHtcclxuICAgICAgICB4aHIudGltZW91dCA9IHJlcXVlc3QudGltZW91dDtcclxuICAgIH1cclxuICAgIGlmIChyZXF1ZXN0LmhlYWRlcnMpIHtcclxuICAgICAgICBmb3IgKHZhciBuYW1lXzEgaW4gcmVxdWVzdC5oZWFkZXJzKSB7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVxdWVzdC5oZWFkZXJzLCBuYW1lXzEpKSB7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lXzEsIHJlcXVlc3QuaGVhZGVyc1tuYW1lXzFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZXF1ZXN0LnJlc3BvbnNlVHlwZSAhPSBudWxsKSB7XHJcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlcXVlc3QucmVzcG9uc2VUeXBlO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzICE9IG51bGwpIHtcclxuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gcmVxdWVzdC53aXRoQ3JlZGVudGlhbHM7XHJcbiAgICB9XHJcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHhoci5yZWFkeVN0YXRlID09IDQpOyAvLyBET05FXHJcbiAgICAgICAgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uICYmIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZXNvbHZlKG5ldyBYaHJSZXNwb25zZSh4aHIpKTtcclxuICAgIH07XHJcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24gJiYgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlamVjdChuZXcgSHR0cFJlcXVlc3RFcnJvcihcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHNlbmRpbmcgdGhlIEhUVFAgcmVxdWVzdC5cIikpO1xyXG4gICAgfTtcclxuICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uICYmIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZWplY3QobmV3IGNhbmNlbGxhdGlvbl8xLlByb21pc2VDYW5jZWxsZWRFcnJvcihcIkhUVFAgcmVxdWVzdCB0aW1lb3V0IGhhcyByZWFjaGVkLlwiKSk7XHJcbiAgICB9O1xyXG4gICAgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAocGxycy50cnlDYW5jZWwoKSkge1xyXG4gICAgICAgICAgICB4aHIuYWJvcnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHhoci5zZW5kKHJlcXVlc3QuYm9keSk7XHJcbiAgICByZXR1cm4gcGxycy5wcm9taXNlTGlrZTtcclxufVxyXG5leHBvcnRzLnNlbmRSZXF1ZXN0ID0gc2VuZFJlcXVlc3Q7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIEBkZXNjcmlwdGlvbiBUaGUgcm9vdCBtb2R1bGUgZXhwb3J0aW5nIGFsbCB0aGUgc3ViLW1vZHVsZSBtZW1iZXJzLlxyXG4gKi9cclxuZnVuY3Rpb24gX19leHBvcnQobSkge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqICovXHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbW1vblwiKSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXNcIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9odHRwXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vZGVsYXllZENhbGxiYWNrc1wiKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgZXZlbnRFbWl0dGVyXzEgPSByZXF1aXJlKFwiLi9ldmVudEVtaXR0ZXJcIik7XHJcbnZhciBwcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2VfMSA9IHJlcXVpcmUoXCIuL3Byb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZVwiKTtcclxuLyoqXHJcbiAqIEFuIGVycm9yIHRoYXQgcmFpc2VzIHdoZW4gdGhlIGN1cnJlbnQgcHJvbWlzZSBoYXMgYmVlbiByZWplY3RlZCBkdWUgdG8gY2FuY2VsbGF0aW9uLlxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBFUzYgYFByb21pc2VgIGRvZXMgbm90IGhhdmUgY2FuY2VsbGF0aW9uIHN1cHBvcnQsXHJcbiAqIHNvIFRQTCB1c2VzIGByZWplY3RgIHdpdGgge0BsaW5rIFByb21pc2VDYW5jZWxsZWRFcnJvcn0gdG8gaW5kaWNhdGUgYSBjYW5jZWxsZWQgYFByb21pc2VgLlxyXG4gKi9cclxudmFyIFByb21pc2VDYW5jZWxsZWRFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQcm9taXNlQ2FuY2VsbGVkRXJyb3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBQcm9taXNlQ2FuY2VsbGVkRXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UgPT0gbnVsbCA/IFwiUHJvbWlzZSBleGVjdXRpb24gaGFzIGJlZW4gY2FuY2VsbGVkLlwiIDogbWVzc2FnZSkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5uYW1lID0gXCJQcm9taXNlQ2FuY2VsbGVkRXJyb3JcIjtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIFByb21pc2VDYW5jZWxsZWRFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlQ2FuY2VsbGVkRXJyb3I7XHJcbn0oRXJyb3IpKTtcclxuZXhwb3J0cy5Qcm9taXNlQ2FuY2VsbGVkRXJyb3IgPSBQcm9taXNlQ2FuY2VsbGVkRXJyb3I7XHJcbnZhciBDYW5jZWxsYXRpb25Ub2tlbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENhbmNlbGxhdGlvblRva2VuKCkge1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbmNlbGxhdGlvblRva2VuLnByb3RvdHlwZSwgXCJpc0NhbmNlbGxhdGlvblJlcXVlc3RlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuX2NhbmNlbGxlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIENhbmNlbGxhdGlvblRva2VuLnByb3RvdHlwZS5fX2ludF9jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50LnJhaXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50LmNsZWFyTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25QbHJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBscnMudHJ5UmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jYW5jZWxsZWQgPSB0cnVlO1xyXG4gICAgfTtcclxuICAgIENhbmNlbGxhdGlvblRva2VuLnByb3RvdHlwZS50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFByb21pc2VDYW5jZWxsZWRFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlbi5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jYW5jZWxsYXRpb25FdmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25FdmVudCA9IG5ldyBldmVudEVtaXR0ZXJfMS5FdmVudEVtaXR0ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50LmFkZExpc3RlbmVyKGNhbGxiYWNrLCB0cnVlKTtcclxuICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50LnJhaXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50LmNsZWFyTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbmNlbGxhdGlvblRva2VuLnByb3RvdHlwZSwgXCJwcm9taXNlTGlrZVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25QbHJzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25QbHJzID0gbmV3IHByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZV8xLlByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBscnMudHJ5UmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWxsYXRpb25QbHJzLnByb21pc2VMaWtlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIENhbmNlbGxhdGlvblRva2VuO1xyXG59KCkpO1xyXG52YXIgY2FuY2VsbGVkVG9rZW4gPSBuZXcgQ2FuY2VsbGF0aW9uVG9rZW4oKTtcclxuY2FuY2VsbGVkVG9rZW4uX19pbnRfY2FuY2VsKCk7XHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGFuIG93bmVyIG9mIHtAbGluayBJQ2FuY2VsbGF0aW9uVG9rZW59IHRoYXQgY2FuIGluaXRpYXRlcyB0aGUgY2FuY2VsbGF0aW9uLlxyXG4gKi9cclxudmFyIENhbmNlbGxhdGlvblRva2VuU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gY2FuY2VsQWZ0ZXJEZWxheSBBdXRvbWF0aWNhbGx5IHJlcXVlc3RzIGNhbmNlbGxhdGlvbiBhZnRlciB0aGUgc3BlY2lmaWVkIG5vbi1uZWdhdGl2ZSB0aW1lIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UoY2FuY2VsQWZ0ZXJEZWxheSkge1xyXG4gICAgICAgIGlmIChjYW5jZWxBZnRlckRlbGF5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWxBZnRlcihjYW5jZWxBZnRlckRlbGF5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UucHJvdG90eXBlLCBcImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkXCIsIHtcclxuICAgICAgICAvKiogV2hldGhlciB0aGUgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC4gKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4gJiYgdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4uaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYXRlcyBjYW5jZWxsYXRpb24gaWYgaXQgaGFzIG5vdCBiZWVuIHJlcXVlc3RlZCB5ZXQuXHJcbiAgICAgKiBOb3RpZmllcyB0aGUgZGVyaXZlZCBgSUNhbmNlbGxhdGlvblRva2VuYCBvZiB0aGUgY2FuY2VsbGF0aW9uLlxyXG4gICAgICovXHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbi5fX2ludF9jYW5jZWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuID0gY2FuY2VsbGVkVG9rZW47XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhdGVzIGNhbmNlbGxhdGlvbiBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5LlxyXG4gICAgICogQHBhcmFtIGRlbGF5IHRoZSBub24tbmVnYXRpdmUgdGltZSBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgaW5pdGlhdGluZyB0aGUgY2FuY2VsbGF0aW9uLlxyXG4gICAgICovXHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUuY2FuY2VsQWZ0ZXIgPSBmdW5jdGlvbiAoZGVsYXkpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChkZWxheSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJkZWxheSAoYXJnIzEpIHNob3VsZCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGVsYXkgPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBfdGhpcy5jYW5jZWwoKTsgfSwgZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UucHJvdG90eXBlLCBcInRva2VuXCIsIHtcclxuICAgICAgICAvKiogR2V0cyB0aGUgZGVyaXZlZCBgSUNhbmNlbGxhdGlvblRva2VuYCBmcm9tIHRoaXMgdG9rZW4gc291cmNlLiAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbiA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhIGBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZWAgdGhhdCBnZXRzIGNhbmNlbGxlZCB3aGVuIGFueSBvZiB0aGUgc3BlY2lmaWVkIGBJQ2FuY2VsbGF0aW9uVG9rZW5gIGdldHMgY2FuY2VsbGVkLlxyXG4gICAgICogQHBhcmFtIGNhbmNlbGxhdGlvblRva2VucyBPbmUgb3IgbW9yZSB1bmRlcmx5aW5nIGBJQ2FuY2VsbGF0aW9uVG9rZW5gLlxyXG4gICAgICovXHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5yYWNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjYW5jZWxsYXRpb25Ub2tlbnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBjYW5jZWxsYXRpb25Ub2tlbnNbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGN0cyA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSgpO1xyXG4gICAgICAgIHZhciBjYW5jZWxsYXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsgY3RzLmNhbmNlbCgpOyB9O1xyXG4gICAgICAgIGZvciAodmFyIF9hID0gMCwgY2FuY2VsbGF0aW9uVG9rZW5zXzEgPSBjYW5jZWxsYXRpb25Ub2tlbnM7IF9hIDwgY2FuY2VsbGF0aW9uVG9rZW5zXzEubGVuZ3RoOyBfYSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IGNhbmNlbGxhdGlvblRva2Vuc18xW19hXTtcclxuICAgICAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbi5zdWJzY3JpYmUoY2FuY2VsbGF0aW9uQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdHM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENhbmNlbGxhdGlvblRva2VuU291cmNlO1xyXG59KCkpO1xyXG5leHBvcnRzLkNhbmNlbGxhdGlvblRva2VuU291cmNlID0gQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2U7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbmNlbGxhdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogQ29tYmluZXMge0BsaW5rIElEaXNwb3NhYmxlfSBpbnN0YW5jZXMuXHJcbiAqIEBwYXJhbSBkaXNwb3NhYmxlcyAwLCAxLCBvciBtb3JlIGluc3RhbmNlcyB0byBiZSBjb21iaW5lZC5cclxuICogQHJldHVybnMgYW4ge0BsaW5rIElEaXNwb3NhYmxlfSB0aGF0IGRpc3Bvc2VzIHRoZSBnaXZlbiBpbnN0YW5jZXMgd2hlbiB7QGxpbmsgSURpc3Bvc2FibGUuZGlzcG9zZX0gaXMgY2FsbGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gY29tYmluZURpc3Bvc2FibGUoKSB7XHJcbiAgICB2YXIgZGlzcG9zYWJsZXMgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgZGlzcG9zYWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkaXNwb3NhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmRpc3Bvc2UoKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLmNvbWJpbmVEaXNwb3NhYmxlID0gY29tYmluZURpc3Bvc2FibGU7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3Bvc2FibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSYXdWYWx1ZUVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJhd1ZhbHVlRXJyb3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSYXdWYWx1ZUVycm9yKHJhd1ZhbHVlLCBpbm5lcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucmF3VmFsdWUgPSByYXdWYWx1ZTtcclxuICAgICAgICBfdGhpcy5pbm5lciA9IGlubmVyO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBcIlJhd1ZhbHVlRXJyb3JcIjtcclxuICAgICAgICBfdGhpcy5nZXRCYXNlRXJyb3IgPSBnZXRCYXNlRXJyb3I7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBSYXdWYWx1ZUVycm9yKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmF3VmFsdWVFcnJvcjtcclxufShFcnJvcikpO1xyXG5mdW5jdGlvbiBnZXRCYXNlRXJyb3IoKSB7XHJcbiAgICB2YXIgY3VycmVudCA9IHRoaXM7XHJcbiAgICB3aGlsZSAoY3VycmVudC5pbm5lciAhPSBudWxsKSB7XHJcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuaW5uZXI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3VycmVudDtcclxufVxyXG5mdW5jdGlvbiBzZXRJbm5lckVycm9yKGVycm9yLCBpbm5lcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyb3IsIFwiaW5uZXJcIiwgeyB2YWx1ZTogaW5uZXIsIHdyaXRhYmxlOiBmYWxzZSB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyb3IsIFwiZ2V0QmFzZUVycm9yXCIsIHsgdmFsdWU6IGdldEJhc2VFcnJvciwgd3JpdGFibGU6IGZhbHNlIH0pO1xyXG4gICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmF3VmFsdWVFcnJvcihlcnJvciwgaW5uZXIpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuc2V0SW5uZXJFcnJvciA9IHNldElubmVyRXJyb3I7XHJcbnZhciBBZ2dyZWdhdGVFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBZ2dyZWdhdGVFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEFnZ3JlZ2F0ZUVycm9yKG1lc3NhZ2UpIHtcclxuICAgICAgICB2YXIgZXJyb3JzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgZXJyb3JzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBcIlJhd1ZhbHVlRXJyb3JcIjtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIEFnZ3JlZ2F0ZUVycm9yKTtcclxuICAgICAgICBfdGhpcy5pbm5lckVycm9ycyA9IGVycm9ycy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUgIT0gbnVsbDsgfSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQWdncmVnYXRlRXJyb3IucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcclxuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMpO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmlubmVyRXJyb3JzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgZSA9IF9hW19pXTtcclxuICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBlKTtcclxuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBZ2dyZWdhdGVFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgZS5mb3JFYWNoKGNhbGxiYWNrLCB0aGlzQXJnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQWdncmVnYXRlRXJyb3I7XHJcbn0oRXJyb3IpKTtcclxuZXhwb3J0cy5BZ2dyZWdhdGVFcnJvciA9IEFnZ3JlZ2F0ZUVycm9yO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBzaW1wbGUgcHViLXN1YiBldmVudC5cclxuICogQHR5cGVkZWYgVCB0eXBlIG9mIHRoZSBldmVudCBwYXlsb2FkLlxyXG4gKi9cclxudmFyIEV2ZW50RW1pdHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcclxuICAgIH1cclxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIsIGlzQXN5bmMsIHRoaXNBcmcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBpdGVtID0geyBwcmV2OiB0aGlzLnRhaWwsIGNhbGxiYWNrOiBsaXN0ZW5lci5iaW5kKHRoaXNBcmcpLCBpc0FzeW5jOiBpc0FzeW5jIH07XHJcbiAgICAgICAgaWYgKCF0aGlzLmhlYWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoIXRoaXMudGFpbCk7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IGl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRhaWwpIHtcclxuICAgICAgICAgICAgdGhpcy50YWlsLm5leHQgPSBpdGVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRhaWwgPSBpdGVtO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ucHJldikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChpdGVtLnByZXYubmV4dCA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucHJldi5uZXh0ID0gaXRlbS5uZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoX3RoaXMuaGVhZCA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhlYWQgPSBpdGVtLm5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoaXRlbS5uZXh0LnByZXYgPT09IGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm5leHQucHJldiA9IGl0ZW0ucHJldjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KF90aGlzLnRhaWwgPT09IGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWlsID0gaXRlbS5wcmV2O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpdGVtID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJhaXNlcyB0aGUgZXZlbnQsIGNhbGxpbmcgYWxsIHRoZSBldmVudCBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhpcyBldmVudCBpbnN0YW5jZS5cclxuICAgICAqIEBwYXJhbSBhcmcgdGhlIGV2ZW50IHBheWxvYWQuXHJcbiAgICAgKi9cclxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmFpc2UgPSBmdW5jdGlvbiAoYXJnKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmhlYWQ7XHJcbiAgICAgICAgdmFyIHJlc29sdmVkUHJvbWlzZTtcclxuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudC5pc0FzeW5jKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc29sdmVkUHJvbWlzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShhcmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnRoZW4oY3VycmVudC5jYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudC5jYWxsYmFjayhhcmcpO1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycy5cclxuICAgICAqL1xyXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5jbGVhckxpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcclxufSgpKTtcclxuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50RW1pdHRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuZnVuY3Rpb24gX19leHBvcnQobSkge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vY2FuY2VsbGF0aW9uXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vZGlzcG9zYWJsZVwiKSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2Vycm9yc1wiKSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2V2ZW50RW1pdHRlclwiKSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3Byb21pc2VSZXNvbHV0aW9uU291cmNlXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vcHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXCIpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIFByb3ZpZGVzIGBQcm9taXNlTGlrZWAgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgZnJvbSBvdXRzaWRlLlxyXG4gKiBAc2VlIHtAbGluayBJQ29uZmlndXJhYmxlUHJvbWlzZUxpa2V9XHJcbiAqIEBzZWUge0BsaW5rIFByb21pc2VSZXNvbHV0aW9uU291cmNlfVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKiogKi9cclxudmFyIGNhbmNlbGxhdGlvbl8xID0gcmVxdWlyZShcIi4vY2FuY2VsbGF0aW9uXCIpO1xyXG52YXIgcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VfMSA9IHJlcXVpcmUoXCIuL3Byb21pc2VSZXNvbHV0aW9uU291cmNlXCIpO1xyXG4vKipcclxuICogUmVzb2x2ZXMgb3IgcmVqZWN0cyBhIGBQcm9taXNlTGlrZWAgZnJvbSBvdXRzaWRlIG9mIGl0LlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIGlzIHNpZ25pZmljYW50bHkgZGlmZmVyZW50IGZyb20ge0BsaW5rIFByb21pc2VSZXNvbHV0aW9uU291cmNlfVxyXG4gKiBpbiB0aGUgd2F5IHRoYXQgaXQgZW5zdXJlcyB3aGVuIHtAbGluayB0cnlSZXNvbHZlfSwge0BsaW5rIHRyeUNhbmNlbH0sIG9yIHtAbGluayB0cnlSZWplY3R9XHJcbiAqIGlzIGNhbGxlZCwgdGhlIGNvbnRpbnVhdGlvbiBjYWxsYmFja3MgYXNzb2NpYXRlZCB3aXRoIGBQcm9taXNlTGlrZWAgYXJlIGV4ZWN1dGVkICpzeW5jaHJvbm91c2x5Ki5cclxuICogSG93ZXZlciwgZG93bnN0cmVhbSBjb25zdW1lcnMgYXJlIHN0aWxsIGFibGUgdG8gbGV0IHRoZWlyIGNvbnRpbnVhdGlvbiBjYWxsYmFja3MgZXhlY3V0ZSBhc3luY2hyb25vdXNseS5cclxuICogU2VlIHtAbGluayBJQ29uZmlndXJhYmxlUHJvbWlzZUxpa2V9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIGlzIHNpbWlsYXIgdG8gYERlZmVycmVkYCBidXQgaXQgZXhwbGljaXRseSBzZXBhcmF0ZXNcclxuICogdGhlIHByb21pc2UgYW5kIGl0cyBjb250cm9sIHNpZGUgaW50byB0d28gZGlmZmVyZW50IG9iamVjdHMuXHJcbiAqXHJcbiAqIEB0eXBlcGFyYW0gVCB0eXBlIG9mIHRoZSBwcm9taXNlIHJlc29sdXRpb24gcmVzdWx0LlxyXG4gKi9cclxudmFyIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSgpIHtcclxuICAgIH1cclxuICAgIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUuX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9wcm9taXNlTGlrZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9taXNlTGlrZSA9IG5ldyBTeW5jaHJvbm91c1Byb21pc2VMaWtlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLCBcInByb21pc2VMaWtlXCIsIHtcclxuICAgICAgICAvKiogR2V0cyB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgIGNvbnRyb2xsZWQgYnkgdGhlIGN1cnJlbnQgaW5zdGFuY2UuICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2VMaWtlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTeW5jaHJvbm91c2x5IHJlc29sdmVzIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgd2l0aCB0aGUgc3BlY2lmaWVkIHJlc3VsdC5cclxuICAgICAqIEBwYXJhbSByZXN1bHQgdGhlIHJlc29sdXRpb24gcmVzdWx0LCBvciBhIGBQcm9taXNlTGlrZWAgdGhhdCBjYW4gYmUgZnVydGhlcmx5ICpyZXNvbHZlZCouXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCBoYXMganVzdCBiZWVuICpyZXNvbHZlZCo7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlTGlrZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlc29sdmUgPSBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9wcm9taXNlTGlrZS4kX19pbnRfX3NldHRsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9wcm9taXNlTGlrZS4kX19pbnRfX2Z1bGZpbGwocmVzdWx0KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN5bmNocm9ub3VzbHkgY2FuY2VscyB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgLlxyXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgaGFzIGp1c3QgYmVlbiAqcmVqZWN0ZWQqIHdpdGggYFByb21pc2VDYW5jZWxsZWRFcnJvcmA7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlTGlrZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeUNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlTGlrZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fc2V0dGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fcmVqZWN0KG5ldyBjYW5jZWxsYXRpb25fMS5Qcm9taXNlQ2FuY2VsbGVkRXJyb3IoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTeW5jaHJvbm91c2x5IHJlamVjdHMgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCB3aXRoIHRoZSBzcGVjaWZpZWQgcmFzb24uXHJcbiAgICAgKiBAcGFyYW0gcmVhc29uIHRoZSByZWplY3Rpb24gcmVhc29uLCBvciB0aGUgYEVycm9yYCBjYXVzaW5nIHRoZSByZWplY3Rpb24uXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCBoYXMganVzdCBiZWVuICpyZWplY3RlZCo7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlTGlrZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlTGlrZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fc2V0dGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fcmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZTtcclxufSgpKTtcclxuZXhwb3J0cy5Qcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UgPSBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2U7XHJcbnZhciBTeW5jaHJvbm91c1Byb21pc2VMaWtlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU3luY2hyb25vdXNQcm9taXNlTGlrZShfb25mdWxmaWxsZWQsIF9vbnJlamVjdGVkKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9vbmZ1bGZpbGxlZCA9IF9vbmZ1bGZpbGxlZDtcclxuICAgICAgICB0aGlzLl9vbnJlamVjdGVkID0gX29ucmVqZWN0ZWQ7XHJcbiAgICAgICAgdGhpcy5mdWxmaWxsTmV4dCA9IGZ1bmN0aW9uIChuZXh0UmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UmVzdWx0ICYmIHR5cGVvZiBuZXh0UmVzdWx0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBuZXh0UmVzdWx0LnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgbmV4dFJlc3VsdC50aGVuKF90aGlzLmZ1bGZpbGxOZXh0LCBfdGhpcy5yZWplY3ROZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hc255Y1Bycykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFzbnljUHJzLnRyeVJlc29sdmUobmV4dFJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfdGhpcy5uZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5uZXh0OyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaS4kX19pbnRfX2Z1bGZpbGwobmV4dFJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIF90aGlzLm5leHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU2V0dGxlZCBQcm9taXNlTGlrZSBzaG91bGQgbm90IGJlIHJlc29sdmVkIGZ1cnRoZXJtb3JlLlwiLCBfdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMubmV4dCA9IFwicmVzb2x2ZWRcIjtcclxuICAgICAgICAgICAgX3RoaXMucmVzdWx0ID0gbmV4dFJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucmVqZWN0TmV4dCA9IGZ1bmN0aW9uIChuZXh0UmVhc29uKSB7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UmVhc29uICYmIHR5cGVvZiBuZXh0UmVhc29uID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBuZXh0UmVhc29uLnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgbmV4dFJlYXNvbi50aGVuKF90aGlzLmZ1bGZpbGxOZXh0LCBfdGhpcy5yZWplY3ROZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hc255Y1Bycykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFzbnljUHJzLnRyeVJlamVjdChuZXh0UmVhc29uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF90aGlzLm5leHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLm5leHQ7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpLiRfX2ludF9fcmVqZWN0KG5leHRSZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBfdGhpcy5uZXh0ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNldHRsZWQgUHJvbWlzTGlrZSBzaG91bGQgbm90IGJlIHJlamVjdGVkIGZ1cnRoZXJtb3JlLlwiLCBfdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMubmV4dCA9IFwicmVqZWN0ZWRcIjtcclxuICAgICAgICAgICAgX3RoaXMucmVzdWx0ID0gbmV4dFJlYXNvbjtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLCBcIiRfX2ludF9fc2V0dGxlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5uZXh0ID09PSBcInN0cmluZ1wiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLy8gTm90ZTogVE5leHQgfCBQcm9taXNlTGlrZTxUTmV4dD4gaXMgb25seSB1c2VkIHdoZW4gVFByZXYgPT0gVE5leHRcclxuICAgIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLiRfX2ludF9fZnVsZmlsbCA9IGZ1bmN0aW9uIChwcmV2UmVzdWx0KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm5leHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNldHRsZWQgUHJvbWlzZUxpa2Ugc2hvdWxkIG5vdCBiZSByZXNvbHZlZCBmdXJ0aGVybW9yZS5cIiwgdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25mdWxmaWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZ1bGZpbGwgY3VycmVudCBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX29uZnVsZmlsbGVkKHByZXZSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgLy8gbm90aWZ5IG5leHQgUHJvbWlzZUxpa2UocylcclxuICAgICAgICAgICAgICAgIHRoaXMuZnVsZmlsbE5leHQocmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnVsZmlsbE5leHQocHJldlJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIHJhaXNlZCB3aGlsZSBleGVjdXRpbmcgb25mdWxmaWxsZWQgY2FsbGJhY2suXHJcbiAgICAgICAgICAgIC8vIE5leHQgUHJvbWlzZUxpa2VzIHNob3VsZCBiZSByZWplY3RlZC5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX29ucmVqZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0TmV4dChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU3luY2hyb25vdXNQcm9taXNlTGlrZS5wcm90b3R5cGUuJF9faW50X19yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm5leHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNldHRsZWQgUHJvbWlzZUxpa2Ugc2hvdWxkIG5vdCBiZSByZXNvbHZlZCBmdXJ0aGVybW9yZS5cIiwgdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25yZWplY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX29ucmVqZWN0ZWQocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnVsZmlsbE5leHQocmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0TmV4dChyZWFzb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBFcnJvciByYWlzZWQgd2hpbGUgZXhlY3V0aW5nIG9ucmVqZWN0ZWQgY2FsbGJhY2suXHJcbiAgICAgICAgICAgIC8vIE5leHQgUHJvbWlzZUxpa2VzIHNob3VsZCBiZSByZWplY3RlZC5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX29ucmVqZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0TmV4dChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5jYXVnaHQgU3luY2hyb25vdXNQcm9taXNlTGlrZSByZWplY3Rpb246ICVvXCIsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTeW5jaHJvbm91c1Byb21pc2VMaWtlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XHJcbiAgICAgICAgdmFyIG5leHQgPSBuZXcgU3luY2hyb25vdXNQcm9taXNlTGlrZShvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLm5leHQpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0ID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMubmV4dCkpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0LnB1c2gobmV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMubmV4dCA9PT0gXCJyZXNvbHZlZFwiKSB7XHJcbiAgICAgICAgICAgIG5leHQuJF9faW50X19mdWxmaWxsKHRoaXMucmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5uZXh0ID09PSBcInJlamVjdGVkXCIpIHtcclxuICAgICAgICAgICAgbmV4dC4kX19pbnRfX3JlamVjdCh0aGlzLnJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBzdGF0ZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfTtcclxuICAgIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLmZvcmNlQXN5bmMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXNueWNQcnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXNueWNQcnMucHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubmV4dCA9PT0gXCJyZXNvbHZlZFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5yZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLm5leHQgPT09IFwicmVqZWN0ZWRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodGhpcy5yZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoIXRoaXMubmV4dCB8fCBBcnJheS5pc0FycmF5KHRoaXMubmV4dCkpO1xyXG4gICAgICAgICAgICB0aGlzLmFzbnljUHJzID0gbmV3IHByb21pc2VSZXNvbHV0aW9uU291cmNlXzEuUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXNueWNQcnMucHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN5bmNocm9ub3VzUHJvbWlzZUxpa2U7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogUHJvdmlkZXMgYFByb21pc2VgIHRoYXQgY2FuIGJlIHJlc29sdmVkIGZyb20gb3V0c2lkZS5cclxuICogQHNlZSB7QGxpbmsgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2V9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKiAqL1xyXG52YXIgY2FuY2VsbGF0aW9uXzEgPSByZXF1aXJlKFwiLi9jYW5jZWxsYXRpb25cIik7XHJcbi8qKlxyXG4gKiBSZXNvbHZlcyBvciByZWplY3RzIGEgYFByb21pc2VgIGZyb20gb3V0c2lkZSBvZiBpdC5cclxuICpcclxuICogVGhpcyBjbGFzcyBpcyBzaW1pbGFyIHRvIGBEZWZlcnJlZGAgYnV0IGl0IGV4cGxpY2l0bHkgc2VwYXJhdGVzXHJcbiAqIHRoZSBwcm9taXNlIGFuZCBpdHMgY29udHJvbCBzaWRlIGludG8gdHdvIGRpZmZlcmVudCBvYmplY3RzLlxyXG4gKlxyXG4gKiBAdHlwZXBhcmFtIFQgdHlwZSBvZiB0aGUgcHJvbWlzZSByZXNvbHV0aW9uIHJlc3VsdC5cclxuICogQHNlZSB7QGxpbmsgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlfVxyXG4gKi9cclxudmFyIFByb21pc2VSZXNvbHV0aW9uU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UoKSB7XHJcbiAgICB9XHJcbiAgICBQcm9taXNlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUuX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLl9wcm9taXNlID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSByZXM7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVqZWN0ID0gcmVqO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb21pc2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZSwgXCJwcm9taXNlXCIsIHtcclxuICAgICAgICAvKiogR2V0cyB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgY29udHJvbGxlZCBieSB0aGUgY3VycmVudCBpbnN0YW5jZS4gKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNvbHZlcyB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgd2l0aCB0aGUgc3BlY2lmaWVkIHJlc3VsdC5cclxuICAgICAqIEBwYXJhbSByZXN1bHQgdGhlIHJlc29sdXRpb24gcmVzdWx0LCBvciBhIGBQcm9taXNlTGlrZWAgdGhhdCBjYW4gYmUgZnVydGhlcmx5ICpyZXNvbHZlZCouXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VgIGhhcyBqdXN0IGJlZW4gKnJlc29sdmVkKjtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VgIGhhcyBhbHJlYWR5IGJlZW4gKnNldHRsZWQqIGJlZm9yZS5cclxuICAgICAqL1xyXG4gICAgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlc29sdmUgPSBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Jlc29sdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gdGhpcy5fcmVqZWN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FuY2VscyB0aGUgZGVyaXZlZCBgUHJvbWlzZWAuXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VgIGhhcyBqdXN0IGJlZW4gKnJlamVjdGVkKiB3aXRoIGBQcm9taXNlQ2FuY2VsbGVkRXJyb3JgO1xyXG4gICAgICogb3RoZXJ3aXNlIGl0IG1lYW5zIHRoZSBgUHJvbWlzZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5Q2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9yZWplY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVqZWN0KG5ldyBjYW5jZWxsYXRpb25fMS5Qcm9taXNlQ2FuY2VsbGVkRXJyb3IoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSB0aGlzLl9yZWplY3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWplY3RzIHRoZSBkZXJpdmVkIGBQcm9taXNlYCB3aXRoIHRoZSBzcGVjaWZpZWQgcmFzb24uXHJcbiAgICAgKiBAcGFyYW0gcmVhc29uIHRoZSByZWplY3Rpb24gcmVhc29uLCBvciB0aGUgYEVycm9yYCBjYXVzaW5nIHRoZSByZWplY3Rpb24uXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VgIGhhcyBqdXN0IGJlZW4gKnJlamVjdGVkKjtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VgIGhhcyBhbHJlYWR5IGJlZW4gKnNldHRsZWQqIGJlZm9yZS5cclxuICAgICAqL1xyXG4gICAgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gdGhpcy5fcmVqZWN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm9taXNlUmVzb2x1dGlvblNvdXJjZTtcclxufSgpKTtcclxuZXhwb3J0cy5Qcm9taXNlUmVzb2x1dGlvblNvdXJjZSA9IFByb21pc2VSZXNvbHV0aW9uU291cmNlO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlUmVzb2x1dGlvblNvdXJjZS5qcy5tYXAiLCJpbXBvcnQge1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UsIGRlbGF5LCBJQ2FuY2VsbGF0aW9uVG9rZW4sIElSZXF1ZXN0UGFyYW1zLFxyXG4gICAgUHJvbWlzZUNhbmNlbGxlZEVycm9yLCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYywgcmVxdWVzdElkbGVDYWxsYmFja0FzeW5jLFxyXG4gICAgc2VuZFJlcXVlc3QsIHlpZWxkZWRcclxufSBmcm9tIFwidGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5XCI7XHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kdXBsaWNhdGUtaW1wb3J0c1xyXG5pbXBvcnQgKiBhcyB0cGxBbWJpZW50IGZyb20gXCJ0YXNrbGlrZS1wcm9taXNlLWxpYnJhcnlcIjtcclxuXHJcbmZ1bmN0aW9uICQ8VCBleHRlbmRzIEhUTUxFbGVtZW50PihzZWxlY3Rvcjogc3RyaW5nLCBzY29wZT86IEhUTUxFbGVtZW50KTogVCB8IG51bGwge1xyXG4gICAgaWYgKHNjb3BlKSB7XHJcbiAgICAgICAgcmV0dXJuIHNjb3BlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIGFzIFQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgVDtcclxufVxyXG5cclxuZnVuY3Rpb24gb25Mb2FkKCkge1xyXG4gICAgJChcIiN0cGwteWllbGRlZC1ydW5cIikhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBydW5EZW1vKGRlbW9ZaWVsZCwgXCIjdHBsLXlpZWxkZWQtcGFuZWxcIikpO1xyXG4gICAgJChcIiN0cGwtZGVsYXktcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vRGVsYXksIFwiI3RwbC1kZWxheS1wYW5lbFwiLCBcIiN0cGwtZGVsYXktY2FuY2VsXCIpKTtcclxuICAgICQoXCIjdHBsLXNlbmRyZXF1ZXN0LXJ1blwiKSEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHJ1bkRlbW8oZGVtb0h0dHAsIFwiI3RwbC1zZW5kcmVxdWVzdC1wYW5lbFwiLCBcIiN0cGwtc2VuZHJlcXVlc3QtY2FuY2VsXCIpKTtcclxuICAgICQoXCIjdHBsLXJlcXVlc3RpY2ItcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vUmVxdWVzdElkbGVDYWxsYmFja0FzeW5jLCBcIiN0cGwtcmVxdWVzdGljYi1wYW5lbFwiLCBcIiN0cGwtcmVxdWVzdGljYi1jYW5jZWxcIikpO1xyXG4gICAgJChcIiN0cGwtcmVxdWVzdGFmLXJ1blwiKSEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHJ1bkRlbW8oZGVtb1JlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jLCBcIiN0cGwtcmVxdWVzdGFmLXBhbmVsXCIsIFwiI3RwbC1yZXF1ZXN0YWYtY2FuY2VsXCIpKTtcclxuICAgIC8vIEV4cG9zZSBUUEwgbGlicmFyeSB0byB0aGUgZGVidWdnZXIgY29uc29sZS5cclxuICAgICh3aW5kb3cgYXMgdW5rbm93biBhcyB7IFRQTDogdHlwZW9mIHRwbEFtYmllbnQgfSkuVFBMID0gdHBsQW1iaWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYnVpbGRFcnJvclBhbmVsKGVycm9yOiB1bmtub3duKSB7XHJcbiAgICBjb25zdCBlcnJCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgZXJyQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcclxuICAgIGVyckJveC5pbm5lclRleHQgPSBlcnJvciAmJiAoZXJyb3IgYXMgeyBzdGFjaz86IHN0cmluZyB9KS5zdGFjayB8fCBTdHJpbmcoZXJyb3IpO1xyXG4gICAgcmV0dXJuIGVyckJveDtcclxufVxyXG5cclxuZnVuY3Rpb24gYXBwZW5kTGluZShjb250YWluZXI6IEhUTUxFbGVtZW50LCBjb250ZW50OiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGxpbmUuaW5uZXJUZXh0ID0gY29udGVudDtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChsaW5lKTtcclxuICAgIHJldHVybiBsaW5lO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBydW5EZW1vKFxyXG4gICAgZGVtb0Z1bmM6IChwYW5lbDogSFRNTEVsZW1lbnQsIGNhbmNlbGxhdGlvblRva2VuPzogSUNhbmNlbGxhdGlvblRva2VuKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcclxuICAgIHBhbmVsU2VsZWN0b3I6IHN0cmluZyxcclxuICAgIGNhbmNlbGxhdGlvbkJ1dHRvblNlbGVjdG9yPzogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBjdHMgPSBuZXcgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UoKTtcclxuICAgIGNvbnN0IG9uQ2FuY2VsID0gKCkgPT4geyBjdHMuY2FuY2VsKCk7IH07XHJcbiAgICBjb25zdCBwYW5lbCA9ICQocGFuZWxTZWxlY3RvcikhO1xyXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gY2FuY2VsbGF0aW9uQnV0dG9uU2VsZWN0b3IgPyAkPEhUTUxCdXR0b25FbGVtZW50PihjYW5jZWxsYXRpb25CdXR0b25TZWxlY3RvcikgOiBudWxsO1xyXG4gICAgaWYgKGNhbmNlbEJ1dHRvbikge1xyXG4gICAgICAgIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25DYW5jZWwpO1xyXG4gICAgICAgIGNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcGFuZWwuaW5uZXJUZXh0ID0gXCJcIjtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVtb0Z1bmMocGFuZWwsIGNhbmNlbEJ1dHRvbiA/IGN0cy50b2tlbiA6IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBhd2FpdCByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQoYnVpbGRFcnJvclBhbmVsKGVycm9yKSk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIGlmIChjYW5jZWxCdXR0b24pIHtcclxuICAgICAgICAgICAgY2FuY2VsQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNhbmNlbCk7XHJcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZW1vWWllbGQocGFuZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBhc3luYyBmdW5jdGlvbiBteUFzeW5jRnVuY3Rpb24oKSB7XHJcbiAgICAgICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZWU6IERvIHNvbWUgd29yayBzeW5jaHJvbm91c2x5IGluIG15QXN5bmNGdW5jdGlvbuKAplwiKTtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogbXlBc3luY0Z1bmN0aW9uIGlzIHRvIHlpZWxk4oCmXCIpO1xyXG4gICAgICAgIGF3YWl0IHlpZWxkZWQoKTtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogYmFjayBmcm9tIHlpZWxkZWQgc3RhdGXigKZcIik7XHJcbiAgICAgICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZWU6IGV4aXRpbmcuXCIpO1xyXG4gICAgfVxyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZXI6IENhbGwgbXlBc3luY0Z1bmN0aW9uLlwiKTtcclxuICAgIG15QXN5bmNGdW5jdGlvbigpO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZXI6IFdlIGRlY2lkZSBkb24ndCBhd2FpdCBmb3IgbXlBc3luY0Z1bmN0aW9uLlwiKTtcclxuICAgIGFwcGVuZExpbmUocGFuZWwsIFwiQ2FsbGVyOiBleGl0aW5nLlwiKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGVtb0RlbGF5KHBhbmVsOiBIVE1MRWxlbWVudCwgY3Q/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGxldCBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgMG1zIChTZXRUaW1lb3V0KDApICsgeWllbGRlZCkuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIkRlbGF5IDUwMG1zLlwiKTtcclxuICAgIGF3YWl0IGRlbGF5KDUwMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIkRlbGF5IDFzLlwiKTtcclxuICAgIGF3YWl0IGRlbGF5KDEwMDAsIGN0KTtcclxuICAgIGxhc3RMaW5lLmlubmVyVGV4dCArPSBcIiBGaW5pc2hlZC5cIjtcclxuICAgIGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgXCJEZWxheSAycy5cIik7XHJcbiAgICBhd2FpdCBkZWxheSgyMDAwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgM3MuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoMzAwMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCItLS0tLS0tLS0tXCIpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZW1vSHR0cChwYW5lbDogSFRNTEVsZW1lbnQsIGN0PzogSUNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBhc3luYyBmdW5jdGlvbiBzZW5kQW5kUmVwb3J0KHJlcXVlc3Q6IElSZXF1ZXN0UGFyYW1zKSB7XHJcbiAgICAgICAgbGV0IGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgYCR7cmVxdWVzdC5tZXRob2R9IHJlcXVlc3QgdG8gJHtyZXF1ZXN0LnVybH3igKZgKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRSZXF1ZXN0KHJlcXVlc3QsIGN0KTtcclxuICAgICAgICAgICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzQ29kZSArIFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dDtcclxuICAgICAgICAgICAgYXBwZW5kTGluZShwYW5lbCwgXCJDb250ZW50LVR5cGU6IFwiICsgcmVzcG9uc2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpKTtcclxuICAgICAgICAgICAgY29uc3QgYm9keUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIik7XHJcbiAgICAgICAgICAgIGJvZHlDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImh0dHAtcmVzcG9uc2UtYm9keVwiKTtcclxuICAgICAgICAgICAgYm9keUNvbnRhaW5lci5pbm5lclRleHQgPSByZXNwb25zZS54aHIucmVzcG9uc2VUZXh0O1xyXG4gICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChib2R5Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBcImVuc3VyZVN1Y2Nlc3NmdWxTdGF0dXNDb2Rl4oCmXCIpO1xyXG4gICAgICAgICAgICByZXNwb25zZS5lbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZSgpO1xyXG4gICAgICAgICAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgU3VjY2Vzc2Z1bC5cIjtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBQcm9taXNlQ2FuY2VsbGVkRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIGN0IGlzIGNhbmNlbGxlZCwgd2Ugd29uJ3QgY29udGludWUgdGhlIGRlbW9cclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKGJ1aWxkRXJyb3JQYW5lbChlcnJvcikpO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIGFwcGVuZExpbmUocGFuZWwsIFwiLS0tLS0tLS0tLVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhd2FpdCBzZW5kQW5kUmVwb3J0KHsgdXJsOiBcInRzY29uZmlnLmpzb24/cmFuZD1cIiArIE1hdGgucmFuZG9tKCksIG1ldGhvZDogXCJHRVRcIiwgdGltZW91dDogMjAwMCB9KTtcclxuICAgIGF3YWl0IHNlbmRBbmRSZXBvcnQoeyB1cmw6IFwidHNjb25maWcuanNvblwiLCBtZXRob2Q6IFwiUE9TVFwiIH0pO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZW1vUmVxdWVzdElkbGVDYWxsYmFja0FzeW5jKHBhbmVsOiBIVE1MRWxlbWVudCwgY3Q/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGN0ICYmIGN0LnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIGFwcGVuZExpbmUocGFuZWwsIFwicmVxdWVzdElkbGVDYWxsYmFja0FzeW5jXCIpO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gYXBwZW5kTGluZShwYW5lbCwgXCJSZXF1ZXN0aW5n4oCmXCIpO1xyXG4gICAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gICAgbGV0IHRpbWVvdXRDb3VudGVyID0gMDtcclxuICAgIGxldCBtaW5JZGxlVGltZTogdW5kZWZpbmVkIHwgbnVtYmVyLCBtYXhJZGxlVGltZTogdW5kZWZpbmVkIHwgbnVtYmVyO1xyXG4gICAgd2hpbGUgKGN0ICYmICFjdC5pc0NhbmNlbGxhdGlvblJlcXVlc3RlZCkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBhd2FpdCByZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMoeyB0aW1lb3V0OiAxMDAwIH0sIGN0KTtcclxuICAgICAgICAvLyBOb3cgd2UgYXJlIGluc2lkZSByZXF1ZXN0SWRsZUNhbGxiYWNrIGNhbGxiYWNrLlxyXG4gICAgICAgIGNvbnN0IHRpbWVSZW1haW5pbmcgPSBjb250ZXh0LmRlYWRsaW5lLnRpbWVSZW1haW5pbmcoKTtcclxuICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgaWYgKGNvbnRleHQuZGVhZGxpbmUuZGlkVGltZW91dCkgeyB0aW1lb3V0Q291bnRlcisrOyB9XHJcbiAgICAgICAgbWluSWRsZVRpbWUgPSBtaW5JZGxlVGltZSA9PSBudWxsID8gdGltZVJlbWFpbmluZyA6IE1hdGgubWluKHRpbWVSZW1haW5pbmcsIG1pbklkbGVUaW1lKTtcclxuICAgICAgICBtYXhJZGxlVGltZSA9IG1heElkbGVUaW1lID09IG51bGwgPyB0aW1lUmVtYWluaW5nIDogTWF0aC5tYXgodGltZVJlbWFpbmluZywgbWF4SWRsZVRpbWUpO1xyXG4gICAgICAgIHN0YXR1cy5pbm5lclRleHQgPSBgUmVxdWVzdGVkOiAke2NvdW50ZXJ9IHRpbWVzLCB0aW1lZC1vdXRzOiAke3RpbWVvdXRDb3VudGVyfSwgbWluSWRsZVRpbWU6ICR7bWluSWRsZVRpbWV9LCBtYXhJZGxlVGltZTogJHttYXhJZGxlVGltZX1gO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZW1vUmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMocGFuZWw6IEhUTUxFbGVtZW50LCBjdD86IElDYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgY3QgJiYgY3QudGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luY1wiKTtcclxuICAgIGNvbnN0IHN0YXR1cyA9IGFwcGVuZExpbmUocGFuZWwsIFwiUmVxdWVzdGluZ+KAplwiKTtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGFwcGVuZExpbmUocGFuZWwsIFwiVGhpcyBpcyA8RElWPi5cIik7XHJcbiAgICBjb25zdCBjYW52YXNXaWR0aCA9IDgwMCwgY2FudmFzSGVpZ2h0ID0gNTAwO1xyXG4gICAgY29uc3QgYmFsbFNpemUgPSAzMDtcclxuICAgIGNvbnN0IGJhbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgYmFsbC5pbm5lclRleHQgPSBcImJhbGxcIjtcclxuICAgIGJhbGwuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCIxNXB4XCI7XHJcbiAgICBiYWxsLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgYmFsbC5zdHlsZS53aWR0aCA9IGJhbGwuc3R5bGUuaGVpZ2h0ID0gYmFsbFNpemUgKyBcInB4XCI7XHJcbiAgICBjYW52YXMuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XHJcbiAgICBjYW52YXMuc3R5bGUud2lkdGggPSBjYW52YXNXaWR0aCArIFwicHhcIjtcclxuICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBjYW52YXNIZWlnaHQgKyBcInB4XCI7XHJcbiAgICBjYW52YXMuYXBwZW5kQ2hpbGQoYmFsbCk7XHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIGxldCBwcmV2VGltZSA9IHN0YXJ0VGltZTtcclxuICAgIC8vIFBvc2l0aW9uOiBwaXhlbC5cclxuICAgIGxldCBweCA9IDAsIHB5ID0gMDtcclxuICAgIC8vIFZlbG9jaXR5OiBwaXhlbCAvIHNlYy5cclxuICAgIGxldCB2eCA9IDIwMCwgdnkgPSAyMDA7XHJcbiAgICBsZXQgYXggPSAwLCBheSA9IDE1MDtcclxuICAgIGxldCBmcmFtZUNvdW50ZXIgPSAwO1xyXG4gICAgd2hpbGUgKCFjdCB8fCAhY3QuaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMoY3QpO1xyXG4gICAgICAgIC8vIE5vdyB3ZSBhcmUgaW5zaWRlIHJlcXVlc3RBbmltYXRpb25GcmFtZSBjYWxsYmFjay5cclxuICAgICAgICBjb25zdCBmcmFtZUR1cmF0aW9uID0gY29udGV4dC50aW1lIC0gcHJldlRpbWU7XHJcbiAgICAgICAgbGV0IHggPSBweCArIHZ4ICogKGZyYW1lRHVyYXRpb24gLyAxMDAwKTtcclxuICAgICAgICBsZXQgeSA9IHB5ICsgdnkgKiAoZnJhbWVEdXJhdGlvbiAvIDEwMDApO1xyXG4gICAgICAgIGlmICh4IDwgMCB8fCB4ICsgYmFsbC5vZmZzZXRXaWR0aCA+IGNhbnZhc1dpZHRoKSB7XHJcbiAgICAgICAgICAgIHZ4ID0gLXZ4ICogKE1hdGgucmFuZG9tKCkgKiAwLjIgKyAwLjgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHB4ID0geDtcclxuICAgICAgICAgICAgYmFsbC5zdHlsZS5sZWZ0ID0geCArIFwicHhcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHkgPCAwIHx8IHkgKyBiYWxsLm9mZnNldEhlaWdodCA+IGNhbnZhc0hlaWdodCkge1xyXG4gICAgICAgICAgICB2eSA9IC12eSAqIChNYXRoLnJhbmRvbSgpICogMC4yICsgMC44KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBweSA9IHk7XHJcbiAgICAgICAgICAgIHZ5ICs9IGF5ICogKGZyYW1lRHVyYXRpb24gLyAxMDAwKTtcclxuICAgICAgICAgICAgYmFsbC5zdHlsZS50b3AgPSB5ICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcmV2VGltZSA9IGNvbnRleHQudGltZTtcclxuICAgICAgICBmcmFtZUNvdW50ZXIrKztcclxuICAgICAgICBpZiAoZnJhbWVDb3VudGVyID4gMzApIHtcclxuICAgICAgICAgICAgc3RhdHVzLmlubmVyVGV4dCA9IGBGcmFtZXM6ICR7ZnJhbWVDb3VudGVyfSwgdGltZTogJHsoKGNvbnRleHQudGltZSAtIHN0YXJ0VGltZSkgLyAxMDAwKS50b0ZpeGVkKDIpfSBzZWMuLCBGUFM6ICR7KGZyYW1lQ291bnRlciAqIDEwMDAgLyAoY29udGV4dC50aW1lIC0gc3RhcnRUaW1lKSkudG9GaXhlZCgyKX0uYDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbm9uTG9hZCgpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9