/*! For license information please see index.js.LICENSE.txt */
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.ts")}({"../packages/tasklike-promise-library/dist/common.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=r("../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js"),s=Promise.resolve();t.delay=function(e,t){if(e<0)throw new RangeError("milliseconds (arg#1) should be a non-negative number.");t&&t.throwIfCancellationRequested();var r=new i.PromiseResolutionSource,s=setTimeout((function(){r.tryResolve()}),e);return t&&t.subscribe((function(){clearTimeout(s),r.tryReject(new n.PromiseCancelledError)})),r.promise},t.yielded=function(){return s},t.fromResolved=function(e){return Promise.resolve(e)},t.fromRejected=function(e){return Promise.reject(e)},t.fromCancelled=function(){return Promise.reject(new n.PromiseCancelledError)}},"../packages/tasklike-promise-library/dist/delayedCallbacks.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/index.js");t.setTimeoutAsync=function(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,s=window.setTimeout((function(){r&&r.dispose(),i.tryResolve(s)}),e);return t&&(r=t.subscribe((function(){window.clearTimeout(s),i.tryCancel()}))),i.promiseLike},t.requestAnimationFrameAsync=function(e){e&&e.throwIfCancellationRequested();var t,r=new n.PromiseLikeResolutionSource,i=window.requestAnimationFrame((function(e){t&&t.dispose(),r.tryResolve({id:i,time:e})}));return e&&(t=e.subscribe((function(){window.cancelAnimationFrame(i),r.tryCancel()}))),r.promiseLike},t.requestIdleCallbackAsync=function(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,s=window.requestIdleCallback((function(e){r&&r.dispose(),i.tryResolve({id:s,deadline:e})}),e);return t&&(r=t.subscribe((function(){window.cancelIdleCallback(s),i.tryCancel()}))),i.promiseLike}},"../packages/tasklike-promise-library/dist/facades/browser/http.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/index.js"),i=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),s=r("../packages/tasklike-promise-library/dist/facades/common/http.js"),o=function(){function e(e){this.xhr=e,this.statusCode=this.xhr.status,this.statusText=this.xhr.statusText,this.isSuccessfulStatusCode=this.xhr.status>=200&&this.xhr.status<=299,console.assert(e)}return e.prototype.getHeaderValue=function(e){return this.xhr.getResponseHeader(e)},e.prototype.getHeaderValues=function(e){var t=this.xhr.getResponseHeader(e);return null==t?null:t.split(",").map((function(e){return e.trimLeft()}))},Object.defineProperty(e.prototype,"body",{get:function(){return this.xhr.response},enumerable:!0,configurable:!0}),e.prototype.ensureSuccessfulStatusCode=function(){if(!this.isSuccessfulStatusCode)throw new s.HttpRequestError("The HTTP response code "+this.statusCode+" indicates failure.")},e}();t.XhrResponse=o,t.sendRequest=function(e,t){t&&t.throwIfCancellationRequested();var r,a=new XMLHttpRequest,l=new n.PromiseLikeResolutionSource;if(null!=e.username||null!=e.password?a.open(e.method,e.url,!0,e.username,e.password):a.open(e.method,e.url),e.timeout&&(a.timeout=e.timeout),e.headers)for(var c in e.headers)if(e.headers.hasOwnProperty(c)){var u=e.headers[c];null!=u&&(u=Array.isArray(u)?u.join(", "):String(u),a.setRequestHeader(c,u))}if(null!=e.responseType){var p=e.responseType;"buffer"===p&&(p="arraybuffer"),a.responseType=p}return null!=e.withCredentials&&(a.withCredentials=e.withCredentials),a.onload=function(){console.assert(4==a.readyState),r&&r.dispose(),l.tryResolve(new o(a))},a.onerror=function(){r&&r.dispose(),l.tryReject(new s.HttpRequestError("An error occurred while sending the HTTP request."))},a.ontimeout=function(){r&&r.dispose(),l.tryReject(new i.PromiseCancelledError("HTTP request timeout has reached."))},r=t&&t.subscribe((function(){l.tryCancel()&&a.abort()})),a.send(e.body),l.promiseLike}},"../packages/tasklike-promise-library/dist/facades/common/http.js":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(r,n){var i=e.call(this,null==r?"The HTTP request has failed.":r)||this;return i.inner=n,i.name="HttpRequestError",Object.setPrototypeOf(i,t.prototype),i}return i(t,e),t}(Error);t.HttpRequestError=s},"../packages/tasklike-promise-library/dist/http.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("../packages/tasklike-promise-library/dist/facades/common/http.js")),n(r("../packages/tasklike-promise-library/dist/facades/browser/http.js"))},"../packages/tasklike-promise-library/dist/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("../packages/tasklike-promise-library/dist/common.js")),n(r("../packages/tasklike-promise-library/dist/primitives/index.js")),n(r("../packages/tasklike-promise-library/dist/http.js")),n(r("../packages/tasklike-promise-library/dist/delayedCallbacks.js"))},"../packages/tasklike-promise-library/dist/primitives/cancellation.js":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r("../packages/tasklike-promise-library/dist/primitives/eventEmitter.js"),o=r("../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js"),a=function(e){function t(r){var n=e.call(this,null==r?"Promise execution has been cancelled.":r)||this;return n.name="PromiseCancelledError",Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(Error);t.PromiseCancelledError=a;var l=function(){function e(){}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancelled},enumerable:!0,configurable:!0}),e.prototype.__int_cancel=function(){this._cancellationEvent&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),this._cancellationPlrs&&this._cancellationPlrs.tryResolve(),this._cancelled=!0},e.prototype.throwIfCancellationRequested=function(){if(this._cancelled)throw new a},e.prototype.subscribe=function(e){this._cancellationEvent||(this._cancellationEvent=new s.EventEmitter);var t=this._cancellationEvent.addListener(e,!0);return this._cancelled&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),t},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._cancellationPlrs&&(this._cancellationPlrs=new o.PromiseLikeResolutionSource,this._cancelled&&this._cancellationPlrs.tryResolve()),this._cancellationPlrs.promiseLike},enumerable:!0,configurable:!0}),e}(),c=new l;c.__int_cancel();var u=function(){function e(e){null!=e&&this.cancelAfter(e)}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancellationToken&&this._cancellationToken.isCancellationRequested},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._cancellationToken?this._cancellationToken.__int_cancel():this._cancellationToken=c},e.prototype.cancelAfter=function(e){var t=this;if(e<0)throw new RangeError("delay (arg#1) should be a non-negative number.");0===e?this.cancel():setTimeout((function(){t.cancel()}),e)},Object.defineProperty(e.prototype,"token",{get:function(){return this._cancellationToken||(this._cancellationToken=new l),this._cancellationToken},enumerable:!0,configurable:!0}),e.race=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e,i=function(){n.cancel()},s=0,o=t;s<o.length;s++){var a=o[s];a&&a.subscribe(i)}return n},e}();t.CancellationTokenSource=u},"../packages/tasklike-promise-library/dist/primitives/disposable.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineDisposable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{dispose:function(){e.forEach((function(e){return e.dispose()}))}}}},"../packages/tasklike-promise-library/dist/primitives/errors.js":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(r,n){var i=e.call(this)||this;return i.rawValue=r,i.inner=n,i.name="RawValueError",i.getBaseError=o,Object.setPrototypeOf(i,t),i}return i(t,e),t}(Error);function o(){for(var e=this;null!=e.inner;)e=e.inner;return e}t.setInnerError=function(e,t){return e instanceof Error?(Object.defineProperty(e,"inner",{value:t,writable:!1}),Object.defineProperty(e,"getBaseError",{value:o,writable:!1}),e):new s(e,t)};var a=function(e){function t(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=e.call(this)||this;return s.name="RawValueError",Object.setPrototypeOf(s,t),s.innerErrors=n.filter((function(e){return null!=e})),s}return i(t,e),t.prototype.forEach=function(e,r){e.call(r,this);for(var n=0,i=this.innerErrors;n<i.length;n++){var s=i[n];e.call(r,s),s instanceof t&&s.forEach(e,r)}},t}(Error);t.AggregateError=a},"../packages/tasklike-promise-library/dist/primitives/eventEmitter.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.addListener=function(e,t,r){var n=this,i={prev:this.tail,callback:e.bind(r),isAsync:t};return this.head||(console.assert(!this.tail),this.head=i),this.tail&&(this.tail.next=i),this.tail=i,{dispose:function(){i&&(i.prev?(console.assert(i.prev.next===i),i.prev.next=i.next):(console.assert(n.head===i),n.head=i.next),i.next?(console.assert(i.next.prev===i),i.next.prev=i.prev):(console.assert(n.tail===i),n.tail=i.prev),i=void 0)}}},e.prototype.raise=function(e){for(var t,r=this.head,n=[];r;)n.push([r.callback,!!r.isAsync]),r=r.next;for(var i=0,s=n;i<s.length;i++){var o=s[i],a=o[0];o[1]?(t||(t=Promise.resolve(e)),t.then(a)):a(e)}},e.prototype.clearListeners=function(){this.head=this.tail=void 0},e}();t.EventEmitter=n},"../packages/tasklike-promise-library/dist/primitives/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("../packages/tasklike-promise-library/dist/primitives/cancellation.js")),n(r("../packages/tasklike-promise-library/dist/primitives/disposable.js")),n(r("../packages/tasklike-promise-library/dist/primitives/errors.js")),n(r("../packages/tasklike-promise-library/dist/primitives/eventEmitter.js")),n(r("../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js")),n(r("../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js"))},"../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=r("../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js"),s=function(){function e(){}return e.prototype._ensurePromiseLikeInitialized=function(){this._promiseLike||(this._promiseLike=new o)},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._ensurePromiseLikeInitialized(),this._promiseLike},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__fulfill(e),!0)},e.prototype.tryCancel=function(){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(new n.PromiseCancelledError),!0)},e.prototype.tryReject=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(e),!0)},e}();t.PromiseLikeResolutionSource=s;var o=function(){function e(e,t){var r=this;this._onfulfilled=e,this._onrejected=t,this.fulfillNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryResolve(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__fulfill(e)}else if("string"==typeof r.next)return void console.error("Settled PromiseLike should not be resolved furthermore.",r.next);r.next="resolved",r.result=e},this.rejectNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryReject(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__reject(e)}else if("string"==typeof r.next)return void console.error("Settled PromisLike should not be rejected furthermore.",r.next);r.next="rejected",r.result=e}}return Object.defineProperty(e.prototype,"$__int__settled",{get:function(){return"string"==typeof this.next},enumerable:!0,configurable:!0}),e.prototype.$__int__fulfill=function(e){if("string"!=typeof this.next)try{if(this._onfulfilled){var t=this._onfulfilled(e);this.fulfillNext(t)}else this.fulfillNext(e)}catch(e){this._onrejected&&this.rejectNext(e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.$__int__reject=function(e){if("string"!=typeof this.next)try{if(this._onrejected){var t=this._onrejected(e);this.fulfillNext(t)}else this.rejectNext(e)}catch(e){this._onrejected?this.rejectNext(e):console.error("Uncaught SynchronousPromiseLike rejection: %o",e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.then=function(t,r){var n=new e(t,r);return this.next||(this.next=[]),Array.isArray(this.next)?this.next.push(n):"resolved"===this.next?n.$__int__fulfill(this.result):"rejected"===this.next?n.$__int__reject(this.result):console.error("Invalid state."),n},e.prototype.forceAsync=function(){return this.asnycPrs?this.asnycPrs.promise:"resolved"===this.next?Promise.resolve(this.result):"rejected"===this.next?Promise.reject(this.result):(console.assert(!this.next||Array.isArray(this.next)),this.asnycPrs=new i.PromiseResolutionSource,this.asnycPrs.promise)},e}()},"../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=function(){function e(){}return e.prototype._ensurePromiseInitialized=function(){var e=this;null==this._promise&&(this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r})))},Object.defineProperty(e.prototype,"promise",{get:function(){return this._ensurePromiseInitialized(),this._promise},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseInitialized(),!!this._resolve&&(this._resolve(e),this._resolve=this._reject=void 0,!0)},e.prototype.tryCancel=function(){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(new n.PromiseCancelledError),this._resolve=this._reject=void 0,!0)},e.prototype.tryReject=function(e){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(e),this._resolve=this._reject=void 0,!0)},e}();t.PromiseResolutionSource=i},"./src/index.ts":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r("../packages/tasklike-promise-library/dist/index.js"),a=s(r("../packages/tasklike-promise-library/dist/index.js"));function l(e,t){return t?t.querySelector(e):document.querySelector(e)}function c(e){var t=document.createElement("div");return t.classList.add("error"),t.innerText=e&&e.stack||String(e),t}function u(e,t){var r=document.createElement("div");return r.innerText=t,e.appendChild(r),r}function p(e,t,r){return n(this,void 0,void 0,(function(){var n,s,a,u,p,d;return i(this,(function(i){switch(i.label){case 0:n=new o.CancellationTokenSource,s=function(){n.cancel()},a=l(t),(u=r?l(r):null)&&(u.addEventListener("click",s),u.disabled=!1),a.innerText="",i.label=1;case 1:return i.trys.push([1,4,5,6]),(p=e(a,u?n.token:void 0))?[4,p]:[3,3];case 2:i.sent(),i.label=3;case 3:return[3,6];case 4:return d=i.sent(),a.appendChild(c(d)),console.error(d),[3,6];case 5:return u&&(u.removeEventListener("click",s),u.disabled=!0),[7];case 6:return[2]}}))}))}function d(e){u(e,"Caller: Call myAsyncFunction."),function(){n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return u(e,"Callee: Do some work synchronously in myAsyncFunction…"),u(e,"Callee: myAsyncFunction is to yield…"),[4,o.yielded()];case 1:return t.sent(),u(e,"Callee: back from yielded state…"),u(e,"Callee: exiting."),[2]}}))}))}(),u(e,"Caller: We decide don't await for myAsyncFunction."),u(e,"Caller: exiting.")}function f(e,t){return n(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return r=u(e,"Delay 0ms (SetTimeout(0) + yielded)."),[4,o.delay(0,t)];case 1:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 500ms."),[4,o.delay(500,t)];case 2:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 1s."),[4,o.delay(1e3,t)];case 3:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 2s."),[4,o.delay(2e3,t)];case 4:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 3s."),[4,o.delay(3e3,t)];case 5:return n.sent(),r.innerText+=" Finished.",u(e,"----------"),[2]}}))}))}function h(e,t){return n(this,void 0,void 0,(function(){function r(r){return n(this,void 0,void 0,(function(){var n,s,a,l;return i(this,(function(i){switch(i.label){case 0:n=u(e,r.method+" request to "+r.url+"…"),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,o.sendRequest(r,t)];case 2:return s=i.sent(),n.innerText+=" "+s.statusCode+" "+s.statusText,u(e,"Content-Type: "+s.getHeaderValue("Content-Type")),(a=document.createElement("pre")).classList.add("http-response-body"),a.innerText=s.body,e.appendChild(a),n=u(e,"ensureSuccessfulStatusCode…"),s.ensureSuccessfulStatusCode(),n.innerText+=" Successful.",[3,5];case 3:if((l=i.sent())instanceof o.PromiseCancelledError)throw l;return e.appendChild(c(l)),[3,5];case 4:return u(e,"----------"),[7];case 5:return[2]}}))}))}return i(this,(function(e){switch(e.label){case 0:return[4,r({url:"tsconfig.json?rand="+Math.random(),method:"GET",timeout:2e3})];case 1:return e.sent(),[4,r({url:"tsconfig.json",method:"POST"})];case 2:return e.sent(),[2]}}))}))}function y(e,t){return n(this,void 0,void 0,(function(){var r,n,s,a,l,c,p;return i(this,(function(i){switch(i.label){case 0:t&&t.throwIfCancellationRequested(),u(e,"requestIdleCallbackAsync"),r=u(e,"Requesting…"),n=0,s=0,i.label=1;case 1:return!t||t.isCancellationRequested?[3,3]:[4,o.requestIdleCallbackAsync({timeout:1e3},t)];case 2:return c=i.sent(),p=c.deadline.timeRemaining(),n++,c.deadline.didTimeout&&s++,a=null==a?p:Math.min(p,a),l=null==l?p:Math.max(p,l),r.innerText="Requested: "+n+" times, timed-outs: "+s+", minIdleTime: "+a+", maxIdleTime: "+l,[3,1];case 3:return[2]}}))}))}function m(e,t){return n(this,void 0,void 0,(function(){var r,n,s,a,l,c,p,d,f,h,y,m,v,_,b,k,j;return i(this,(function(i){switch(i.label){case 0:return t&&t.throwIfCancellationRequested(),u(e,"requestAnimationFrameAsync"),r=u(e,"Requesting…"),n=u(e,"This is <DIV>."),30,(s=document.createElement("button")).innerText="ball",s.style.borderRadius="15px",s.style.position="absolute",s.style.width=s.style.height="30px",n.classList.add("canvas"),n.appendChild(s),a=performance.now(),l=a,c=0,p=0,d=200,f=200,0,h=200,y=0,[4,o.requestAnimationFrameAsync(t)];case 1:i.sent(),n.scrollIntoView(),i.label=2;case 2:return t&&t.isCancellationRequested?[3,4]:[4,o.requestAnimationFrameAsync(t)];case 3:return m=i.sent(),v=m.time-l,_=n.clientWidth,b=n.clientHeight,j=p+f*(v/1e3),(k=c+d*(v/1e3))<0||k+s.offsetWidth>_?(d=-d*(.2*Math.random()+.8),c=k<0?0:_-s.offsetWidth):(c=k,s.style.left=k+"px"),j<0||j+s.offsetHeight>b?(f=-f*(.2*Math.random()+.8),p=j<0?0:b-s.offsetHeight):(p=j,f+=h*(v/1e3),s.style.top=j+"px"),l=m.time,++y>30&&(r.innerText="Frames: "+y+", time: "+((m.time-a)/1e3).toFixed(2)+" sec., FPS: "+(1e3*y/(m.time-a)).toFixed(2)+"."),[3,2];case 4:return[2]}}))}))}l("#tpl-yielded-run").addEventListener("click",(function(){return p(d,"#tpl-yielded-panel")})),l("#tpl-delay-run").addEventListener("click",(function(){return p(f,"#tpl-delay-panel","#tpl-delay-cancel")})),l("#tpl-sendrequest-run").addEventListener("click",(function(){return p(h,"#tpl-sendrequest-panel","#tpl-sendrequest-cancel")})),l("#tpl-requesticb-run").addEventListener("click",(function(){return p(y,"#tpl-requesticb-panel","#tpl-requesticb-cancel")})),l("#tpl-requestaf-run").addEventListener("click",(function(){return p(m,"#tpl-requestaf-panel","#tpl-requestaf-cancel")})),window.TPL=a}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvZGVsYXllZENhbGxiYWNrcy5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvZmFjYWRlcy9icm93c2VyL2h0dHAuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2ZhY2FkZXMvY29tbW9uL2h0dHAuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2h0dHAuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9wcmltaXRpdmVzL2NhbmNlbGxhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvcHJpbWl0aXZlcy9kaXNwb3NhYmxlLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9wcmltaXRpdmVzL2Vycm9ycy5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvcHJpbWl0aXZlcy9ldmVudEVtaXR0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvcHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9wcmltaXRpdmVzL3Byb21pc2VSZXNvbHV0aW9uU291cmNlLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNhbmNlbGxhdGlvbl8xIiwicHJvbWlzZVJlc29sdXRpb25Tb3VyY2VfMSIsIl95aWVsZGVkUHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZGVsYXkiLCJtaWxsaXNlY29uZHMiLCJjYW5jZWxsYXRpb25Ub2tlbiIsIlJhbmdlRXJyb3IiLCJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwicHJzIiwiUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UiLCJpZCIsInNldFRpbWVvdXQiLCJ0cnlSZXNvbHZlIiwic3Vic2NyaWJlIiwiY2xlYXJUaW1lb3V0IiwidHJ5UmVqZWN0IiwiUHJvbWlzZUNhbmNlbGxlZEVycm9yIiwicHJvbWlzZSIsInlpZWxkZWQiLCJmcm9tUmVzb2x2ZWQiLCJyZXN1bHQiLCJmcm9tUmVqZWN0ZWQiLCJyZWFzb24iLCJyZWplY3QiLCJmcm9tQ2FuY2VsbGVkIiwicHJpbWl0aXZlc18xIiwic2V0VGltZW91dEFzeW5jIiwic3Vic2NyaXB0aW9uIiwicGxycyIsIlByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSIsIndpbmRvdyIsImRpc3Bvc2UiLCJ0cnlDYW5jZWwiLCJwcm9taXNlTGlrZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGltZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVxdWVzdElkbGVDYWxsYmFja0FzeW5jIiwib3B0aW9ucyIsInJlcXVlc3RJZGxlQ2FsbGJhY2siLCJkZWFkbGluZSIsImNhbmNlbElkbGVDYWxsYmFjayIsImh0dHBfMSIsIlhoclJlc3BvbnNlIiwieGhyIiwidGhpcyIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiaXNTdWNjZXNzZnVsU3RhdHVzQ29kZSIsImNvbnNvbGUiLCJhc3NlcnQiLCJnZXRIZWFkZXJWYWx1ZSIsImhlYWRlck5hbWUiLCJnZXRSZXNwb25zZUhlYWRlciIsImdldEhlYWRlclZhbHVlcyIsInNwbGl0IiwibWFwIiwidiIsInRyaW1MZWZ0IiwicmVzcG9uc2UiLCJjb25maWd1cmFibGUiLCJlbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZSIsIkh0dHBSZXF1ZXN0RXJyb3IiLCJzZW5kUmVxdWVzdCIsInJlcXVlc3QiLCJjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24iLCJYTUxIdHRwUmVxdWVzdCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJvcGVuIiwibWV0aG9kIiwidXJsIiwidGltZW91dCIsImhlYWRlcnMiLCJuYW1lXzEiLCJBcnJheSIsImlzQXJyYXkiLCJqb2luIiwiU3RyaW5nIiwic2V0UmVxdWVzdEhlYWRlciIsInJlc3BvbnNlVHlwZSIsIndpdGhDcmVkZW50aWFscyIsIm9ubG9hZCIsInJlYWR5U3RhdGUiLCJvbmVycm9yIiwib250aW1lb3V0IiwiYWJvcnQiLCJzZW5kIiwiYm9keSIsImV4dGVuZFN0YXRpY3MiLCJfX2V4dGVuZHMiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfXyIsImNvbnN0cnVjdG9yIiwiX3N1cGVyIiwibWVzc2FnZSIsImlubmVyIiwiX3RoaXMiLCJFcnJvciIsIl9fZXhwb3J0IiwiZXZlbnRFbWl0dGVyXzEiLCJwcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2VfMSIsIkNhbmNlbGxhdGlvblRva2VuIiwiX2NhbmNlbGxlZCIsIl9faW50X2NhbmNlbCIsIl9jYW5jZWxsYXRpb25FdmVudCIsInJhaXNlIiwiY2xlYXJMaXN0ZW5lcnMiLCJfY2FuY2VsbGF0aW9uUGxycyIsImNhbGxiYWNrIiwiRXZlbnRFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJjYW5jZWxsZWRUb2tlbiIsIkNhbmNlbGxhdGlvblRva2VuU291cmNlIiwiY2FuY2VsQWZ0ZXJEZWxheSIsImNhbmNlbEFmdGVyIiwiX2NhbmNlbGxhdGlvblRva2VuIiwiaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJjYW5jZWwiLCJyYWNlIiwiY2FuY2VsbGF0aW9uVG9rZW5zIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJjdHMiLCJjYW5jZWxsYXRpb25DYWxsYmFjayIsIl9hIiwiY2FuY2VsbGF0aW9uVG9rZW5zXzEiLCJ0b2tlbiIsImNvbWJpbmVEaXNwb3NhYmxlIiwiZGlzcG9zYWJsZXMiLCJmb3JFYWNoIiwiUmF3VmFsdWVFcnJvciIsInJhd1ZhbHVlIiwiZ2V0QmFzZUVycm9yIiwiY3VycmVudCIsInNldElubmVyRXJyb3IiLCJlcnJvciIsIndyaXRhYmxlIiwiQWdncmVnYXRlRXJyb3IiLCJlcnJvcnMiLCJpbm5lckVycm9ycyIsImZpbHRlciIsImUiLCJ0aGlzQXJnIiwibGlzdGVuZXIiLCJpc0FzeW5jIiwiaXRlbSIsInByZXYiLCJ0YWlsIiwiaGVhZCIsIm5leHQiLCJ1bmRlZmluZWQiLCJhcmciLCJyZXNvbHZlZFByb21pc2UiLCJoYW5kbGVycyIsInB1c2giLCJoYW5kbGVyc18xIiwiaGFuZGxlciIsInRoZW4iLCJfZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCIsIl9wcm9taXNlTGlrZSIsIlN5bmNocm9ub3VzUHJvbWlzZUxpa2UiLCIkX19pbnRfX3NldHRsZWQiLCIkX19pbnRfX2Z1bGZpbGwiLCIkX19pbnRfX3JlamVjdCIsIl9vbmZ1bGZpbGxlZCIsIl9vbnJlamVjdGVkIiwiZnVsZmlsbE5leHQiLCJuZXh0UmVzdWx0IiwicmVqZWN0TmV4dCIsImFzbnljUHJzIiwibmV4dFJlYXNvbiIsInByZXZSZXN1bHQiLCJvbmZ1bGZpbGxlZCIsIm9ucmVqZWN0ZWQiLCJmb3JjZUFzeW5jIiwiX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCIsIl9wcm9taXNlIiwicmVzIiwicmVqIiwiX3Jlc29sdmUiLCJfcmVqZWN0IiwiJCIsInNlbGVjdG9yIiwic2NvcGUiLCJxdWVyeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJidWlsZEVycm9yUGFuZWwiLCJlcnJCb3giLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJUZXh0Iiwic3RhY2siLCJhcHBlbmRMaW5lIiwiY29udGFpbmVyIiwiY29udGVudCIsImxpbmUiLCJhcHBlbmRDaGlsZCIsInJ1bkRlbW8iLCJkZW1vRnVuYyIsInBhbmVsU2VsZWN0b3IiLCJjYW5jZWxsYXRpb25CdXR0b25TZWxlY3RvciIsIm9uQ2FuY2VsIiwicGFuZWwiLCJjYW5jZWxCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzYWJsZWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGVtb1lpZWxkIiwibXlBc3luY0Z1bmN0aW9uIiwiZGVtb0RlbGF5IiwiY3QiLCJsYXN0TGluZSIsImRlbW9IdHRwIiwic2VuZEFuZFJlcG9ydCIsImJvZHlDb250YWluZXIiLCJNYXRoIiwicmFuZG9tIiwiZGVtb1JlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYyIsImNvdW50ZXIiLCJ0aW1lb3V0Q291bnRlciIsImNvbnRleHQiLCJ0aW1lUmVtYWluaW5nIiwiZGlkVGltZW91dCIsIm1pbklkbGVUaW1lIiwibWluIiwibWF4SWRsZVRpbWUiLCJtYXgiLCJkZW1vUmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMiLCJjYW52YXMiLCJiYWxsIiwic3R5bGUiLCJib3JkZXJSYWRpdXMiLCJwb3NpdGlvbiIsIndpZHRoIiwiaGVpZ2h0IiwiYmFsbFNpemUiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInByZXZUaW1lIiwicHgiLCJweSIsInZ4IiwidnkiLCJheSIsImZyYW1lQ291bnRlciIsInNjcm9sbEludG9WaWV3IiwiZnJhbWVEdXJhdGlvbiIsImNhbnZhc1dpZHRoIiwiY2xpZW50V2lkdGgiLCJjYW52YXNIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJ5IiwieCIsIm9mZnNldFdpZHRoIiwibGVmdCIsIm9mZnNldEhlaWdodCIsInRvcCIsInRvRml4ZWQiLCJUUEwiLCJ0cGxBbWJpZW50Il0sIm1hcHBpbmdzIjoiO2FBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9B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T0FBQVAsRUFBUVUsRUFBVyx5QkFDMUUzQixFQUFFLGtCQUFtQndCLGlCQUFpQixTQUFTLFdBQU0sT0FBQVAsRUFBUVksRUFBVyxtQkFBb0Isd0JBQzVGN0IsRUFBRSx3QkFBeUJ3QixpQkFBaUIsU0FBUyxXQUFNLE9BQUFQLEVBQVFlLEVBQVUseUJBQTBCLDhCQUN2R2hDLEVBQUUsdUJBQXdCd0IsaUJBQWlCLFNBQVMsV0FBTSxPQUFBUCxFQUFRb0IsRUFBOEIsd0JBQXlCLDZCQUN6SHJDLEVBQUUsc0JBQXVCd0IsaUJBQWlCLFNBQVMsV0FBTSxPQUFBUCxFQUFROEIsRUFBZ0MsdUJBQXdCLDRCQUV4SDVNLE9BQWlENE8sSUFBTUMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC50c1wiKTtcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIENvbnRhaW5zIGNvbW1vbiB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgYFByb21pc2VgLlxyXG4gKi9cclxuLyoqICovXHJcbnZhciBjYW5jZWxsYXRpb25fMSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXMvY2FuY2VsbGF0aW9uXCIpO1xyXG52YXIgcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VfMSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXMvcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VcIik7XHJcbnZhciBfeWllbGRlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuLyoqXHJcbiAqIEdldHMgYSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyBhZnRlciB0aGUgc3BlY2lmaWVkIHRpbWUgb2YgZGVsYXkuXHJcbiAqIEBwYXJhbSBtaWxsaXNlY29uZHMgbm9uLW5lZ2F0aXZlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHRoZSByZXR1cm5lZCBgUHJvbWlzZWAgcmVzb2x2ZXMuXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSByZXR1cm5lZCBgUHJvbWlzZWAuXHJcbiAqIEBzZWUge0BsaW5rIHlpZWxkZWR9XHJcbiAqIEB0b2RvIG1ha2UgdGhpcyBmdW5jdGlvbiBhbHNvIHdvcmtzIGluIG5vZGVqcy5cclxuICovXHJcbmZ1bmN0aW9uIGRlbGF5KG1pbGxpc2Vjb25kcywgY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGlmIChtaWxsaXNlY29uZHMgPCAwKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJtaWxsaXNlY29uZHMgKGFyZyMxKSBzaG91bGQgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLlwiKTtcclxuICAgIH1cclxuICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIHZhciBwcnMgPSBuZXcgcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VfMS5Qcm9taXNlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgLy8gVE9ETyBtYWtlIHNldFRpbWVvdXQgaW5qZWN0YWJsZS5cclxuICAgIHZhciBpZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBwcnMudHJ5UmVzb2x2ZSgpOyB9LCBtaWxsaXNlY29uZHMpO1xyXG4gICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgICAgICAgcHJzLnRyeVJlamVjdChuZXcgY2FuY2VsbGF0aW9uXzEuUHJvbWlzZUNhbmNlbGxlZEVycm9yKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBycy5wcm9taXNlO1xyXG59XHJcbmV4cG9ydHMuZGVsYXkgPSBkZWxheTtcclxuLyoqXHJcbiAqIFJldHVybnMgYSBgUHJvbWlzZUxpa2VgIGluc3RhbmNlIHRoYXQsIHdoZW4gdXNlZCB3aXRoIGBhd2FpdGAgZXhwcmVzc2lvbixcclxuICogYXN5bmNocm9ub3VzbHkgeWllbGRzIGJhY2sgdG8gdGhlIGNvZGUgYmVsb3cuIFRoZSBpbnN0YW5jZSByZXR1cm5lZCBiZWhhdmVzXHJcbiAqIGxpa2UgdGhlIHJldHVybmVkIHZhbHVlIG9mIGBQcm9taXNlLnJlc29sdmUoKWAuXHJcbiAqXHJcbiAqIE5vdGU6IFRoZSBtYWpvciBkaWZmZXJlbmNlIGJldHdlZW4gYHlpZWxkZWQoKWAgYW5kIGBkZWxheSgwKWAsIGlzIHRoYXQgYGRlbGF5YCB3aWxsXHJcbiAqIHJlc29sdmUgdGhlIHJldHVybmVkIGBQcm9taXNlYCBpbiBhIGBzZXRUaW1lb3V0YCBjYWxsYmFjaywgZXZlbiBpZiB0aGUgZGVsYXkgdGltZSBpcyBgMGAuXHJcbiAqIFRoaXMgd2lsbCBjYXVzZSBgUHJvbWlzZWAgcmV0dXJuZWQgYnkgYGRlbGF5YCBiZSAqcmVzb2x2ZWQqIGluIG1hcmNvVGFzayBxdWV1ZSBvbiBzb21lIGV4ZWN1dGlvbiBlbmdpbmUuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIGRlbGF5fVxyXG4gKi9cclxuZnVuY3Rpb24geWllbGRlZCgpIHtcclxuICAgIHJldHVybiBfeWllbGRlZFByb21pc2U7XHJcbn1cclxuZXhwb3J0cy55aWVsZGVkID0geWllbGRlZDtcclxuLyoqXHJcbiAqIEdldHMgYSByZXNvbHZlZCBgUHJvbWlzZWAuXHJcbiAqIFRoaXMgZnVuY3Rpb24gYmVoYXZlcyB0aGUgc2FtZSBhcyBgUHJvbWlzZS5yZXNvbHZlYC5cclxuICogQHBhcmFtIHJlc3VsdCB0aGUgcmVzdWx0IG9mIHRoZSByZXNvbHZlZCBgUHJvbWlzZWAuXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tUmVzb2x2ZWQocmVzdWx0KSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XHJcbn1cclxuZXhwb3J0cy5mcm9tUmVzb2x2ZWQgPSBmcm9tUmVzb2x2ZWQ7XHJcbi8qKlxyXG4gKiBHZXRzIGEgcmVqZWN0ZWQgYFByb21pc2VgLlxyXG4gKiBUaGlzIGZ1bmN0aW9uIGJlaGF2ZXMgdGhlIHNhbWUgYXMgYFByb21pc2UucmVqZWN0YC5cclxuICogQHBhcmFtIHJlYXNvbiB0aGUgcmVqZWN0aW9uIHJlYXNvbiwgb3IgdGhlIGBFcnJvcmAgY2F1c2luZyB0aGUgcmVqZWN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbVJlamVjdGVkKHJlYXNvbikge1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XHJcbn1cclxuZXhwb3J0cy5mcm9tUmVqZWN0ZWQgPSBmcm9tUmVqZWN0ZWQ7XHJcbi8qKlxyXG4gKiBHZXRzIGEgY2FuY2VsbGVkIGBQcm9taXNlYC5cclxuICpcclxuICogQSBjYW5jZWxsZWQgYFByb21pc2VgIGlzIGEgYFByb21pc2VgIHJlamVjdGVkIHdpdGgge0BsaW5rIFByb21pc2VDYW5jZWxsZWRFcnJvcn0uXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tQ2FuY2VsbGVkKCkge1xyXG4gICAgLy8gV2Ugd2FudCB0byBjYXB0dXJlIHRoZSBzdGFjayB0cmFjZS5cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgY2FuY2VsbGF0aW9uXzEuUHJvbWlzZUNhbmNlbGxlZEVycm9yKCkpO1xyXG59XHJcbmV4cG9ydHMuZnJvbUNhbmNlbGxlZCA9IGZyb21DYW5jZWxsZWQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbW1vbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogQG1vZHVsZVxyXG4gKiBDb250YWlucyBhZGFwdGVyIGZ1bmN0aW9ucyB0aGF0IGFsbG93cyB5b3UgdG8gc3dpdGNoIGludG8gYW5vdGhlciBjb250ZXh0IHdoZW4geW91IHN1YnNjcmliZSB0aGUgcmV0dXJuZWQgYFByb21pc2VMaWtlYHMuXHJcbiAqIEZvciBleGFtcGxlLCBpbiBhc3luYyBmdW5jdGlvbnMsIGlmIHlvdSB3YW50IHRvIGV4ZWN1dGUgcGFydCBvZiB5b3VyIGxvZ2ljIGluc2lkZSBhblxyXG4gKiBbYW5pbWF0aW9uIGZyYW1lXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvd2luZG93L3JlcXVlc3RBbmltYXRpb25GcmFtZSksXHJcbiAqIHlvdSBtYXkgbm93IHVzZSBhIHNpbXBsZSBsb29wIGluc2lkZSB0aGUgYXN5bmNocm9ub3VzIGZ1bmN0aW9uLlxyXG4gKiBgYGB0c1xyXG4gKiBpbXBvcnQgeyBJQ2FuY2VsbGF0aW9uVG9rZW4sIHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jIH0gZnJvbSBcInRhc2tsaWtlLXByb21pc2UtbGlicmFyeVwiO1xyXG4gKlxyXG4gKiBhc3luYyBmdW5jdGlvbiBwbGF5QW5pbWF0aW9uKGNhbmNlbGxhdGlvblRva2VuPzogSUNhbmNlbGxhdGlvblRva2VuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAqICAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAqICAgICBsZXQgcHJldlRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICogICAgIGxldCBjdXJyZW50V2lkdGggPSAwO1xyXG4gKiAgICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LnBhbmVsXCIpO1xyXG4gKiAgICAgd2hpbGUgKCFjYW5jZWxsYXRpb25Ub2tlbiB8fCAhY2FuY2VsbGF0aW9uVG9rZW4uaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQpIHtcclxuICogICAgICAgICBjb25zdCBhbmltYXRpb25GcmFtZSA9IGF3YWl0IHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKGNhbmNlbGxhdGlvblRva2VuKTtcclxuICogICAgICAgICAvLyBGcm9tIG5vdyBvbiwgd2UgYXJlIGluc2lkZSBSQUYgY2FsbGJhY2suXHJcbiAqICAgICAgICAgLy8gYGFuaW1hdGlvbkZyYW1lYCBjb250YWlucyB0aGUgaW5mb3JtYXRpb24gcGFzc2VkIGZyb20gUkFGIGNhbGxiYWNrLFxyXG4gKiAgICAgICAgIC8vIGJhc2ljYWxseSwgdGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGFuaW1hdGlvbiBmcmFtZS5cclxuICogICAgICAgICAvLyBNYWtlIHNvbWUgYW5pbWF0aW9uIGhlcmUuXHJcbiAqICAgICAgICAgY29uc3QgZnJhbWVEdXJhdGlvbiA9IGFuaW1hdGlvbkZyYW1lLnRpbWUgLSBwcmV2VGltZTtcclxuICogICAgICAgICAvLyBMZXQgdGhlIHdpZHRoIG9mIC5wYW5lbCBpbmNyZWFzZSBieSAxMCBwaXhlbC9zZWMuXHJcbiAqICAgICAgICAgY3VycmVudFdpZHRoICs9IGZyYW1lRHVyYXRpb24gKiAxMCAqIGZyYW1lRHVyYXRpb24gLyAxMDAwO1xyXG4gKiAgICAgICAgIHBhbmVsLnN0eWxlcy53aXRoID0gTWF0aC5yb3VuZChjdXJyZW50V2lkdGgpICsgXCJweFwiO1xyXG4gKiAgICAgICAgIHByZXZUaW1lID0gYW5pbWF0aW9uRnJhbWUudGltZTtcclxuICogICAgICAgICAvLyBFbmQgb2YgUkFGIGNhbGxiYWNrLlxyXG4gKiAgICAgICAgIC8vIChNb3JlIHByZWNpc2VseSwgdGhlIGNhbGxiYWNrIHN0b3AgYXQgdGhlIG5leHQgYGF3YWl0IHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jYCBleHByZXNzaW9uLilcclxuICogICAgICAgICAvLyBUaGUgbmV4dCBgYXdhaXQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmNgIGV4cHJlc3Npb24gd2lsbCBsZXQgdXMgZW50ZXIgYW5vdGhlciBSQUYgY2FsbGJhY2suXHJcbiAqICAgICAgICAgLy8gVG8gZXhpdCB0aGUgY3VycmVudCBSQUYgY2FsbGJhY2sgYW5kIGVudGVyIGFub3RoZXIgYXJiaXRyYXJ5IGFzeW5jaHJvbm91cyBjYWxsYmFjayBpbiB0aGUgc2FtZSBhc3luYyBmdW5jdGlvbixcclxuICogICAgICAgICAvLyBVc2UgYHlpZWxkZWQoKWAgb3IgYGRlbGF5KDApYCBmcm9tIGBcImNvbW1vblwiYCBtb2R1bGUuXHJcbiAqICAgICB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqL1xyXG4vKiogKi9cclxudmFyIHByaW1pdGl2ZXNfMSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXNcIik7XHJcbi8qKlxyXG4gKiBHZXRzIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgd2luZG93LnNldFRpbWVvdXRgIGNhbGxiYWNrLlxyXG4gKiBAcGFyYW0gbWlsbGlzZWNvbmRzIHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYmVmb3JlIHRoZSBgUHJvbWlzZUxpa2VgIHJlc29sdmVzLlxyXG4gKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW4gYSB0b2tlbiB1c2VkIHRvIGNhbmNlbCB0aGUgdGltZW91dCB3aXRoIGB3aW5kb3cuY2xlYXJUaW1lb3V0YC5cclxuICogQHJldHVybnMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cuc2V0VGltZW91dGAgY2FsbGJhY2suXHJcbiAqIFJlc29sdmVkIHZhbHVlIGlzIHRoZSB0aW1lb3V0IElEIHJldHVybmVkIGZyb20gYHdpbmRvdy5zZXRUaW1lb3V0YC5cclxuICogQHJlbWFya3MgQ29tcGFyZWQgd2l0aCB7QGxpbmsgZGVsYXl9LCB0aGlzIGZ1bmN0aW9uIGlzIG1vcmUgbG93LWxldmVsIGFuZCB5b3Ugc2hvdWxkIHByZWZlciB0b1xyXG4gKiB1c2Uge0BsaW5rIGRlbGF5fSB3aGVuIHBvc3NpYmxlLlxyXG4gKi9cclxuZnVuY3Rpb24gc2V0VGltZW91dEFzeW5jKG1pbGxpc2Vjb25kcywgY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIHZhciBwbHJzID0gbmV3IHByaW1pdGl2ZXNfMS5Qcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBzdWJzY3JpcHRpb247XHJcbiAgICB2YXIgaWQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZXNvbHZlKGlkKTtcclxuICAgIH0sIG1pbGxpc2Vjb25kcyk7XHJcbiAgICBpZiAoY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gPSBjYW5jZWxsYXRpb25Ub2tlbi5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgICAgICAgcGxycy50cnlDYW5jZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBwbHJzLnByb21pc2VMaWtlO1xyXG59XHJcbmV4cG9ydHMuc2V0VGltZW91dEFzeW5jID0gc2V0VGltZW91dEFzeW5jO1xyXG4vKipcclxuICogR2V0cyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxyXG4gKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW4gYSB0b2tlbiB1c2VkIHRvIGNhbmNlbCB0aGUgdGltZW91dCB3aXRoIGB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWVgLlxyXG4gKiBAcmV0dXJucyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxyXG4gKiBSZXNvbHZlZCB2YWx1ZSBjb250YWlucyBSQUYgY29udGV4dC5cclxuICovXHJcbmZ1bmN0aW9uIHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgcGxycyA9IG5ldyBwcmltaXRpdmVzXzEuUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCk7XHJcbiAgICB2YXIgc3Vic2NyaXB0aW9uO1xyXG4gICAgdmFyIGlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAodGltZSkge1xyXG4gICAgICAgIHN1YnNjcmlwdGlvbiAmJiBzdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIHBscnMudHJ5UmVzb2x2ZSh7IGlkOiBpZCwgdGltZTogdGltZSB9KTtcclxuICAgIH0pO1xyXG4gICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcclxuICAgICAgICAgICAgcGxycy50cnlDYW5jZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBwbHJzLnByb21pc2VMaWtlO1xyXG59XHJcbmV4cG9ydHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYztcclxuLyoqXHJcbiAqIEdldHMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFja2AgY2FsbGJhY2suXHJcbiAqIEl0IGJhc2ljYWxseSBleGVjdXRlcyB0aGUgY2FsbGJhY2sgd2hlbiB0aGUgSmF2YVNjcmlwdCBldmVudCBsb29wIGlzIGlkbGUsIG9yIHRoZSBzcGVjaWZpZWQgdGltZW91dCBoYXMgcmVhY2hlZC5cclxuICogQHBhcmFtIG9wdGlvbnMgb3B0aW9ucyBwYXNzZWQgaW50byBgcmVxdWVzdElkbGVDYWxsYmFja2AgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSB0aW1lb3V0IHdpdGggYHdpbmRvdy5jYW5jZWxJZGxlQ2FsbGJhY2tgLlxyXG4gKiBAcmV0dXJucyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrYCBjYWxsYmFjay5cclxuICogUmVzb2x2ZWQgdmFsdWUgY29udGFpbnMgcmVxdWVzdElkbGVDYWxsYmFjayBjb250ZXh0LlxyXG4gKiBAZXhwZXJpbWVudGFsIFVuZGVybHlpbmcgYHJlcXVlc3RJZGxlQ2FsbGJhY2tgIGZ1bmN0aW9uIGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlLlxyXG4gKiBTZWUgW01ETiBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L3JlcXVlc3RJZGxlQ2FsbGJhY2spIGZvciBtb3JlIGluZm9ybWF0aW9uXHJcbiAqIG9uIGl0IGNvbXBhdGliaWxpdHkuXHJcbiAqL1xyXG5mdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMob3B0aW9ucywgY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIHZhciBwbHJzID0gbmV3IHByaW1pdGl2ZXNfMS5Qcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBzdWJzY3JpcHRpb247XHJcbiAgICB2YXIgaWQgPSB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayhmdW5jdGlvbiAoZGVhZGxpbmUpIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gJiYgc3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlc29sdmUoeyBpZDogaWQsIGRlYWRsaW5lOiBkZWFkbGluZSB9KTtcclxuICAgIH0sIG9wdGlvbnMpO1xyXG4gICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayhpZCk7XHJcbiAgICAgICAgICAgIHBscnMudHJ5Q2FuY2VsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGxycy5wcm9taXNlTGlrZTtcclxufVxyXG5leHBvcnRzLnJlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYyA9IHJlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVsYXllZENhbGxiYWNrcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKiogKi9cclxudmFyIHByaW1pdGl2ZXNfMSA9IHJlcXVpcmUoXCIuLi8uLi9wcmltaXRpdmVzXCIpO1xyXG52YXIgY2FuY2VsbGF0aW9uXzEgPSByZXF1aXJlKFwiLi4vLi4vcHJpbWl0aXZlcy9jYW5jZWxsYXRpb25cIik7XHJcbnZhciBodHRwXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL2h0dHBcIik7XHJcbnZhciBYaHJSZXNwb25zZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFhoclJlc3BvbnNlKHhocikge1xyXG4gICAgICAgIHRoaXMueGhyID0geGhyO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IHRoaXMueGhyLnN0YXR1cztcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLnhoci5zdGF0dXNUZXh0O1xyXG4gICAgICAgIHRoaXMuaXNTdWNjZXNzZnVsU3RhdHVzQ29kZSA9IHRoaXMueGhyLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy54aHIuc3RhdHVzIDw9IDI5OTtcclxuICAgICAgICBjb25zb2xlLmFzc2VydCh4aHIpO1xyXG4gICAgfVxyXG4gICAgWGhyUmVzcG9uc2UucHJvdG90eXBlLmdldEhlYWRlclZhbHVlID0gZnVuY3Rpb24gKGhlYWRlck5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoaGVhZGVyTmFtZSk7XHJcbiAgICB9O1xyXG4gICAgWGhyUmVzcG9uc2UucHJvdG90eXBlLmdldEhlYWRlclZhbHVlcyA9IGZ1bmN0aW9uIChoZWFkZXJOYW1lKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoaGVhZGVyTmFtZSk7XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB2YWx1ZS5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2LnRyaW1MZWZ0KCk7IH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhoclJlc3BvbnNlLnByb3RvdHlwZSwgXCJib2R5XCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueGhyLnJlc3BvbnNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgWGhyUmVzcG9uc2UucHJvdG90eXBlLmVuc3VyZVN1Y2Nlc3NmdWxTdGF0dXNDb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1N1Y2Nlc3NmdWxTdGF0dXNDb2RlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBodHRwXzEuSHR0cFJlcXVlc3RFcnJvcihcIlRoZSBIVFRQIHJlc3BvbnNlIGNvZGUgXCIgKyB0aGlzLnN0YXR1c0NvZGUgKyBcIiBpbmRpY2F0ZXMgZmFpbHVyZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBYaHJSZXNwb25zZTtcclxufSgpKTtcclxuZXhwb3J0cy5YaHJSZXNwb25zZSA9IFhoclJlc3BvbnNlO1xyXG5mdW5jdGlvbiBzZW5kUmVxdWVzdChyZXF1ZXN0LCBjYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4udGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgdmFyIHBscnMgPSBuZXcgcHJpbWl0aXZlc18xLlByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgdmFyIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbjtcclxuICAgIGlmIChyZXF1ZXN0LnVzZXJuYW1lICE9IG51bGwgfHwgcmVxdWVzdC5wYXNzd29yZCAhPSBudWxsKSB7XHJcbiAgICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlLCByZXF1ZXN0LnVzZXJuYW1lLCByZXF1ZXN0LnBhc3N3b3JkKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCk7XHJcbiAgICB9XHJcbiAgICAvLyBJbiBJRSB0aGUgdGltZW91dCBwcm9wZXJ0eSBtYXkgb25seSBiZSBzZXQgYWZ0ZXIgY2FsbGluZyBvcGVuIGFuZCBiZWZvcmUgY2FsbGluZyBzZW5kLlxyXG4gICAgaWYgKHJlcXVlc3QudGltZW91dCkge1xyXG4gICAgICAgIHhoci50aW1lb3V0ID0gcmVxdWVzdC50aW1lb3V0O1xyXG4gICAgfVxyXG4gICAgaWYgKHJlcXVlc3QuaGVhZGVycykge1xyXG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiByZXF1ZXN0LmhlYWRlcnMpIHtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3QuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShuYW1lXzEpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdiA9IHJlcXVlc3QuaGVhZGVyc1tuYW1lXzFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHYgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHYpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ID0gdi5qb2luKFwiLCBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ID0gU3RyaW5nKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWVfMSwgdik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocmVxdWVzdC5yZXNwb25zZVR5cGUgIT0gbnVsbCkge1xyXG4gICAgICAgIHZhciByZXNwb25zZVR5cGUgPSByZXF1ZXN0LnJlc3BvbnNlVHlwZTtcclxuICAgICAgICAvLyBcImJ1ZmZlclwiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgYnJvd3NlcnMuIEZvciBub3cgd2Ugc2ltcGx5IHVzZSB0aGUgY29tcGF0aWJsZSBvbmUuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlVHlwZSA9PT0gXCJidWZmZXJcIilcclxuICAgICAgICAgICAgcmVzcG9uc2VUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xyXG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XHJcbiAgICB9XHJcbiAgICBpZiAocmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgIT0gbnVsbCkge1xyXG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSByZXF1ZXN0LndpdGhDcmVkZW50aWFscztcclxuICAgIH1cclxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5hc3NlcnQoeGhyLnJlYWR5U3RhdGUgPT0gNCk7IC8vIERPTkVcclxuICAgICAgICBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24gJiYgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlc29sdmUobmV3IFhoclJlc3BvbnNlKHhocikpO1xyXG4gICAgfTtcclxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbiAmJiBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIHBscnMudHJ5UmVqZWN0KG5ldyBodHRwXzEuSHR0cFJlcXVlc3RFcnJvcihcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHNlbmRpbmcgdGhlIEhUVFAgcmVxdWVzdC5cIikpO1xyXG4gICAgfTtcclxuICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uICYmIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZWplY3QobmV3IGNhbmNlbGxhdGlvbl8xLlByb21pc2VDYW5jZWxsZWRFcnJvcihcIkhUVFAgcmVxdWVzdCB0aW1lb3V0IGhhcyByZWFjaGVkLlwiKSk7XHJcbiAgICB9O1xyXG4gICAgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAocGxycy50cnlDYW5jZWwoKSkge1xyXG4gICAgICAgICAgICB4aHIuYWJvcnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHhoci5zZW5kKHJlcXVlc3QuYm9keSk7XHJcbiAgICByZXR1cm4gcGxycy5wcm9taXNlTGlrZTtcclxufVxyXG5leHBvcnRzLnNlbmRSZXF1ZXN0ID0gc2VuZFJlcXVlc3Q7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBBbiBlcnJvciByYWlzZXMgd2hlbiBhbiBIVFRQIHJlcXVlc3QgZmFpbHMgZHVlIHRvIG5ldHdvcmsgdHJhbnNwb3J0YXRpb25cclxuICogb3Igc2VydmVyIHJlc3BvbnNlLlxyXG4gKi9cclxudmFyIEh0dHBSZXF1ZXN0RXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoSHR0cFJlcXVlc3RFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEh0dHBSZXF1ZXN0RXJyb3IobWVzc2FnZSwgaW5uZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyBcIlRoZSBIVFRQIHJlcXVlc3QgaGFzIGZhaWxlZC5cIiA6IG1lc3NhZ2UpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuaW5uZXIgPSBpbm5lcjtcclxuICAgICAgICBfdGhpcy5uYW1lID0gXCJIdHRwUmVxdWVzdEVycm9yXCI7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBIdHRwUmVxdWVzdEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEh0dHBSZXF1ZXN0RXJyb3I7XHJcbn0oRXJyb3IpKTtcclxuZXhwb3J0cy5IdHRwUmVxdWVzdEVycm9yID0gSHR0cFJlcXVlc3RFcnJvcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogQ29udGFpbnMgZnVuY3Rpb25zIGZvciBhd2FpdGFibGUgSFRUUCByZXF1ZXN0LlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBzZW5kUmVxdWVzdH1cclxuICovXHJcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKiAqL1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9mYWNhZGVzL2NvbW1vbi9odHRwXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vZmFjYWRlcy9odHRwXCIpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogQGRlc2NyaXB0aW9uIFRoZSByb290IG1vZHVsZSBleHBvcnRpbmcgYWxsIHRoZSBzdWItbW9kdWxlIG1lbWJlcnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKiogKi9cclxuX19leHBvcnQocmVxdWlyZShcIi4vY29tbW9uXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vcHJpbWl0aXZlc1wiKSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2h0dHBcIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kZWxheWVkQ2FsbGJhY2tzXCIpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBldmVudEVtaXR0ZXJfMSA9IHJlcXVpcmUoXCIuL2V2ZW50RW1pdHRlclwiKTtcclxudmFyIHByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZV8xID0gcmVxdWlyZShcIi4vcHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXCIpO1xyXG4vKipcclxuICogQW4gZXJyb3IgdGhhdCByYWlzZXMgd2hlbiB0aGUgY3VycmVudCBwcm9taXNlIGhhcyBiZWVuIHJlamVjdGVkIGR1ZSB0byBjYW5jZWxsYXRpb24uXHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIEVTNiBgUHJvbWlzZWAgZG9lcyBub3QgaGF2ZSBjYW5jZWxsYXRpb24gc3VwcG9ydCxcclxuICogc28gVFBMIHVzZXMgYHJlamVjdGAgd2l0aCB7QGxpbmsgUHJvbWlzZUNhbmNlbGxlZEVycm9yfSB0byBpbmRpY2F0ZSBhIGNhbmNlbGxlZCBgUHJvbWlzZWAuXHJcbiAqL1xyXG52YXIgUHJvbWlzZUNhbmNlbGxlZEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFByb21pc2VDYW5jZWxsZWRFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFByb21pc2VDYW5jZWxsZWRFcnJvcihtZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSA9PSBudWxsID8gXCJQcm9taXNlIGV4ZWN1dGlvbiBoYXMgYmVlbiBjYW5jZWxsZWQuXCIgOiBtZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBcIlByb21pc2VDYW5jZWxsZWRFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgUHJvbWlzZUNhbmNlbGxlZEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2VDYW5jZWxsZWRFcnJvcjtcclxufShFcnJvcikpO1xyXG5leHBvcnRzLlByb21pc2VDYW5jZWxsZWRFcnJvciA9IFByb21pc2VDYW5jZWxsZWRFcnJvcjtcclxudmFyIENhbmNlbGxhdGlvblRva2VuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ2FuY2VsbGF0aW9uVG9rZW4oKSB7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLCBcImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fY2FuY2VsbGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLl9faW50X2NhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQucmFpc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQuY2xlYXJMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvblBscnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uUGxycy50cnlSZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NhbmNlbGxlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUHJvbWlzZUNhbmNlbGxlZEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENhbmNlbGxhdGlvblRva2VuLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50ID0gbmV3IGV2ZW50RW1pdHRlcl8xLkV2ZW50RW1pdHRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQuYWRkTGlzdGVuZXIoY2FsbGJhY2ssIHRydWUpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQucmFpc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQuY2xlYXJMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLCBcInByb21pc2VMaWtlXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvblBscnMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBscnMgPSBuZXcgcHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXzEuUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uUGxycy50cnlSZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbGxhdGlvblBscnMucHJvbWlzZUxpa2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQ2FuY2VsbGF0aW9uVG9rZW47XHJcbn0oKSk7XHJcbnZhciBjYW5jZWxsZWRUb2tlbiA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlbigpO1xyXG5jYW5jZWxsZWRUb2tlbi5fX2ludF9jYW5jZWwoKTtcclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYW4gb3duZXIgb2Yge0BsaW5rIElDYW5jZWxsYXRpb25Ub2tlbn0gdGhhdCBjYW4gaW5pdGlhdGVzIHRoZSBjYW5jZWxsYXRpb24uXHJcbiAqL1xyXG52YXIgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBjYW5jZWxBZnRlckRlbGF5IEF1dG9tYXRpY2FsbHkgcmVxdWVzdHMgY2FuY2VsbGF0aW9uIGFmdGVyIHRoZSBzcGVjaWZpZWQgbm9uLW5lZ2F0aXZlIHRpbWUgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZShjYW5jZWxBZnRlckRlbGF5KSB7XHJcbiAgICAgICAgaWYgKGNhbmNlbEFmdGVyRGVsYXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbEFmdGVyKGNhbmNlbEFmdGVyRGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUsIFwiaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWRcIiwge1xyXG4gICAgICAgIC8qKiBXaGV0aGVyIHRoZSBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLiAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gISF0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbiAmJiB0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbi5pc0NhbmNlbGxhdGlvblJlcXVlc3RlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhdGVzIGNhbmNlbGxhdGlvbiBpZiBpdCBoYXMgbm90IGJlZW4gcmVxdWVzdGVkIHlldC5cclxuICAgICAqIE5vdGlmaWVzIHRoZSBkZXJpdmVkIGBJQ2FuY2VsbGF0aW9uVG9rZW5gIG9mIHRoZSBjYW5jZWxsYXRpb24uXHJcbiAgICAgKi9cclxuICAgIENhbmNlbGxhdGlvblRva2VuU291cmNlLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuLl9faW50X2NhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4gPSBjYW5jZWxsZWRUb2tlbjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWF0ZXMgY2FuY2VsbGF0aW9uIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXkuXHJcbiAgICAgKiBAcGFyYW0gZGVsYXkgdGhlIG5vbi1uZWdhdGl2ZSB0aW1lIGluIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBpbml0aWF0aW5nIHRoZSBjYW5jZWxsYXRpb24uXHJcbiAgICAgKi9cclxuICAgIENhbmNlbGxhdGlvblRva2VuU291cmNlLnByb3RvdHlwZS5jYW5jZWxBZnRlciA9IGZ1bmN0aW9uIChkZWxheSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGRlbGF5IDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImRlbGF5IChhcmcjMSkgc2hvdWxkIGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZWxheSA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IF90aGlzLmNhbmNlbCgpOyB9LCBkZWxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUsIFwidG9rZW5cIiwge1xyXG4gICAgICAgIC8qKiBHZXRzIHRoZSBkZXJpdmVkIGBJQ2FuY2VsbGF0aW9uVG9rZW5gIGZyb20gdGhpcyB0b2tlbiBzb3VyY2UuICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuID0gbmV3IENhbmNlbGxhdGlvblRva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGEgYENhbmNlbGxhdGlvblRva2VuU291cmNlYCB0aGF0IGdldHMgY2FuY2VsbGVkIHdoZW4gYW55IG9mIHRoZSBzcGVjaWZpZWQgYElDYW5jZWxsYXRpb25Ub2tlbmAgZ2V0cyBjYW5jZWxsZWQuXHJcbiAgICAgKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW5zIE9uZSBvciBtb3JlIHVuZGVybHlpbmcgYElDYW5jZWxsYXRpb25Ub2tlbmAuXHJcbiAgICAgKi9cclxuICAgIENhbmNlbGxhdGlvblRva2VuU291cmNlLnJhY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNhbmNlbGxhdGlvblRva2VucyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbGxhdGlvblRva2Vuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3RzID0gbmV3IENhbmNlbGxhdGlvblRva2VuU291cmNlKCk7XHJcbiAgICAgICAgdmFyIGNhbmNlbGxhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBjdHMuY2FuY2VsKCk7IH07XHJcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBjYW5jZWxsYXRpb25Ub2tlbnNfMSA9IGNhbmNlbGxhdGlvblRva2VuczsgX2EgPCBjYW5jZWxsYXRpb25Ub2tlbnNfMS5sZW5ndGg7IF9hKyspIHtcclxuICAgICAgICAgICAgdmFyIHRva2VuID0gY2FuY2VsbGF0aW9uVG9rZW5zXzFbX2FdO1xyXG4gICAgICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIHRva2VuLnN1YnNjcmliZShjYW5jZWxsYXRpb25DYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN0cztcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2U7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UgPSBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuY2VsbGF0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBDb21iaW5lcyB7QGxpbmsgSURpc3Bvc2FibGV9IGluc3RhbmNlcy5cclxuICogQHBhcmFtIGRpc3Bvc2FibGVzIDAsIDEsIG9yIG1vcmUgaW5zdGFuY2VzIHRvIGJlIGNvbWJpbmVkLlxyXG4gKiBAcmV0dXJucyBhbiB7QGxpbmsgSURpc3Bvc2FibGV9IHRoYXQgZGlzcG9zZXMgdGhlIGdpdmVuIGluc3RhbmNlcyB3aGVuIHtAbGluayBJRGlzcG9zYWJsZS5kaXNwb3NlfSBpcyBjYWxsZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBjb21iaW5lRGlzcG9zYWJsZSgpIHtcclxuICAgIHZhciBkaXNwb3NhYmxlcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBkaXNwb3NhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRpc3Bvc2FibGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGlzcG9zZSgpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydHMuY29tYmluZURpc3Bvc2FibGUgPSBjb21iaW5lRGlzcG9zYWJsZTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcG9zYWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFJhd1ZhbHVlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmF3VmFsdWVFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJhd1ZhbHVlRXJyb3IocmF3VmFsdWUsIGlubmVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5yYXdWYWx1ZSA9IHJhd1ZhbHVlO1xyXG4gICAgICAgIF90aGlzLmlubmVyID0gaW5uZXI7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiUmF3VmFsdWVFcnJvclwiO1xyXG4gICAgICAgIF90aGlzLmdldEJhc2VFcnJvciA9IGdldEJhc2VFcnJvcjtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIFJhd1ZhbHVlRXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBSYXdWYWx1ZUVycm9yO1xyXG59KEVycm9yKSk7XHJcbmZ1bmN0aW9uIGdldEJhc2VFcnJvcigpIHtcclxuICAgIHZhciBjdXJyZW50ID0gdGhpcztcclxuICAgIHdoaWxlIChjdXJyZW50LmlubmVyICE9IG51bGwpIHtcclxuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5pbm5lcjtcclxuICAgIH1cclxuICAgIHJldHVybiBjdXJyZW50O1xyXG59XHJcbmZ1bmN0aW9uIHNldElubmVyRXJyb3IoZXJyb3IsIGlubmVyKSB7XHJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJpbm5lclwiLCB7IHZhbHVlOiBpbm5lciwgd3JpdGFibGU6IGZhbHNlIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJnZXRCYXNlRXJyb3JcIiwgeyB2YWx1ZTogZ2V0QmFzZUVycm9yLCB3cml0YWJsZTogZmFsc2UgfSk7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSYXdWYWx1ZUVycm9yKGVycm9yLCBpbm5lcik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5zZXRJbm5lckVycm9yID0gc2V0SW5uZXJFcnJvcjtcclxudmFyIEFnZ3JlZ2F0ZUVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFnZ3JlZ2F0ZUVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQWdncmVnYXRlRXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBlcnJvcnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBlcnJvcnNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiUmF3VmFsdWVFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgQWdncmVnYXRlRXJyb3IpO1xyXG4gICAgICAgIF90aGlzLmlubmVyRXJyb3JzID0gZXJyb3JzLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZSAhPSBudWxsOyB9KTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc0FyZykge1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcyk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuaW5uZXJFcnJvcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGUpO1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEFnZ3JlZ2F0ZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBlLmZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBZ2dyZWdhdGVFcnJvcjtcclxufShFcnJvcikpO1xyXG5leHBvcnRzLkFnZ3JlZ2F0ZUVycm9yID0gQWdncmVnYXRlRXJyb3I7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHNpbXBsZSBwdWItc3ViIGV2ZW50LlxyXG4gKiBAdHlwZWRlZiBUIHR5cGUgb2YgdGhlIGV2ZW50IHBheWxvYWQuXHJcbiAqL1xyXG52YXIgRXZlbnRFbWl0dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xyXG4gICAgfVxyXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgaXNBc3luYywgdGhpc0FyZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSB7IHByZXY6IHRoaXMudGFpbCwgY2FsbGJhY2s6IGxpc3RlbmVyLmJpbmQodGhpc0FyZyksIGlzQXN5bmM6IGlzQXN5bmMgfTtcclxuICAgICAgICBpZiAoIXRoaXMuaGVhZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydCghdGhpcy50YWlsKTtcclxuICAgICAgICAgICAgdGhpcy5oZWFkID0gaXRlbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudGFpbCkge1xyXG4gICAgICAgICAgICB0aGlzLnRhaWwubmV4dCA9IGl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGFpbCA9IGl0ZW07XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5wcmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KGl0ZW0ucHJldi5uZXh0ID09PSBpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5wcmV2Lm5leHQgPSBpdGVtLm5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChfdGhpcy5oZWFkID09PSBpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGVhZCA9IGl0ZW0ubmV4dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChpdGVtLm5leHQucHJldiA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubmV4dC5wcmV2ID0gaXRlbS5wcmV2O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoX3RoaXMudGFpbCA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRhaWwgPSBpdGVtLnByZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmFpc2VzIHRoZSBldmVudCwgY2FsbGluZyBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycyBhZGRlZCB0byB0aGlzIGV2ZW50IGluc3RhbmNlLlxyXG4gICAgICogQHBhcmFtIGFyZyB0aGUgZXZlbnQgcGF5bG9hZC5cclxuICAgICAqL1xyXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYWlzZSA9IGZ1bmN0aW9uIChhcmcpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuaGVhZDtcclxuICAgICAgICB2YXIgaGFuZGxlcnMgPSBbXTtcclxuICAgICAgICB2YXIgcmVzb2x2ZWRQcm9taXNlO1xyXG4gICAgICAgIC8vIFBhc3MgMTogZnJlZXplIGV2ZW50IGhhbmRsZXJzIHRvIGJlIGNhbGxlZC5cclxuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xyXG4gICAgICAgICAgICBoYW5kbGVycy5wdXNoKFtjdXJyZW50LmNhbGxiYWNrLCAhIWN1cnJlbnQuaXNBc3luY10pO1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQYXNzIDI6IGNhbGwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBoYW5kbGVyc18xID0gaGFuZGxlcnM7IF9pIDwgaGFuZGxlcnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gaGFuZGxlcnNfMVtfaV0sIGhhbmRsZXIgPSBfYVswXSwgaXNBc3luYyA9IF9hWzFdO1xyXG4gICAgICAgICAgICBpZiAoaXNBc3luYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlZFByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoYXJnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvbWlzZS50aGVuKGhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcihhcmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICovXHJcbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmNsZWFyTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IHVuZGVmaW5lZDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRFbWl0dGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jYW5jZWxsYXRpb25cIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kaXNwb3NhYmxlXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vZXJyb3JzXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vZXZlbnRFbWl0dGVyXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VcIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2VcIikpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogUHJvdmlkZXMgYFByb21pc2VMaWtlYCB0aGF0IGNhbiBiZSByZXNvbHZlZCBmcm9tIG91dHNpZGUuXHJcbiAqIEBzZWUge0BsaW5rIElDb25maWd1cmFibGVQcm9taXNlTGlrZX1cclxuICogQHNlZSB7QGxpbmsgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2V9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKiAqL1xyXG52YXIgY2FuY2VsbGF0aW9uXzEgPSByZXF1aXJlKFwiLi9jYW5jZWxsYXRpb25cIik7XHJcbnZhciBwcm9taXNlUmVzb2x1dGlvblNvdXJjZV8xID0gcmVxdWlyZShcIi4vcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VcIik7XHJcbi8qKlxyXG4gKiBSZXNvbHZlcyBvciByZWplY3RzIGEgYFByb21pc2VMaWtlYCBmcm9tIG91dHNpZGUgb2YgaXQuXHJcbiAqXHJcbiAqIFRoaXMgY2xhc3MgaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSB7QGxpbmsgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2V9XHJcbiAqIGluIHRoZSB3YXkgdGhhdCBpdCBlbnN1cmVzIHdoZW4ge0BsaW5rIHRyeVJlc29sdmV9LCB7QGxpbmsgdHJ5Q2FuY2VsfSwgb3Ige0BsaW5rIHRyeVJlamVjdH1cclxuICogaXMgY2FsbGVkLCB0aGUgY29udGludWF0aW9uIGNhbGxiYWNrcyBhc3NvY2lhdGVkIHdpdGggYFByb21pc2VMaWtlYCBhcmUgZXhlY3V0ZWQgKnN5bmNocm9ub3VzbHkqLlxyXG4gKiBIb3dldmVyLCBkb3duc3RyZWFtIGNvbnN1bWVycyBhcmUgc3RpbGwgYWJsZSB0byBsZXQgdGhlaXIgY29udGludWF0aW9uIGNhbGxiYWNrcyBleGVjdXRlIGFzeW5jaHJvbm91c2x5LlxyXG4gKiBTZWUge0BsaW5rIElDb25maWd1cmFibGVQcm9taXNlTGlrZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAqXHJcbiAqIFRoaXMgY2xhc3MgaXMgc2ltaWxhciB0byBgRGVmZXJyZWRgIGJ1dCBpdCBleHBsaWNpdGx5IHNlcGFyYXRlc1xyXG4gKiB0aGUgcHJvbWlzZSBhbmQgaXRzIGNvbnRyb2wgc2lkZSBpbnRvIHR3byBkaWZmZXJlbnQgb2JqZWN0cy5cclxuICpcclxuICogQHR5cGVwYXJhbSBUIHR5cGUgb2YgdGhlIHByb21pc2UgcmVzb2x1dGlvbiByZXN1bHQuXHJcbiAqL1xyXG52YXIgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCkge1xyXG4gICAgfVxyXG4gICAgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS5fZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3Byb21pc2VMaWtlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb21pc2VMaWtlID0gbmV3IFN5bmNocm9ub3VzUHJvbWlzZUxpa2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUsIFwicHJvbWlzZUxpa2VcIiwge1xyXG4gICAgICAgIC8qKiBHZXRzIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgY29udHJvbGxlZCBieSB0aGUgY3VycmVudCBpbnN0YW5jZS4gKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZUxpa2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFN5bmNocm9ub3VzbHkgcmVzb2x2ZXMgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCB3aXRoIHRoZSBzcGVjaWZpZWQgcmVzdWx0LlxyXG4gICAgICogQHBhcmFtIHJlc3VsdCB0aGUgcmVzb2x1dGlvbiByZXN1bHQsIG9yIGEgYFByb21pc2VMaWtlYCB0aGF0IGNhbiBiZSBmdXJ0aGVyICpyZXNvbHZlZCouXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCBoYXMganVzdCBiZWVuICpyZXNvbHZlZCo7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlTGlrZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlc29sdmUgPSBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9wcm9taXNlTGlrZS4kX19pbnRfX3NldHRsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9wcm9taXNlTGlrZS4kX19pbnRfX2Z1bGZpbGwocmVzdWx0KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN5bmNocm9ub3VzbHkgY2FuY2VscyB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgLlxyXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgaGFzIGp1c3QgYmVlbiAqcmVqZWN0ZWQqIHdpdGggYFByb21pc2VDYW5jZWxsZWRFcnJvcmA7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlTGlrZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeUNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlTGlrZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fc2V0dGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fcmVqZWN0KG5ldyBjYW5jZWxsYXRpb25fMS5Qcm9taXNlQ2FuY2VsbGVkRXJyb3IoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTeW5jaHJvbm91c2x5IHJlamVjdHMgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCB3aXRoIHRoZSBzcGVjaWZpZWQgcmFzb24uXHJcbiAgICAgKiBAcGFyYW0gcmVhc29uIHRoZSByZWplY3Rpb24gcmVhc29uLCBvciB0aGUgYEVycm9yYCBjYXVzaW5nIHRoZSByZWplY3Rpb24uXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCBoYXMganVzdCBiZWVuICpyZWplY3RlZCo7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlTGlrZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlTGlrZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fc2V0dGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fcmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZTtcclxufSgpKTtcclxuZXhwb3J0cy5Qcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UgPSBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2U7XHJcbnZhciBTeW5jaHJvbm91c1Byb21pc2VMaWtlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU3luY2hyb25vdXNQcm9taXNlTGlrZShfb25mdWxmaWxsZWQsIF9vbnJlamVjdGVkKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9vbmZ1bGZpbGxlZCA9IF9vbmZ1bGZpbGxlZDtcclxuICAgICAgICB0aGlzLl9vbnJlamVjdGVkID0gX29ucmVqZWN0ZWQ7XHJcbiAgICAgICAgdGhpcy5mdWxmaWxsTmV4dCA9IGZ1bmN0aW9uIChuZXh0UmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UmVzdWx0ICYmIHR5cGVvZiBuZXh0UmVzdWx0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBuZXh0UmVzdWx0LnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgbmV4dFJlc3VsdC50aGVuKF90aGlzLmZ1bGZpbGxOZXh0LCBfdGhpcy5yZWplY3ROZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hc255Y1Bycykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFzbnljUHJzLnRyeVJlc29sdmUobmV4dFJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfdGhpcy5uZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5uZXh0OyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaS4kX19pbnRfX2Z1bGZpbGwobmV4dFJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIF90aGlzLm5leHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU2V0dGxlZCBQcm9taXNlTGlrZSBzaG91bGQgbm90IGJlIHJlc29sdmVkIGZ1cnRoZXJtb3JlLlwiLCBfdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMubmV4dCA9IFwicmVzb2x2ZWRcIjtcclxuICAgICAgICAgICAgX3RoaXMucmVzdWx0ID0gbmV4dFJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucmVqZWN0TmV4dCA9IGZ1bmN0aW9uIChuZXh0UmVhc29uKSB7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UmVhc29uICYmIHR5cGVvZiBuZXh0UmVhc29uID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBuZXh0UmVhc29uLnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgbmV4dFJlYXNvbi50aGVuKF90aGlzLmZ1bGZpbGxOZXh0LCBfdGhpcy5yZWplY3ROZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hc255Y1Bycykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFzbnljUHJzLnRyeVJlamVjdChuZXh0UmVhc29uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF90aGlzLm5leHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLm5leHQ7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpLiRfX2ludF9fcmVqZWN0KG5leHRSZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBfdGhpcy5uZXh0ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNldHRsZWQgUHJvbWlzTGlrZSBzaG91bGQgbm90IGJlIHJlamVjdGVkIGZ1cnRoZXJtb3JlLlwiLCBfdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMubmV4dCA9IFwicmVqZWN0ZWRcIjtcclxuICAgICAgICAgICAgX3RoaXMucmVzdWx0ID0gbmV4dFJlYXNvbjtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLCBcIiRfX2ludF9fc2V0dGxlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5uZXh0ID09PSBcInN0cmluZ1wiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLy8gTm90ZTogVE5leHQgfCBQcm9taXNlTGlrZTxUTmV4dD4gaXMgb25seSB1c2VkIHdoZW4gVFByZXYgPT0gVE5leHRcclxuICAgIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLiRfX2ludF9fZnVsZmlsbCA9IGZ1bmN0aW9uIChwcmV2UmVzdWx0KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm5leHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNldHRsZWQgUHJvbWlzZUxpa2Ugc2hvdWxkIG5vdCBiZSByZXNvbHZlZCBmdXJ0aGVybW9yZS5cIiwgdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25mdWxmaWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZ1bGZpbGwgY3VycmVudCBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX29uZnVsZmlsbGVkKHByZXZSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgLy8gbm90aWZ5IG5leHQgUHJvbWlzZUxpa2UocylcclxuICAgICAgICAgICAgICAgIHRoaXMuZnVsZmlsbE5leHQocmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnVsZmlsbE5leHQocHJldlJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIHJhaXNlZCB3aGlsZSBleGVjdXRpbmcgb25mdWxmaWxsZWQgY2FsbGJhY2suXHJcbiAgICAgICAgICAgIC8vIE5leHQgUHJvbWlzZUxpa2VzIHNob3VsZCBiZSByZWplY3RlZC5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX29ucmVqZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0TmV4dChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU3luY2hyb25vdXNQcm9taXNlTGlrZS5wcm90b3R5cGUuJF9faW50X19yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm5leHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNldHRsZWQgUHJvbWlzZUxpa2Ugc2hvdWxkIG5vdCBiZSByZXNvbHZlZCBmdXJ0aGVybW9yZS5cIiwgdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25yZWplY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX29ucmVqZWN0ZWQocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnVsZmlsbE5leHQocmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0TmV4dChyZWFzb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBFcnJvciByYWlzZWQgd2hpbGUgZXhlY3V0aW5nIG9ucmVqZWN0ZWQgY2FsbGJhY2suXHJcbiAgICAgICAgICAgIC8vIE5leHQgUHJvbWlzZUxpa2VzIHNob3VsZCBiZSByZWplY3RlZC5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX29ucmVqZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0TmV4dChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5jYXVnaHQgU3luY2hyb25vdXNQcm9taXNlTGlrZSByZWplY3Rpb246ICVvXCIsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTeW5jaHJvbm91c1Byb21pc2VMaWtlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XHJcbiAgICAgICAgdmFyIG5leHQgPSBuZXcgU3luY2hyb25vdXNQcm9taXNlTGlrZShvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLm5leHQpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0ID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMubmV4dCkpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0LnB1c2gobmV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMubmV4dCA9PT0gXCJyZXNvbHZlZFwiKSB7XHJcbiAgICAgICAgICAgIG5leHQuJF9faW50X19mdWxmaWxsKHRoaXMucmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5uZXh0ID09PSBcInJlamVjdGVkXCIpIHtcclxuICAgICAgICAgICAgbmV4dC4kX19pbnRfX3JlamVjdCh0aGlzLnJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBzdGF0ZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfTtcclxuICAgIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLmZvcmNlQXN5bmMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXNueWNQcnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXNueWNQcnMucHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubmV4dCA9PT0gXCJyZXNvbHZlZFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5yZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLm5leHQgPT09IFwicmVqZWN0ZWRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodGhpcy5yZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoIXRoaXMubmV4dCB8fCBBcnJheS5pc0FycmF5KHRoaXMubmV4dCkpO1xyXG4gICAgICAgICAgICB0aGlzLmFzbnljUHJzID0gbmV3IHByb21pc2VSZXNvbHV0aW9uU291cmNlXzEuUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXNueWNQcnMucHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN5bmNocm9ub3VzUHJvbWlzZUxpa2U7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogUHJvdmlkZXMgYFByb21pc2VgIHRoYXQgY2FuIGJlIHJlc29sdmVkIGZyb20gb3V0c2lkZS5cclxuICogQHNlZSB7QGxpbmsgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2V9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKiAqL1xyXG52YXIgY2FuY2VsbGF0aW9uXzEgPSByZXF1aXJlKFwiLi9jYW5jZWxsYXRpb25cIik7XHJcbi8qKlxyXG4gKiBSZXNvbHZlcyBvciByZWplY3RzIGEgYFByb21pc2VgIGZyb20gb3V0c2lkZSBvZiBpdC5cclxuICpcclxuICogVGhpcyBjbGFzcyBpcyBzaW1pbGFyIHRvIGBEZWZlcnJlZGAgYnV0IGl0IGV4cGxpY2l0bHkgc2VwYXJhdGVzXHJcbiAqIHRoZSBwcm9taXNlIGFuZCBpdHMgY29udHJvbCBzaWRlIGludG8gdHdvIGRpZmZlcmVudCBvYmplY3RzLlxyXG4gKlxyXG4gKiBAdHlwZXBhcmFtIFQgdHlwZSBvZiB0aGUgcHJvbWlzZSByZXNvbHV0aW9uIHJlc3VsdC5cclxuICogQHNlZSB7QGxpbmsgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlfVxyXG4gKi9cclxudmFyIFByb21pc2VSZXNvbHV0aW9uU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UoKSB7XHJcbiAgICB9XHJcbiAgICBQcm9taXNlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUuX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLl9wcm9taXNlID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSByZXM7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVqZWN0ID0gcmVqO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb21pc2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZSwgXCJwcm9taXNlXCIsIHtcclxuICAgICAgICAvKiogR2V0cyB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgY29udHJvbGxlZCBieSB0aGUgY3VycmVudCBpbnN0YW5jZS4gKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNvbHZlcyB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgd2l0aCB0aGUgc3BlY2lmaWVkIHJlc3VsdC5cclxuICAgICAqIEBwYXJhbSByZXN1bHQgdGhlIHJlc29sdXRpb24gcmVzdWx0LCBvciBhIGBQcm9taXNlTGlrZWAgdGhhdCBjYW4gYmUgZnVydGhlcmx5ICpyZXNvbHZlZCouXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VgIGhhcyBqdXN0IGJlZW4gKnJlc29sdmVkKjtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VgIGhhcyBhbHJlYWR5IGJlZW4gKnNldHRsZWQqIGJlZm9yZS5cclxuICAgICAqL1xyXG4gICAgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlc29sdmUgPSBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Jlc29sdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gdGhpcy5fcmVqZWN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FuY2VscyB0aGUgZGVyaXZlZCBgUHJvbWlzZWAuXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VgIGhhcyBqdXN0IGJlZW4gKnJlamVjdGVkKiB3aXRoIGBQcm9taXNlQ2FuY2VsbGVkRXJyb3JgO1xyXG4gICAgICogb3RoZXJ3aXNlIGl0IG1lYW5zIHRoZSBgUHJvbWlzZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5Q2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9yZWplY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVqZWN0KG5ldyBjYW5jZWxsYXRpb25fMS5Qcm9taXNlQ2FuY2VsbGVkRXJyb3IoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSB0aGlzLl9yZWplY3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWplY3RzIHRoZSBkZXJpdmVkIGBQcm9taXNlYCB3aXRoIHRoZSBzcGVjaWZpZWQgcmFzb24uXHJcbiAgICAgKiBAcGFyYW0gcmVhc29uIHRoZSByZWplY3Rpb24gcmVhc29uLCBvciB0aGUgYEVycm9yYCBjYXVzaW5nIHRoZSByZWplY3Rpb24uXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VgIGhhcyBqdXN0IGJlZW4gKnJlamVjdGVkKjtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VgIGhhcyBhbHJlYWR5IGJlZW4gKnNldHRsZWQqIGJlZm9yZS5cclxuICAgICAqL1xyXG4gICAgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gdGhpcy5fcmVqZWN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm9taXNlUmVzb2x1dGlvblNvdXJjZTtcclxufSgpKTtcclxuZXhwb3J0cy5Qcm9taXNlUmVzb2x1dGlvblNvdXJjZSA9IFByb21pc2VSZXNvbHV0aW9uU291cmNlO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlUmVzb2x1dGlvblNvdXJjZS5qcy5tYXAiLCJpbXBvcnQge1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UsIGRlbGF5LCBJQ2FuY2VsbGF0aW9uVG9rZW4sIElSZXF1ZXN0UGFyYW1zLFxyXG4gICAgUHJvbWlzZUNhbmNlbGxlZEVycm9yLCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYywgcmVxdWVzdElkbGVDYWxsYmFja0FzeW5jLFxyXG4gICAgc2VuZFJlcXVlc3QsIHlpZWxkZWRcclxufSBmcm9tIFwidGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5XCI7XHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kdXBsaWNhdGUtaW1wb3J0c1xyXG5pbXBvcnQgKiBhcyB0cGxBbWJpZW50IGZyb20gXCJ0YXNrbGlrZS1wcm9taXNlLWxpYnJhcnlcIjtcclxuXHJcbmZ1bmN0aW9uICQ8VCBleHRlbmRzIEhUTUxFbGVtZW50PihzZWxlY3Rvcjogc3RyaW5nLCBzY29wZT86IEhUTUxFbGVtZW50KTogVCB8IG51bGwge1xyXG4gICAgaWYgKHNjb3BlKSB7XHJcbiAgICAgICAgcmV0dXJuIHNjb3BlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIGFzIFQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgVDtcclxufVxyXG5cclxuZnVuY3Rpb24gb25Mb2FkKCkge1xyXG4gICAgJChcIiN0cGwteWllbGRlZC1ydW5cIikhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBydW5EZW1vKGRlbW9ZaWVsZCwgXCIjdHBsLXlpZWxkZWQtcGFuZWxcIikpO1xyXG4gICAgJChcIiN0cGwtZGVsYXktcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vRGVsYXksIFwiI3RwbC1kZWxheS1wYW5lbFwiLCBcIiN0cGwtZGVsYXktY2FuY2VsXCIpKTtcclxuICAgICQoXCIjdHBsLXNlbmRyZXF1ZXN0LXJ1blwiKSEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHJ1bkRlbW8oZGVtb0h0dHAsIFwiI3RwbC1zZW5kcmVxdWVzdC1wYW5lbFwiLCBcIiN0cGwtc2VuZHJlcXVlc3QtY2FuY2VsXCIpKTtcclxuICAgICQoXCIjdHBsLXJlcXVlc3RpY2ItcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vUmVxdWVzdElkbGVDYWxsYmFja0FzeW5jLCBcIiN0cGwtcmVxdWVzdGljYi1wYW5lbFwiLCBcIiN0cGwtcmVxdWVzdGljYi1jYW5jZWxcIikpO1xyXG4gICAgJChcIiN0cGwtcmVxdWVzdGFmLXJ1blwiKSEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHJ1bkRlbW8oZGVtb1JlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jLCBcIiN0cGwtcmVxdWVzdGFmLXBhbmVsXCIsIFwiI3RwbC1yZXF1ZXN0YWYtY2FuY2VsXCIpKTtcclxuICAgIC8vIEV4cG9zZSBUUEwgbGlicmFyeSB0byB0aGUgZGVidWdnZXIgY29uc29sZS5cclxuICAgICh3aW5kb3cgYXMgdW5rbm93biBhcyB7IFRQTDogdHlwZW9mIHRwbEFtYmllbnQgfSkuVFBMID0gdHBsQW1iaWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYnVpbGRFcnJvclBhbmVsKGVycm9yOiB1bmtub3duKSB7XHJcbiAgICBjb25zdCBlcnJCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgZXJyQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcclxuICAgIGVyckJveC5pbm5lclRleHQgPSBlcnJvciAmJiAoZXJyb3IgYXMgeyBzdGFjaz86IHN0cmluZyB9KS5zdGFjayB8fCBTdHJpbmcoZXJyb3IpO1xyXG4gICAgcmV0dXJuIGVyckJveDtcclxufVxyXG5cclxuZnVuY3Rpb24gYXBwZW5kTGluZShjb250YWluZXI6IEhUTUxFbGVtZW50LCBjb250ZW50OiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGxpbmUuaW5uZXJUZXh0ID0gY29udGVudDtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChsaW5lKTtcclxuICAgIHJldHVybiBsaW5lO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBydW5EZW1vKFxyXG4gICAgZGVtb0Z1bmM6IChwYW5lbDogSFRNTEVsZW1lbnQsIGNhbmNlbGxhdGlvblRva2VuPzogSUNhbmNlbGxhdGlvblRva2VuKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcclxuICAgIHBhbmVsU2VsZWN0b3I6IHN0cmluZyxcclxuICAgIGNhbmNlbGxhdGlvbkJ1dHRvblNlbGVjdG9yPzogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBjdHMgPSBuZXcgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UoKTtcclxuICAgIGNvbnN0IG9uQ2FuY2VsID0gKCkgPT4geyBjdHMuY2FuY2VsKCk7IH07XHJcbiAgICBjb25zdCBwYW5lbCA9ICQocGFuZWxTZWxlY3RvcikhO1xyXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gY2FuY2VsbGF0aW9uQnV0dG9uU2VsZWN0b3IgPyAkPEhUTUxCdXR0b25FbGVtZW50PihjYW5jZWxsYXRpb25CdXR0b25TZWxlY3RvcikgOiBudWxsO1xyXG4gICAgaWYgKGNhbmNlbEJ1dHRvbikge1xyXG4gICAgICAgIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25DYW5jZWwpO1xyXG4gICAgICAgIGNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcGFuZWwuaW5uZXJUZXh0ID0gXCJcIjtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVtb0Z1bmMocGFuZWwsIGNhbmNlbEJ1dHRvbiA/IGN0cy50b2tlbiA6IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBhd2FpdCByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQoYnVpbGRFcnJvclBhbmVsKGVycm9yKSk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIGlmIChjYW5jZWxCdXR0b24pIHtcclxuICAgICAgICAgICAgY2FuY2VsQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNhbmNlbCk7XHJcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZW1vWWllbGQocGFuZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBhc3luYyBmdW5jdGlvbiBteUFzeW5jRnVuY3Rpb24oKSB7XHJcbiAgICAgICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZWU6IERvIHNvbWUgd29yayBzeW5jaHJvbm91c2x5IGluIG15QXN5bmNGdW5jdGlvbuKAplwiKTtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogbXlBc3luY0Z1bmN0aW9uIGlzIHRvIHlpZWxk4oCmXCIpO1xyXG4gICAgICAgIGF3YWl0IHlpZWxkZWQoKTtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogYmFjayBmcm9tIHlpZWxkZWQgc3RhdGXigKZcIik7XHJcbiAgICAgICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZWU6IGV4aXRpbmcuXCIpO1xyXG4gICAgfVxyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZXI6IENhbGwgbXlBc3luY0Z1bmN0aW9uLlwiKTtcclxuICAgIG15QXN5bmNGdW5jdGlvbigpO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZXI6IFdlIGRlY2lkZSBkb24ndCBhd2FpdCBmb3IgbXlBc3luY0Z1bmN0aW9uLlwiKTtcclxuICAgIGFwcGVuZExpbmUocGFuZWwsIFwiQ2FsbGVyOiBleGl0aW5nLlwiKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGVtb0RlbGF5KHBhbmVsOiBIVE1MRWxlbWVudCwgY3Q/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGxldCBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgMG1zIChTZXRUaW1lb3V0KDApICsgeWllbGRlZCkuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIkRlbGF5IDUwMG1zLlwiKTtcclxuICAgIGF3YWl0IGRlbGF5KDUwMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIkRlbGF5IDFzLlwiKTtcclxuICAgIGF3YWl0IGRlbGF5KDEwMDAsIGN0KTtcclxuICAgIGxhc3RMaW5lLmlubmVyVGV4dCArPSBcIiBGaW5pc2hlZC5cIjtcclxuICAgIGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgXCJEZWxheSAycy5cIik7XHJcbiAgICBhd2FpdCBkZWxheSgyMDAwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgM3MuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoMzAwMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCItLS0tLS0tLS0tXCIpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZW1vSHR0cChwYW5lbDogSFRNTEVsZW1lbnQsIGN0PzogSUNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBhc3luYyBmdW5jdGlvbiBzZW5kQW5kUmVwb3J0KHJlcXVlc3Q6IElSZXF1ZXN0UGFyYW1zKSB7XHJcbiAgICAgICAgbGV0IGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgYCR7cmVxdWVzdC5tZXRob2R9IHJlcXVlc3QgdG8gJHtyZXF1ZXN0LnVybH3igKZgKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRSZXF1ZXN0KHJlcXVlc3QsIGN0KTtcclxuICAgICAgICAgICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzQ29kZSArIFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dDtcclxuICAgICAgICAgICAgYXBwZW5kTGluZShwYW5lbCwgXCJDb250ZW50LVR5cGU6IFwiICsgcmVzcG9uc2UuZ2V0SGVhZGVyVmFsdWUoXCJDb250ZW50LVR5cGVcIikpO1xyXG4gICAgICAgICAgICBjb25zdCBib2R5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcclxuICAgICAgICAgICAgYm9keUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaHR0cC1yZXNwb25zZS1ib2R5XCIpO1xyXG4gICAgICAgICAgICBib2R5Q29udGFpbmVyLmlubmVyVGV4dCA9IHJlc3BvbnNlLmJvZHk7XHJcbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKGJvZHlDb250YWluZXIpO1xyXG4gICAgICAgICAgICBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiZW5zdXJlU3VjY2Vzc2Z1bFN0YXR1c0NvZGXigKZcIik7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlLmVuc3VyZVN1Y2Nlc3NmdWxTdGF0dXNDb2RlKCk7XHJcbiAgICAgICAgICAgIGxhc3RMaW5lLmlubmVyVGV4dCArPSBcIiBTdWNjZXNzZnVsLlwiO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFByb21pc2VDYW5jZWxsZWRFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgY3QgaXMgY2FuY2VsbGVkLCB3ZSB3b24ndCBjb250aW51ZSB0aGUgZGVtb1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQoYnVpbGRFcnJvclBhbmVsKGVycm9yKSk7XHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgYXBwZW5kTGluZShwYW5lbCwgXCItLS0tLS0tLS0tXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGF3YWl0IHNlbmRBbmRSZXBvcnQoeyB1cmw6IFwidHNjb25maWcuanNvbj9yYW5kPVwiICsgTWF0aC5yYW5kb20oKSwgbWV0aG9kOiBcIkdFVFwiLCB0aW1lb3V0OiAyMDAwIH0pO1xyXG4gICAgYXdhaXQgc2VuZEFuZFJlcG9ydCh7IHVybDogXCJ0c2NvbmZpZy5qc29uXCIsIG1ldGhvZDogXCJQT1NUXCIgfSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbW9SZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMocGFuZWw6IEhUTUxFbGVtZW50LCBjdD86IElDYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgY3QgJiYgY3QudGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJyZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmNcIik7XHJcbiAgICBjb25zdCBzdGF0dXMgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIlJlcXVlc3RpbmfigKZcIik7XHJcbiAgICBsZXQgY291bnRlciA9IDA7XHJcbiAgICBsZXQgdGltZW91dENvdW50ZXIgPSAwO1xyXG4gICAgbGV0IG1pbklkbGVUaW1lOiB1bmRlZmluZWQgfCBudW1iZXIsIG1heElkbGVUaW1lOiB1bmRlZmluZWQgfCBudW1iZXI7XHJcbiAgICB3aGlsZSAoY3QgJiYgIWN0LmlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGF3YWl0IHJlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYyh7IHRpbWVvdXQ6IDEwMDAgfSwgY3QpO1xyXG4gICAgICAgIC8vIE5vdyB3ZSBhcmUgaW5zaWRlIHJlcXVlc3RJZGxlQ2FsbGJhY2sgY2FsbGJhY2suXHJcbiAgICAgICAgY29uc3QgdGltZVJlbWFpbmluZyA9IGNvbnRleHQuZGVhZGxpbmUudGltZVJlbWFpbmluZygpO1xyXG4gICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICBpZiAoY29udGV4dC5kZWFkbGluZS5kaWRUaW1lb3V0KSB7IHRpbWVvdXRDb3VudGVyKys7IH1cclxuICAgICAgICBtaW5JZGxlVGltZSA9IG1pbklkbGVUaW1lID09IG51bGwgPyB0aW1lUmVtYWluaW5nIDogTWF0aC5taW4odGltZVJlbWFpbmluZywgbWluSWRsZVRpbWUpO1xyXG4gICAgICAgIG1heElkbGVUaW1lID0gbWF4SWRsZVRpbWUgPT0gbnVsbCA/IHRpbWVSZW1haW5pbmcgOiBNYXRoLm1heCh0aW1lUmVtYWluaW5nLCBtYXhJZGxlVGltZSk7XHJcbiAgICAgICAgc3RhdHVzLmlubmVyVGV4dCA9IGBSZXF1ZXN0ZWQ6ICR7Y291bnRlcn0gdGltZXMsIHRpbWVkLW91dHM6ICR7dGltZW91dENvdW50ZXJ9LCBtaW5JZGxlVGltZTogJHttaW5JZGxlVGltZX0sIG1heElkbGVUaW1lOiAke21heElkbGVUaW1lfWA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbW9SZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyhwYW5lbDogSFRNTEVsZW1lbnQsIGN0PzogSUNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjdCAmJiBjdC50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcInJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jXCIpO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gYXBwZW5kTGluZShwYW5lbCwgXCJSZXF1ZXN0aW5n4oCmXCIpO1xyXG4gICAgY29uc3QgY2FudmFzID0gYXBwZW5kTGluZShwYW5lbCwgXCJUaGlzIGlzIDxESVY+LlwiKTtcclxuICAgIGNvbnN0IGJhbGxTaXplID0gMzA7XHJcbiAgICBjb25zdCBiYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgIGJhbGwuaW5uZXJUZXh0ID0gXCJiYWxsXCI7XHJcbiAgICBiYWxsLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiMTVweFwiO1xyXG4gICAgYmFsbC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgIGJhbGwuc3R5bGUud2lkdGggPSBiYWxsLnN0eWxlLmhlaWdodCA9IGJhbGxTaXplICsgXCJweFwiO1xyXG4gICAgY2FudmFzLmNsYXNzTGlzdC5hZGQoXCJjYW52YXNcIik7XHJcbiAgICBjYW52YXMuYXBwZW5kQ2hpbGQoYmFsbCk7XHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIGxldCBwcmV2VGltZSA9IHN0YXJ0VGltZTtcclxuICAgIC8vIFBvc2l0aW9uOiBwaXhlbC5cclxuICAgIGxldCBweCA9IDAsIHB5ID0gMDtcclxuICAgIC8vIFZlbG9jaXR5OiBwaXhlbCAvIHNlYy5cclxuICAgIGxldCB2eCA9IDIwMCwgdnkgPSAyMDA7XHJcbiAgICBsZXQgYXggPSAwLCBheSA9IDIwMDtcclxuICAgIGxldCBmcmFtZUNvdW50ZXIgPSAwO1xyXG4gICAgLy8gV2FpdCBmb3IgbGF5b3V0IHRvIGNvbXBsZXRlLlxyXG4gICAgYXdhaXQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMoY3QpO1xyXG4gICAgY2FudmFzLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAvLyBTdGFydCBhbmltYXRpb24uXHJcbiAgICB3aGlsZSAoIWN0IHx8ICFjdC5pc0NhbmNlbGxhdGlvblJlcXVlc3RlZCkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBhd2FpdCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyhjdCk7XHJcbiAgICAgICAgLy8gTm93IHdlIGFyZSBpbnNpZGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGNhbGxiYWNrLlxyXG4gICAgICAgIGNvbnN0IGZyYW1lRHVyYXRpb24gPSBjb250ZXh0LnRpbWUgLSBwcmV2VGltZTtcclxuICAgICAgICBjb25zdCBjYW52YXNXaWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aCwgY2FudmFzSGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgICAgICBsZXQgeCA9IHB4ICsgdnggKiAoZnJhbWVEdXJhdGlvbiAvIDEwMDApO1xyXG4gICAgICAgIGxldCB5ID0gcHkgKyB2eSAqIChmcmFtZUR1cmF0aW9uIC8gMTAwMCk7XHJcbiAgICAgICAgaWYgKHggPCAwIHx8IHggKyBiYWxsLm9mZnNldFdpZHRoID4gY2FudmFzV2lkdGgpIHtcclxuICAgICAgICAgICAgdnggPSAtdnggKiAoTWF0aC5yYW5kb20oKSAqIDAuMiArIDAuOCk7XHJcbiAgICAgICAgICAgIHB4ID0geCA8IDAgPyAwIDogY2FudmFzV2lkdGggLSBiYWxsLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHB4ID0geDtcclxuICAgICAgICAgICAgYmFsbC5zdHlsZS5sZWZ0ID0geCArIFwicHhcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHkgPCAwIHx8IHkgKyBiYWxsLm9mZnNldEhlaWdodCA+IGNhbnZhc0hlaWdodCkge1xyXG4gICAgICAgICAgICB2eSA9IC12eSAqIChNYXRoLnJhbmRvbSgpICogMC4yICsgMC44KTtcclxuICAgICAgICAgICAgcHkgPSB5IDwgMCA/IDAgOiBjYW52YXNIZWlnaHQgLSBiYWxsLm9mZnNldEhlaWdodDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBweSA9IHk7XHJcbiAgICAgICAgICAgIHZ5ICs9IGF5ICogKGZyYW1lRHVyYXRpb24gLyAxMDAwKTtcclxuICAgICAgICAgICAgYmFsbC5zdHlsZS50b3AgPSB5ICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcmV2VGltZSA9IGNvbnRleHQudGltZTtcclxuICAgICAgICBmcmFtZUNvdW50ZXIrKztcclxuICAgICAgICBpZiAoZnJhbWVDb3VudGVyID4gMzApIHtcclxuICAgICAgICAgICAgc3RhdHVzLmlubmVyVGV4dCA9IGBGcmFtZXM6ICR7ZnJhbWVDb3VudGVyfSwgdGltZTogJHsoKGNvbnRleHQudGltZSAtIHN0YXJ0VGltZSkgLyAxMDAwKS50b0ZpeGVkKDIpfSBzZWMuLCBGUFM6ICR7KGZyYW1lQ291bnRlciAqIDEwMDAgLyAoY29udGV4dC50aW1lIC0gc3RhcnRUaW1lKSkudG9GaXhlZCgyKX0uYDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbm9uTG9hZCgpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9