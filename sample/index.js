!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.ts")}({"../packages/tasklike-promise-library/dist/common.js":
/*!***********************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/common.js ***!
  \***********************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./primitives/cancellation */"../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=r(/*! ./primitives/promiseResolutionSource */"../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js"),s=Promise.resolve();t.delay=function(e,t){if(e<0)throw new RangeError("milliseconds (arg#1) should be a non-negative number.");t&&t.throwIfCancellationRequested();var r=new i.PromiseResolutionSource,s=setTimeout(function(){r.tryResolve()},e);return t&&t.subscribe(function(){clearTimeout(s),r.tryReject(new n.PromiseCancelledError)}),r.promise},t.yielded=function(){return s},t.fromResolved=function(e){return Promise.resolve(e)},t.fromRejected=function(e){return Promise.reject(e)},t.fromCancelled=function(){return Promise.reject(new n.PromiseCancelledError)}},"../packages/tasklike-promise-library/dist/delayedCallbacks.js":
/*!*********************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/delayedCallbacks.js ***!
  \*********************************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./primitives */"../packages/tasklike-promise-library/dist/primitives/index.js");t.setTimeoutAsync=function(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,s=window.setTimeout(function(){r&&r.dispose(),i.tryResolve(s)},e);return t&&(r=t.subscribe(function(){window.clearTimeout(s),i.tryCancel()})),i.promiseLike},t.requestAnimationFrameAsync=function(e){e&&e.throwIfCancellationRequested();var t,r=new n.PromiseLikeResolutionSource,i=window.requestAnimationFrame(function(e){t&&t.dispose(),r.tryResolve({id:i,time:e})});return e&&(t=e.subscribe(function(){window.cancelAnimationFrame(i),r.tryCancel()})),r.promiseLike},t.requestIdleCallbackAsync=function(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,s=window.requestIdleCallback(function(e){r&&r.dispose(),i.tryResolve({id:s,deadline:e})},e);return t&&(r=t.subscribe(function(){window.cancelIdleCallback(s),i.tryCancel()})),i.promiseLike}},"../packages/tasklike-promise-library/dist/http.js":
/*!*********************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/http.js ***!
  \*********************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(/*! ./primitives */"../packages/tasklike-promise-library/dist/primitives/index.js"),o=r(/*! ./primitives/cancellation */"../packages/tasklike-promise-library/dist/primitives/cancellation.js"),a=function(e){function t(r){var n=e.call(this,null==r?"The HTTP request has failed.":r)||this;return n.name="HttpRequestError",Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(Error);t.HttpRequestError=a;var l=function(){function e(e){this.xhr=e,this.statusCode=this.xhr.status,this.statusText=this.xhr.statusText,this.isSuccessfulStatusCode=this.xhr.status>=200&&this.xhr.status<=299,console.assert(e)}return e.prototype.ensureSuccessfulStatusCode=function(){if(!this.isSuccessfulStatusCode)throw new a("The HTTP response code "+this.statusCode+" indicates failure.")},e}();t.sendRequest=function(e,t){t&&t.throwIfCancellationRequested();var r,n=new XMLHttpRequest,i=new s.PromiseLikeResolutionSource;if(null!=e.username||null!=e.password?n.open(e.method,e.url,!0,e.username,e.password):n.open(e.method,e.url),e.timeout&&(n.timeout=e.timeout),e.headers)for(var c in e.headers)Object.prototype.hasOwnProperty.call(e.headers,c)&&n.setRequestHeader(c,e.headers[c]);return null!=e.responseType&&(n.responseType=e.responseType),null!=e.withCredentials&&(n.withCredentials=e.withCredentials),n.onload=function(){console.assert(4==n.readyState),r&&r.dispose(),i.tryResolve(new l(n))},n.onerror=function(){r&&r.dispose(),i.tryReject(new a("An error occurred while sending the HTTP request."))},n.ontimeout=function(){r&&r.dispose(),i.tryReject(new o.PromiseCancelledError("HTTP request timeout has reached."))},r=t&&t.subscribe(function(){i.tryCancel()&&n.abort()}),n.send(e.body),i.promiseLike}},"../packages/tasklike-promise-library/dist/index.js":
/*!**********************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(/*! ./common */"../packages/tasklike-promise-library/dist/common.js")),n(r(/*! ./primitives */"../packages/tasklike-promise-library/dist/primitives/index.js")),n(r(/*! ./http */"../packages/tasklike-promise-library/dist/http.js")),n(r(/*! ./delayedCallbacks */"../packages/tasklike-promise-library/dist/delayedCallbacks.js"))},"../packages/tasklike-promise-library/dist/primitives/cancellation.js":
/*!****************************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/cancellation.js ***!
  \****************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(/*! ./eventEmitter */"../packages/tasklike-promise-library/dist/primitives/eventEmitter.js"),o=r(/*! ./promiseLikeResolutionSource */"../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js"),a=function(e){function t(r){var n=e.call(this,null==r?"Promise execution has been cancelled.":r)||this;return n.name="PromiseCancelledError",Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(Error);t.PromiseCancelledError=a;var l=function(){function e(){}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancelled},enumerable:!0,configurable:!0}),e.prototype.__int_cancel=function(){this._cancellationEvent&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),this._cancellationPlrs&&this._cancellationPlrs.tryResolve(),this._cancelled=!0},e.prototype.throwIfCancellationRequested=function(){if(this._cancelled)throw new a},e.prototype.subscribe=function(e){this._cancellationEvent||(this._cancellationEvent=new s.EventEmitter);var t=this._cancellationEvent.addListener(e,!0);return this._cancelled&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),t},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._cancellationPlrs&&(this._cancellationPlrs=new o.PromiseLikeResolutionSource,this._cancelled&&this._cancellationPlrs.tryResolve()),this._cancellationPlrs.promiseLike},enumerable:!0,configurable:!0}),e}(),c=new l;c.__int_cancel();var u=function(){function e(e){null!=e&&this.cancelAfter(e)}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancellationToken&&this._cancellationToken.isCancellationRequested},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._cancellationToken?this._cancellationToken.__int_cancel():this._cancellationToken=c},e.prototype.cancelAfter=function(e){var t=this;if(e<0)throw new RangeError("delay (arg#1) should be a non-negative number.");0===e?this.cancel():setTimeout(function(){t.cancel()},e)},Object.defineProperty(e.prototype,"token",{get:function(){return this._cancellationToken||(this._cancellationToken=new l),this._cancellationToken},enumerable:!0,configurable:!0}),e.race=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e,i=function(){n.cancel()},s=0,o=t;s<o.length;s++){var a=o[s];a&&a.subscribe(i)}return n},e}();t.CancellationTokenSource=u},"../packages/tasklike-promise-library/dist/primitives/disposable.js":
/*!**************************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/disposable.js ***!
  \**************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineDisposable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{dispose:function(){e.forEach(function(e){return e.dispose()})}}}},"../packages/tasklike-promise-library/dist/primitives/errors.js":
/*!**********************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/errors.js ***!
  \**********************************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(r,n){var i=e.call(this)||this;return i.rawValue=r,i.inner=n,i.name="RawValueError",i.getBaseError=o,Object.setPrototypeOf(i,t),i}return i(t,e),t}(Error);function o(){for(var e=this;null!=e.inner;)e=e.inner;return e}t.setInnerError=function(e,t){return e instanceof Error?(Object.defineProperty(e,"inner",{value:t,writable:!1}),Object.defineProperty(e,"getBaseError",{value:o,writable:!1}),e):new s(e,t)};var a=function(e){function t(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=e.call(this)||this;return s.name="RawValueError",Object.setPrototypeOf(s,t),s.innerErrors=n.filter(function(e){return null!=e}),s}return i(t,e),t.prototype.forEach=function(e,r){e.call(r,this);for(var n=0,i=this.innerErrors;n<i.length;n++){var s=i[n];e.call(r,s),s instanceof t&&s.forEach(e,r)}},t}(Error);t.AggregateError=a},"../packages/tasklike-promise-library/dist/primitives/eventEmitter.js":
/*!****************************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/eventEmitter.js ***!
  \****************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.addListener=function(e,t,r){var n=this,i={prev:this.tail,callback:e.bind(r),isAsync:t};return this.head||(console.assert(!this.tail),this.head=i),this.tail&&(this.tail.next=i),this.tail=i,{dispose:function(){i&&(i.prev?(console.assert(i.prev.next===i),i.prev.next=i.next):(console.assert(n.head===i),n.head=i.next),i.next?(console.assert(i.next.prev===i),i.next.prev=i.prev):(console.assert(n.tail===i),n.tail=i.prev),i=void 0)}}},e.prototype.raise=function(e){for(var t,r=this.head,n=[];r;)n.push([r.callback,!!r.isAsync]),r=r.next;for(var i=0,s=n;i<s.length;i++){var o=s[i],a=o[0];o[1]?(t||(t=Promise.resolve(e)),t.then(a)):a(e)}},e.prototype.clearListeners=function(){this.head=this.tail=void 0},e}();t.EventEmitter=n},"../packages/tasklike-promise-library/dist/primitives/index.js":
/*!*********************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/index.js ***!
  \*********************************************************************/
/*! no static exports found */function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(/*! ./cancellation */"../packages/tasklike-promise-library/dist/primitives/cancellation.js")),n(r(/*! ./disposable */"../packages/tasklike-promise-library/dist/primitives/disposable.js")),n(r(/*! ./errors */"../packages/tasklike-promise-library/dist/primitives/errors.js")),n(r(/*! ./eventEmitter */"../packages/tasklike-promise-library/dist/primitives/eventEmitter.js")),n(r(/*! ./promiseResolutionSource */"../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js")),n(r(/*! ./promiseLikeResolutionSource */"../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js"))},"../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js":
/*!*******************************************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js ***!
  \*******************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./cancellation */"../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=r(/*! ./promiseResolutionSource */"../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js"),s=function(){function e(){}return e.prototype._ensurePromiseLikeInitialized=function(){this._promiseLike||(this._promiseLike=new o)},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._ensurePromiseLikeInitialized(),this._promiseLike},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__fulfill(e),!0)},e.prototype.tryCancel=function(){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(new n.PromiseCancelledError),!0)},e.prototype.tryReject=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(e),!0)},e}();t.PromiseLikeResolutionSource=s;var o=function(){function e(e,t){var r=this;this._onfulfilled=e,this._onrejected=t,this.fulfillNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryResolve(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__fulfill(e)}else if("string"==typeof r.next)return void console.error("Settled PromiseLike should not be resolved furthermore.",r.next);r.next="resolved",r.result=e},this.rejectNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryReject(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__reject(e)}else if("string"==typeof r.next)return void console.error("Settled PromisLike should not be rejected furthermore.",r.next);r.next="rejected",r.result=e}}return Object.defineProperty(e.prototype,"$__int__settled",{get:function(){return"string"==typeof this.next},enumerable:!0,configurable:!0}),e.prototype.$__int__fulfill=function(e){if("string"!=typeof this.next)try{if(this._onfulfilled){var t=this._onfulfilled(e);this.fulfillNext(t)}else this.fulfillNext(e)}catch(e){this._onrejected&&this.rejectNext(e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.$__int__reject=function(e){if("string"!=typeof this.next)try{if(this._onrejected){var t=this._onrejected(e);this.fulfillNext(t)}else this.rejectNext(e)}catch(e){this._onrejected?this.rejectNext(e):console.error("Uncaught SynchronousPromiseLike rejection: %o",e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.then=function(t,r){var n=new e(t,r);return this.next||(this.next=[]),Array.isArray(this.next)?this.next.push(n):"resolved"===this.next?n.$__int__fulfill(this.result):"rejected"===this.next?n.$__int__reject(this.result):console.error("Invalid state."),n},e.prototype.forceAsync=function(){return this.asnycPrs?this.asnycPrs.promise:"resolved"===this.next?Promise.resolve(this.result):"rejected"===this.next?Promise.reject(this.result):(console.assert(!this.next||Array.isArray(this.next)),this.asnycPrs=new i.PromiseResolutionSource,this.asnycPrs.promise)},e}()},"../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js":
/*!***************************************************************************************!*\
  !*** ../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js ***!
  \***************************************************************************************/
/*! no static exports found */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./cancellation */"../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=function(){function e(){}return e.prototype._ensurePromiseInitialized=function(){var e=this;null==this._promise&&(this._promise=new Promise(function(t,r){e._resolve=t,e._reject=r}))},Object.defineProperty(e.prototype,"promise",{get:function(){return this._ensurePromiseInitialized(),this._promise},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseInitialized(),!!this._resolve&&(this._resolve(e),this._resolve=this._reject=void 0,!0)},e.prototype.tryCancel=function(){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(new n.PromiseCancelledError),this._resolve=this._reject=void 0,!0)},e.prototype.tryReject=function(e){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(e),this._resolve=this._reject=void 0,!0)},e}();t.PromiseResolutionSource=i},"./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,a)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(/*! tasklike-promise-library */"../packages/tasklike-promise-library/dist/index.js"),a=s(r(/*! tasklike-promise-library */"../packages/tasklike-promise-library/dist/index.js"));function l(e,t){return t?t.querySelector(e):document.querySelector(e)}function c(e){var t=document.createElement("div");return t.classList.add("error"),t.innerText=e&&e.stack||String(e),t}function u(e,t){var r=document.createElement("div");return r.innerText=t,e.appendChild(r),r}function d(e,t,r){return n(this,void 0,void 0,function(){var n,s,a,u,d,p;return i(this,function(i){switch(i.label){case 0:n=new o.CancellationTokenSource,s=function(){n.cancel()},a=l(t),(u=r?l(r):null)&&(u.addEventListener("click",s),u.disabled=!1),a.innerText="",i.label=1;case 1:return i.trys.push([1,4,5,6]),(d=e(a,u?n.token:void 0))?[4,d]:[3,3];case 2:i.sent(),i.label=3;case 3:return[3,6];case 4:return p=i.sent(),a.appendChild(c(p)),console.error(p),[3,6];case 5:return u&&(u.removeEventListener("click",s),u.disabled=!0),[7];case 6:return[2]}})})}function p(e){u(e,"Caller: Call myAsyncFunction."),function(){n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return u(e,"Callee: Do some work synchronously in myAsyncFunction…"),u(e,"Callee: myAsyncFunction is to yield…"),[4,o.yielded()];case 1:return t.sent(),u(e,"Callee: back from yielded state…"),u(e,"Callee: exiting."),[2]}})})}(),u(e,"Caller: We decide don't await for myAsyncFunction."),u(e,"Caller: exiting.")}function f(e,t){return n(this,void 0,void 0,function(){var r;return i(this,function(n){switch(n.label){case 0:return r=u(e,"Delay 0ms (SetTimeout(0) + yielded)."),[4,o.delay(0,t)];case 1:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 500ms."),[4,o.delay(500,t)];case 2:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 1s."),[4,o.delay(1e3,t)];case 3:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 2s."),[4,o.delay(2e3,t)];case 4:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 3s."),[4,o.delay(3e3,t)];case 5:return n.sent(),r.innerText+=" Finished.",u(e,"----------"),[2]}})})}function h(e,t){return n(this,void 0,void 0,function(){function r(r){return n(this,void 0,void 0,function(){var n,s,a,l;return i(this,function(i){switch(i.label){case 0:n=u(e,r.method+" request to "+r.url+"…"),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,o.sendRequest(r,t)];case 2:return s=i.sent(),n.innerText+=" "+s.statusCode+" "+s.statusText,u(e,"Content-Type: "+s.xhr.getResponseHeader("Content-Type")),(a=document.createElement("pre")).classList.add("http-response-body"),a.innerText=s.xhr.responseText,e.appendChild(a),n=u(e,"ensureSuccessfulStatusCode…"),s.ensureSuccessfulStatusCode(),n.innerText+=" Successful.",[3,5];case 3:if((l=i.sent())instanceof o.PromiseCancelledError)throw l;return e.appendChild(c(l)),[3,5];case 4:return u(e,"----------"),[7];case 5:return[2]}})})}return i(this,function(e){switch(e.label){case 0:return[4,r({url:"tsconfig.json?rand="+Math.random(),method:"GET",timeout:2e3})];case 1:return e.sent(),[4,r({url:"tsconfig.json",method:"POST"})];case 2:return e.sent(),[2]}})})}function y(e,t){return n(this,void 0,void 0,function(){var r,n,s,a,l,c,d;return i(this,function(i){switch(i.label){case 0:t&&t.throwIfCancellationRequested(),u(e,"requestIdleCallbackAsync"),r=u(e,"Requesting…"),n=0,s=0,i.label=1;case 1:return!t||t.isCancellationRequested?[3,3]:[4,o.requestIdleCallbackAsync({timeout:1e3},t)];case 2:return c=i.sent(),d=c.deadline.timeRemaining(),n++,c.deadline.didTimeout&&s++,a=null==a?d:Math.min(d,a),l=null==l?d:Math.max(d,l),r.innerText="Requested: "+n+" times, timed-outs: "+s+", minIdleTime: "+a+", maxIdleTime: "+l,[3,1];case 3:return[2]}})})}function m(e,t){return n(this,void 0,void 0,function(){var r,n,s,a,l,c,d,p,f,h,y,m,v,_,b,k,j;return i(this,function(i){switch(i.label){case 0:return t&&t.throwIfCancellationRequested(),u(e,"requestAnimationFrameAsync"),r=u(e,"Requesting…"),n=u(e,"This is <DIV>."),30,(s=document.createElement("button")).innerText="ball",s.style.borderRadius="15px",s.style.position="absolute",s.style.width=s.style.height="30px",n.classList.add("canvas"),n.appendChild(s),a=performance.now(),l=a,c=0,d=0,p=200,f=200,0,h=200,y=0,[4,o.requestAnimationFrameAsync(t)];case 1:i.sent(),n.scrollIntoView(),i.label=2;case 2:return t&&t.isCancellationRequested?[3,4]:[4,o.requestAnimationFrameAsync(t)];case 3:return m=i.sent(),v=m.time-l,_=n.clientWidth,b=n.clientHeight,j=d+f*(v/1e3),(k=c+p*(v/1e3))<0||k+s.offsetWidth>_?(p=-p*(.2*Math.random()+.8),c=k<0?0:_-s.offsetWidth):(c=k,s.style.left=k+"px"),j<0||j+s.offsetHeight>b?(f=-f*(.2*Math.random()+.8),d=j<0?0:b-s.offsetHeight):(d=j,f+=h*(v/1e3),s.style.top=j+"px"),l=m.time,++y>30&&(r.innerText="Frames: "+y+", time: "+((m.time-a)/1e3).toFixed(2)+" sec., FPS: "+(1e3*y/(m.time-a)).toFixed(2)+"."),[3,2];case 4:return[2]}})})}l("#tpl-yielded-run").addEventListener("click",function(){return d(p,"#tpl-yielded-panel")}),l("#tpl-delay-run").addEventListener("click",function(){return d(f,"#tpl-delay-panel","#tpl-delay-cancel")}),l("#tpl-sendrequest-run").addEventListener("click",function(){return d(h,"#tpl-sendrequest-panel","#tpl-sendrequest-cancel")}),l("#tpl-requesticb-run").addEventListener("click",function(){return d(y,"#tpl-requesticb-panel","#tpl-requesticb-cancel")}),l("#tpl-requestaf-run").addEventListener("click",function(){return d(m,"#tpl-requestaf-panel","#tpl-requestaf-cancel")}),window.TPL=a}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvZGVsYXllZENhbGxiYWNrcy5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvaHR0cC5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvY2FuY2VsbGF0aW9uLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9wcmltaXRpdmVzL2Rpc3Bvc2FibGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvZXJyb3JzLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9wcmltaXRpdmVzL2V2ZW50RW1pdHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvcHJpbWl0aXZlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvcHJpbWl0aXZlcy9wcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvcHJvbWlzZVJlc29sdXRpb25Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2FuY2VsbGF0aW9uXzEiLCJwcm9taXNlUmVzb2x1dGlvblNvdXJjZV8xIiwiX3lpZWxkZWRQcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJkZWxheSIsIm1pbGxpc2Vjb25kcyIsImNhbmNlbGxhdGlvblRva2VuIiwiUmFuZ2VFcnJvciIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJwcnMiLCJQcm9taXNlUmVzb2x1dGlvblNvdXJjZSIsImlkIiwic2V0VGltZW91dCIsInRyeVJlc29sdmUiLCJzdWJzY3JpYmUiLCJjbGVhclRpbWVvdXQiLCJ0cnlSZWplY3QiLCJQcm9taXNlQ2FuY2VsbGVkRXJyb3IiLCJwcm9taXNlIiwieWllbGRlZCIsImZyb21SZXNvbHZlZCIsInJlc3VsdCIsImZyb21SZWplY3RlZCIsInJlYXNvbiIsInJlamVjdCIsImZyb21DYW5jZWxsZWQiLCJwcmltaXRpdmVzXzEiLCJzZXRUaW1lb3V0QXN5bmMiLCJzdWJzY3JpcHRpb24iLCJwbHJzIiwiUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlIiwid2luZG93IiwiZGlzcG9zZSIsInRyeUNhbmNlbCIsInByb21pc2VMaWtlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMiLCJvcHRpb25zIiwicmVxdWVzdElkbGVDYWxsYmFjayIsImRlYWRsaW5lIiwiY2FuY2VsSWRsZUNhbGxiYWNrIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInRoaXMiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fIiwiY29uc3RydWN0b3IiLCJIdHRwUmVxdWVzdEVycm9yIiwiX3N1cGVyIiwibWVzc2FnZSIsIl90aGlzIiwiRXJyb3IiLCJYaHJSZXNwb25zZSIsInhociIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiaXNTdWNjZXNzZnVsU3RhdHVzQ29kZSIsImNvbnNvbGUiLCJhc3NlcnQiLCJlbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZSIsInNlbmRSZXF1ZXN0IiwicmVxdWVzdCIsImNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbiIsIlhNTEh0dHBSZXF1ZXN0IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIm9wZW4iLCJtZXRob2QiLCJ1cmwiLCJ0aW1lb3V0IiwiaGVhZGVycyIsIm5hbWVfMSIsInNldFJlcXVlc3RIZWFkZXIiLCJyZXNwb25zZVR5cGUiLCJ3aXRoQ3JlZGVudGlhbHMiLCJvbmxvYWQiLCJyZWFkeVN0YXRlIiwib25lcnJvciIsIm9udGltZW91dCIsImFib3J0Iiwic2VuZCIsImJvZHkiLCJfX2V4cG9ydCIsImV2ZW50RW1pdHRlcl8xIiwicHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXzEiLCJDYW5jZWxsYXRpb25Ub2tlbiIsIl9jYW5jZWxsZWQiLCJjb25maWd1cmFibGUiLCJfX2ludF9jYW5jZWwiLCJfY2FuY2VsbGF0aW9uRXZlbnQiLCJyYWlzZSIsImNsZWFyTGlzdGVuZXJzIiwiX2NhbmNlbGxhdGlvblBscnMiLCJjYWxsYmFjayIsIkV2ZW50RW1pdHRlciIsImFkZExpc3RlbmVyIiwiY2FuY2VsbGVkVG9rZW4iLCJDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSIsImNhbmNlbEFmdGVyRGVsYXkiLCJjYW5jZWxBZnRlciIsIl9jYW5jZWxsYXRpb25Ub2tlbiIsImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwiY2FuY2VsIiwicmFjZSIsImNhbmNlbGxhdGlvblRva2VucyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY3RzIiwiY2FuY2VsbGF0aW9uQ2FsbGJhY2siLCJfYSIsImNhbmNlbGxhdGlvblRva2Vuc18xIiwidG9rZW4iLCJjb21iaW5lRGlzcG9zYWJsZSIsImRpc3Bvc2FibGVzIiwiZm9yRWFjaCIsIlJhd1ZhbHVlRXJyb3IiLCJyYXdWYWx1ZSIsImlubmVyIiwiZ2V0QmFzZUVycm9yIiwiY3VycmVudCIsInNldElubmVyRXJyb3IiLCJlcnJvciIsIndyaXRhYmxlIiwiQWdncmVnYXRlRXJyb3IiLCJlcnJvcnMiLCJpbm5lckVycm9ycyIsImZpbHRlciIsImUiLCJ0aGlzQXJnIiwibGlzdGVuZXIiLCJpc0FzeW5jIiwiaXRlbSIsInByZXYiLCJ0YWlsIiwiaGVhZCIsIm5leHQiLCJ1bmRlZmluZWQiLCJhcmciLCJyZXNvbHZlZFByb21pc2UiLCJoYW5kbGVycyIsInB1c2giLCJoYW5kbGVyc18xIiwiaGFuZGxlciIsInRoZW4iLCJfZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCIsIl9wcm9taXNlTGlrZSIsIlN5bmNocm9ub3VzUHJvbWlzZUxpa2UiLCIkX19pbnRfX3NldHRsZWQiLCIkX19pbnRfX2Z1bGZpbGwiLCIkX19pbnRfX3JlamVjdCIsIl9vbmZ1bGZpbGxlZCIsIl9vbnJlamVjdGVkIiwiZnVsZmlsbE5leHQiLCJuZXh0UmVzdWx0IiwicmVqZWN0TmV4dCIsImFzbnljUHJzIiwiaXNBcnJheSIsIm5leHRSZWFzb24iLCJwcmV2UmVzdWx0Iiwib25mdWxmaWxsZWQiLCJvbnJlamVjdGVkIiwiZm9yY2VBc3luYyIsIl9lbnN1cmVQcm9taXNlSW5pdGlhbGl6ZWQiLCJfcHJvbWlzZSIsInJlcyIsInJlaiIsIl9yZXNvbHZlIiwiX3JlamVjdCIsIiQiLCJzZWxlY3RvciIsInNjb3BlIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50IiwiYnVpbGRFcnJvclBhbmVsIiwiZXJyQm94IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVyVGV4dCIsInN0YWNrIiwiU3RyaW5nIiwiYXBwZW5kTGluZSIsImNvbnRhaW5lciIsImNvbnRlbnQiLCJsaW5lIiwiYXBwZW5kQ2hpbGQiLCJydW5EZW1vIiwiZGVtb0Z1bmMiLCJwYW5lbFNlbGVjdG9yIiwiY2FuY2VsbGF0aW9uQnV0dG9uU2VsZWN0b3IiLCJvbkNhbmNlbCIsInBhbmVsIiwiY2FuY2VsQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2FibGVkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRlbW9ZaWVsZCIsIm15QXN5bmNGdW5jdGlvbiIsImRlbW9EZWxheSIsImN0IiwibGFzdExpbmUiLCJkZW1vSHR0cCIsInNlbmRBbmRSZXBvcnQiLCJyZXNwb25zZSIsImdldFJlc3BvbnNlSGVhZGVyIiwiYm9keUNvbnRhaW5lciIsInJlc3BvbnNlVGV4dCIsIk1hdGgiLCJyYW5kb20iLCJkZW1vUmVxdWVzdElkbGVDYWxsYmFja0FzeW5jIiwiY291bnRlciIsInRpbWVvdXRDb3VudGVyIiwiY29udGV4dCIsInRpbWVSZW1haW5pbmciLCJkaWRUaW1lb3V0IiwibWluSWRsZVRpbWUiLCJtaW4iLCJtYXhJZGxlVGltZSIsIm1heCIsImRlbW9SZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyIsImNhbnZhcyIsImJhbGwiLCJzdHlsZSIsImJvcmRlclJhZGl1cyIsInBvc2l0aW9uIiwid2lkdGgiLCJoZWlnaHQiLCJiYWxsU2l6ZSIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93IiwicHJldlRpbWUiLCJweCIsInB5IiwidngiLCJ2eSIsImF5IiwiZnJhbWVDb3VudGVyIiwic2Nyb2xsSW50b1ZpZXciLCJmcmFtZUR1cmF0aW9uIiwiY2FudmFzV2lkdGgiLCJjbGllbnRXaWR0aCIsImNhbnZhc0hlaWdodCIsImNsaWVudEhlaWdodCIsInkiLCJ4Iiwib2Zmc2V0V2lkdGgiLCJsZWZ0Iiwib2Zmc2V0SGVpZ2h0IiwidG9wIiwidG9GaXhlZCIsIlRQTCIsInRwbEFtYmllbnQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FB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QUFXLG1CQUFvQix1QkFDNUY5QixFQUFFLHdCQUF5QnlCLGlCQUFpQixRQUFTLFdBQU0sT0FBQVAsRUFBUWUsRUFBVSx5QkFBMEIsNkJBQ3ZHakMsRUFBRSx1QkFBd0J5QixpQkFBaUIsUUFBUyxXQUFNLE9BQUFQLEVBQVF1QixFQUE4Qix3QkFBeUIsNEJBQ3pIekMsRUFBRSxzQkFBdUJ5QixpQkFBaUIsUUFBUyxXQUFNLE9BQUFQLEVBQVFpQyxFQUFnQyx1QkFBd0IsMkJBRXhIcE0sT0FBaURvTyxJQUFNQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2luZGV4LnRzXCIpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogQ29udGFpbnMgY29tbW9uIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBgUHJvbWlzZWAuXHJcbiAqL1xyXG4vKiogKi9cclxudmFyIGNhbmNlbGxhdGlvbl8xID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlcy9jYW5jZWxsYXRpb25cIik7XHJcbnZhciBwcm9taXNlUmVzb2x1dGlvblNvdXJjZV8xID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlcy9wcm9taXNlUmVzb2x1dGlvblNvdXJjZVwiKTtcclxudmFyIF95aWVsZGVkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG4vKipcclxuICogR2V0cyBhIGBQcm9taXNlYCB0aGF0IHJlc29sdmVzIGFmdGVyIHRoZSBzcGVjaWZpZWQgdGltZSBvZiBkZWxheS5cclxuICogQHBhcmFtIG1pbGxpc2Vjb25kcyBub24tbmVnYXRpdmUgdGltZSBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgdGhlIHJldHVybmVkIGBQcm9taXNlYCByZXNvbHZlcy5cclxuICogQHBhcmFtIGNhbmNlbGxhdGlvblRva2VuIGEgdG9rZW4gdXNlZCB0byBjYW5jZWwgdGhlIHJldHVybmVkIGBQcm9taXNlYC5cclxuICogQHNlZSB7QGxpbmsgeWllbGRlZH1cclxuICogQHRvZG8gbWFrZSB0aGlzIGZ1bmN0aW9uIGFsc28gd29ya3MgaW4gbm9kZWpzLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVsYXkobWlsbGlzZWNvbmRzLCBjYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgaWYgKG1pbGxpc2Vjb25kcyA8IDApIHtcclxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm1pbGxpc2Vjb25kcyAoYXJnIzEpIHNob3VsZCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuXCIpO1xyXG4gICAgfVxyXG4gICAgY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4udGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gICAgdmFyIHBycyA9IG5ldyBwcm9taXNlUmVzb2x1dGlvblNvdXJjZV8xLlByb21pc2VSZXNvbHV0aW9uU291cmNlKCk7XHJcbiAgICAvLyBUT0RPIG1ha2Ugc2V0VGltZW91dCBpbmplY3RhYmxlLlxyXG4gICAgdmFyIGlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHBycy50cnlSZXNvbHZlKCk7IH0sIG1pbGxpc2Vjb25kcyk7XHJcbiAgICBpZiAoY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICBjYW5jZWxsYXRpb25Ub2tlbi5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xyXG4gICAgICAgICAgICBwcnMudHJ5UmVqZWN0KG5ldyBjYW5jZWxsYXRpb25fMS5Qcm9taXNlQ2FuY2VsbGVkRXJyb3IoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJzLnByb21pc2U7XHJcbn1cclxuZXhwb3J0cy5kZWxheSA9IGRlbGF5O1xyXG4vKipcclxuICogUmV0dXJucyBhIGBQcm9taXNlTGlrZWAgaW5zdGFuY2UgdGhhdCwgd2hlbiB1c2VkIHdpdGggYGF3YWl0YCBleHByZXNzaW9uLFxyXG4gKiBhc3luY2hyb25vdXNseSB5aWVsZHMgYmFjayB0byB0aGUgY29kZSBiZWxvdy4gVGhlIGluc3RhbmNlIHJldHVybmVkIGJlaGF2ZXNcclxuICogbGlrZSB0aGUgcmV0dXJuZWQgdmFsdWUgb2YgYFByb21pc2UucmVzb2x2ZSgpYC5cclxuICpcclxuICogTm90ZTogVGhlIG1ham9yIGRpZmZlcmVuY2UgYmV0d2VlbiBgeWllbGRlZCgpYCBhbmQgYGRlbGF5KDApYCwgaXMgdGhhdCBgZGVsYXlgIHdpbGxcclxuICogcmVzb2x2ZSB0aGUgcmV0dXJuZWQgYFByb21pc2VgIGluIGEgYHNldFRpbWVvdXRgIGNhbGxiYWNrLCBldmVuIGlmIHRoZSBkZWxheSB0aW1lIGlzIGAwYC5cclxuICogVGhpcyB3aWxsIGNhdXNlIGBQcm9taXNlYCByZXR1cm5lZCBieSBgZGVsYXlgIGJlICpyZXNvbHZlZCogaW4gbWFyY29UYXNrIHF1ZXVlIG9uIHNvbWUgZXhlY3V0aW9uIGVuZ2luZS5cclxuICpcclxuICogQHNlZSB7QGxpbmsgZGVsYXl9XHJcbiAqL1xyXG5mdW5jdGlvbiB5aWVsZGVkKCkge1xyXG4gICAgcmV0dXJuIF95aWVsZGVkUHJvbWlzZTtcclxufVxyXG5leHBvcnRzLnlpZWxkZWQgPSB5aWVsZGVkO1xyXG4vKipcclxuICogR2V0cyBhIHJlc29sdmVkIGBQcm9taXNlYC5cclxuICogVGhpcyBmdW5jdGlvbiBiZWhhdmVzIHRoZSBzYW1lIGFzIGBQcm9taXNlLnJlc29sdmVgLlxyXG4gKiBAcGFyYW0gcmVzdWx0IHRoZSByZXN1bHQgb2YgdGhlIHJlc29sdmVkIGBQcm9taXNlYC5cclxuICovXHJcbmZ1bmN0aW9uIGZyb21SZXNvbHZlZChyZXN1bHQpIHtcclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcclxufVxyXG5leHBvcnRzLmZyb21SZXNvbHZlZCA9IGZyb21SZXNvbHZlZDtcclxuLyoqXHJcbiAqIEdldHMgYSByZWplY3RlZCBgUHJvbWlzZWAuXHJcbiAqIFRoaXMgZnVuY3Rpb24gYmVoYXZlcyB0aGUgc2FtZSBhcyBgUHJvbWlzZS5yZWplY3RgLlxyXG4gKiBAcGFyYW0gcmVhc29uIHRoZSByZWplY3Rpb24gcmVhc29uLCBvciB0aGUgYEVycm9yYCBjYXVzaW5nIHRoZSByZWplY3Rpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tUmVqZWN0ZWQocmVhc29uKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcclxufVxyXG5leHBvcnRzLmZyb21SZWplY3RlZCA9IGZyb21SZWplY3RlZDtcclxuLyoqXHJcbiAqIEdldHMgYSBjYW5jZWxsZWQgYFByb21pc2VgLlxyXG4gKlxyXG4gKiBBIGNhbmNlbGxlZCBgUHJvbWlzZWAgaXMgYSBgUHJvbWlzZWAgcmVqZWN0ZWQgd2l0aCB7QGxpbmsgUHJvbWlzZUNhbmNlbGxlZEVycm9yfS5cclxuICovXHJcbmZ1bmN0aW9uIGZyb21DYW5jZWxsZWQoKSB7XHJcbiAgICAvLyBXZSB3YW50IHRvIGNhcHR1cmUgdGhlIHN0YWNrIHRyYWNlLlxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBjYW5jZWxsYXRpb25fMS5Qcm9taXNlQ2FuY2VsbGVkRXJyb3IoKSk7XHJcbn1cclxuZXhwb3J0cy5mcm9tQ2FuY2VsbGVkID0gZnJvbUNhbmNlbGxlZDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIENvbnRhaW5zIGFkYXB0ZXIgZnVuY3Rpb25zIHRoYXQgYWxsb3dzIHlvdSB0byBzd2l0Y2ggaW50byBhbm90aGVyIGNvbnRleHQgd2hlbiB5b3Ugc3Vic2NyaWJlIHRoZSByZXR1cm5lZCBgUHJvbWlzZUxpa2Vgcy5cclxuICogRm9yIGV4YW1wbGUsIGluIGFzeW5jIGZ1bmN0aW9ucywgaWYgeW91IHdhbnQgdG8gZXhlY3V0ZSBwYXJ0IG9mIHlvdXIgbG9naWMgaW5zaWRlIGFuXHJcbiAqIFthbmltYXRpb24gZnJhbWVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS93aW5kb3cvcmVxdWVzdEFuaW1hdGlvbkZyYW1lKSxcclxuICogeW91IG1heSBub3cgdXNlIGEgc2ltcGxlIGxvb3AgaW5zaWRlIHRoZSBhc3luY2hyb25vdXMgZnVuY3Rpb24uXHJcbiAqIGBgYHRzXHJcbiAqIGltcG9ydCB7IElDYW5jZWxsYXRpb25Ub2tlbiwgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMgfSBmcm9tIFwidGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5XCI7XHJcbiAqXHJcbiAqIGFzeW5jIGZ1bmN0aW9uIHBsYXlBbmltYXRpb24oY2FuY2VsbGF0aW9uVG9rZW4/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICogICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICogICAgIGxldCBwcmV2VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gKiAgICAgbGV0IGN1cnJlbnRXaWR0aCA9IDA7XHJcbiAqICAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYucGFuZWxcIik7XHJcbiAqICAgICB3aGlsZSAoIWNhbmNlbGxhdGlvblRva2VuIHx8ICFjYW5jZWxsYXRpb25Ub2tlbi5pc0NhbmNlbGxhdGlvblJlcXVlc3RlZCkge1xyXG4gKiAgICAgICAgIGNvbnN0IGFuaW1hdGlvbkZyYW1lID0gYXdhaXQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMoY2FuY2VsbGF0aW9uVG9rZW4pO1xyXG4gKiAgICAgICAgIC8vIEZyb20gbm93IG9uLCB3ZSBhcmUgaW5zaWRlIFJBRiBjYWxsYmFjay5cclxuICogICAgICAgICAvLyBgYW5pbWF0aW9uRnJhbWVgIGNvbnRhaW5zIHRoZSBpbmZvcm1hdGlvbiBwYXNzZWQgZnJvbSBSQUYgY2FsbGJhY2ssXHJcbiAqICAgICAgICAgLy8gYmFzaWNhbGx5LCB0aGUgc3RhcnQgdGltZSBvZiB0aGUgYW5pbWF0aW9uIGZyYW1lLlxyXG4gKiAgICAgICAgIC8vIE1ha2Ugc29tZSBhbmltYXRpb24gaGVyZS5cclxuICogICAgICAgICBjb25zdCBmcmFtZUR1cmF0aW9uID0gYW5pbWF0aW9uRnJhbWUudGltZSAtIHByZXZUaW1lO1xyXG4gKiAgICAgICAgIC8vIExldCB0aGUgd2lkdGggb2YgLnBhbmVsIGluY3JlYXNlIGJ5IDEwIHBpeGVsL3NlYy5cclxuICogICAgICAgICBjdXJyZW50V2lkdGggKz0gZnJhbWVEdXJhdGlvbiAqIDEwICogZnJhbWVEdXJhdGlvbiAvIDEwMDA7XHJcbiAqICAgICAgICAgcGFuZWwuc3R5bGVzLndpdGggPSBNYXRoLnJvdW5kKGN1cnJlbnRXaWR0aCkgKyBcInB4XCI7XHJcbiAqICAgICAgICAgcHJldlRpbWUgPSBhbmltYXRpb25GcmFtZS50aW1lO1xyXG4gKiAgICAgICAgIC8vIEVuZCBvZiBSQUYgY2FsbGJhY2suXHJcbiAqICAgICAgICAgLy8gKE1vcmUgcHJlY2lzZWx5LCB0aGUgY2FsbGJhY2sgc3RvcCBhdCB0aGUgbmV4dCBgYXdhaXQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmNgIGV4cHJlc3Npb24uKVxyXG4gKiAgICAgICAgIC8vIFRoZSBuZXh0IGBhd2FpdCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luY2AgZXhwcmVzc2lvbiB3aWxsIGxldCB1cyBlbnRlciBhbm90aGVyIFJBRiBjYWxsYmFjay5cclxuICogICAgICAgICAvLyBUbyBleGl0IHRoZSBjdXJyZW50IFJBRiBjYWxsYmFjayBhbmQgZW50ZXIgYW5vdGhlciBhcmJpdHJhcnkgYXN5bmNocm9ub3VzIGNhbGxiYWNrIGluIHRoZSBzYW1lIGFzeW5jIGZ1bmN0aW9uLFxyXG4gKiAgICAgICAgIC8vIFVzZSBgeWllbGRlZCgpYCBvciBgZGVsYXkoMClgIGZyb20gYFwiY29tbW9uXCJgIG1vZHVsZS5cclxuICogICAgIH1cclxuICogfVxyXG4gKiBgYGBcclxuICovXHJcbi8qKiAqL1xyXG52YXIgcHJpbWl0aXZlc18xID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlc1wiKTtcclxuLyoqXHJcbiAqIEdldHMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cuc2V0VGltZW91dGAgY2FsbGJhY2suXHJcbiAqIEBwYXJhbSBtaWxsaXNlY29uZHMgdGhlIGRlbGF5IGluIG1pbGxpc2Vjb25kcyBiZWZvcmUgdGhlIGBQcm9taXNlTGlrZWAgcmVzb2x2ZXMuXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSB0aW1lb3V0IHdpdGggYHdpbmRvdy5jbGVhclRpbWVvdXRgLlxyXG4gKiBAcmV0dXJucyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5zZXRUaW1lb3V0YCBjYWxsYmFjay5cclxuICogUmVzb2x2ZWQgdmFsdWUgaXMgdGhlIHRpbWVvdXQgSUQgcmV0dXJuZWQgZnJvbSBgd2luZG93LnNldFRpbWVvdXRgLlxyXG4gKiBAcmVtYXJrcyBDb21wYXJlZCB3aXRoIHtAbGluayBkZWxheX0sIHRoaXMgZnVuY3Rpb24gaXMgbW9yZSBsb3ctbGV2ZWwgYW5kIHlvdSBzaG91bGQgcHJlZmVyIHRvXHJcbiAqIHVzZSB7QGxpbmsgZGVsYXl9IHdoZW4gcG9zc2libGUuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRUaW1lb3V0QXN5bmMobWlsbGlzZWNvbmRzLCBjYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4udGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gICAgdmFyIHBscnMgPSBuZXcgcHJpbWl0aXZlc18xLlByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgdmFyIHN1YnNjcmlwdGlvbjtcclxuICAgIHZhciBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gJiYgc3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlc29sdmUoaWQpO1xyXG4gICAgfSwgbWlsbGlzZWNvbmRzKTtcclxuICAgIGlmIChjYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgICAgIHN1YnNjcmlwdGlvbiA9IGNhbmNlbGxhdGlvblRva2VuLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaWQpO1xyXG4gICAgICAgICAgICBwbHJzLnRyeUNhbmNlbCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBscnMucHJvbWlzZUxpa2U7XHJcbn1cclxuZXhwb3J0cy5zZXRUaW1lb3V0QXN5bmMgPSBzZXRUaW1lb3V0QXN5bmM7XHJcbi8qKlxyXG4gKiBHZXRzIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZWAgY2FsbGJhY2suXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSB0aW1lb3V0IHdpdGggYHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZWAuXHJcbiAqIEByZXR1cm5zIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZWAgY2FsbGJhY2suXHJcbiAqIFJlc29sdmVkIHZhbHVlIGNvbnRhaW5zIFJBRiBjb250ZXh0LlxyXG4gKi9cclxuZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMoY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGNhbmNlbGxhdGlvblRva2VuICYmIGNhbmNlbGxhdGlvblRva2VuLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIHZhciBwbHJzID0gbmV3IHByaW1pdGl2ZXNfMS5Qcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIHZhciBzdWJzY3JpcHRpb247XHJcbiAgICB2YXIgaWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZXNvbHZlKHsgaWQ6IGlkLCB0aW1lOiB0aW1lIH0pO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gPSBjYW5jZWxsYXRpb25Ub2tlbi5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xyXG4gICAgICAgICAgICBwbHJzLnRyeUNhbmNlbCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBscnMucHJvbWlzZUxpa2U7XHJcbn1cclxuZXhwb3J0cy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyA9IHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jO1xyXG4vKipcclxuICogR2V0cyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrYCBjYWxsYmFjay5cclxuICogSXQgYmFzaWNhbGx5IGV4ZWN1dGVzIHRoZSBjYWxsYmFjayB3aGVuIHRoZSBKYXZhU2NyaXB0IGV2ZW50IGxvb3AgaXMgaWRsZSwgb3IgdGhlIHNwZWNpZmllZCB0aW1lb3V0IGhhcyByZWFjaGVkLlxyXG4gKiBAcGFyYW0gb3B0aW9ucyBvcHRpb25zIHBhc3NlZCBpbnRvIGByZXF1ZXN0SWRsZUNhbGxiYWNrYCBmdW5jdGlvbi5cclxuICogQHBhcmFtIGNhbmNlbGxhdGlvblRva2VuIGEgdG9rZW4gdXNlZCB0byBjYW5jZWwgdGhlIHRpbWVvdXQgd2l0aCBgd2luZG93LmNhbmNlbElkbGVDYWxsYmFja2AuXHJcbiAqIEByZXR1cm5zIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2tgIGNhbGxiYWNrLlxyXG4gKiBSZXNvbHZlZCB2YWx1ZSBjb250YWlucyByZXF1ZXN0SWRsZUNhbGxiYWNrIGNvbnRleHQuXHJcbiAqIEBleHBlcmltZW50YWwgVW5kZXJseWluZyBgcmVxdWVzdElkbGVDYWxsYmFja2AgZnVuY3Rpb24gaXMgYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUuXHJcbiAqIFNlZSBbTUROIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvcmVxdWVzdElkbGVDYWxsYmFjaykgZm9yIG1vcmUgaW5mb3JtYXRpb25cclxuICogb24gaXQgY29tcGF0aWJpbGl0eS5cclxuICovXHJcbmZ1bmN0aW9uIHJlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYyhvcHRpb25zLCBjYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4udGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gICAgdmFyIHBscnMgPSBuZXcgcHJpbWl0aXZlc18xLlByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgdmFyIHN1YnNjcmlwdGlvbjtcclxuICAgIHZhciBpZCA9IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKGZ1bmN0aW9uIChkZWFkbGluZSkge1xyXG4gICAgICAgIHN1YnNjcmlwdGlvbiAmJiBzdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIHBscnMudHJ5UmVzb2x2ZSh7IGlkOiBpZCwgZGVhZGxpbmU6IGRlYWRsaW5lIH0pO1xyXG4gICAgfSwgb3B0aW9ucyk7XHJcbiAgICBpZiAoY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gPSBjYW5jZWxsYXRpb25Ub2tlbi5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2FuY2VsSWRsZUNhbGxiYWNrKGlkKTtcclxuICAgICAgICAgICAgcGxycy50cnlDYW5jZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBwbHJzLnByb21pc2VMaWtlO1xyXG59XHJcbmV4cG9ydHMucmVxdWVzdElkbGVDYWxsYmFja0FzeW5jID0gcmVxdWVzdElkbGVDYWxsYmFja0FzeW5jO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWxheWVkQ2FsbGJhY2tzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQG1vZHVsZVxyXG4gKiBDb250YWlucyBmdW5jdGlvbnMgZm9yIGF3YWl0YWJsZSBIVFRQIHJlcXVlc3QuXHJcbiAqXHJcbiAqIEBzZWUge0BsaW5rIHNlbmRSZXF1ZXN0fVxyXG4gKi9cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqICovXHJcbnZhciBwcmltaXRpdmVzXzEgPSByZXF1aXJlKFwiLi9wcmltaXRpdmVzXCIpO1xyXG52YXIgY2FuY2VsbGF0aW9uXzEgPSByZXF1aXJlKFwiLi9wcmltaXRpdmVzL2NhbmNlbGxhdGlvblwiKTtcclxuLyoqXHJcbiAqIEFuIGVycm9yIHJhaXNlcyB3aGVuIGFuIEhUVFAgcmVxdWVzdCBmYWlscyBkdWUgdG8gbmV0d29yayB0cmFuc3BvcnRhdGlvblxyXG4gKiBvciBzZXJ2ZXIgcmVzcG9uc2UuXHJcbiAqL1xyXG52YXIgSHR0cFJlcXVlc3RFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhIdHRwUmVxdWVzdEVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSHR0cFJlcXVlc3RFcnJvcihtZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSA9PSBudWxsID8gXCJUaGUgSFRUUCByZXF1ZXN0IGhhcyBmYWlsZWQuXCIgOiBtZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBcIkh0dHBSZXF1ZXN0RXJyb3JcIjtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIEh0dHBSZXF1ZXN0RXJyb3IucHJvdG90eXBlKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gSHR0cFJlcXVlc3RFcnJvcjtcclxufShFcnJvcikpO1xyXG5leHBvcnRzLkh0dHBSZXF1ZXN0RXJyb3IgPSBIdHRwUmVxdWVzdEVycm9yO1xyXG52YXIgWGhyUmVzcG9uc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBYaHJSZXNwb25zZSh4aHIpIHtcclxuICAgICAgICB0aGlzLnhociA9IHhocjtcclxuICAgICAgICB0aGlzLnN0YXR1c0NvZGUgPSB0aGlzLnhoci5zdGF0dXM7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy54aHIuc3RhdHVzVGV4dDtcclxuICAgICAgICB0aGlzLmlzU3VjY2Vzc2Z1bFN0YXR1c0NvZGUgPSB0aGlzLnhoci5zdGF0dXMgPj0gMjAwICYmIHRoaXMueGhyLnN0YXR1cyA8PSAyOTk7XHJcbiAgICAgICAgY29uc29sZS5hc3NlcnQoeGhyKTtcclxuICAgIH1cclxuICAgIFhoclJlc3BvbnNlLnByb3RvdHlwZS5lbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNTdWNjZXNzZnVsU3RhdHVzQ29kZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSHR0cFJlcXVlc3RFcnJvcihcIlRoZSBIVFRQIHJlc3BvbnNlIGNvZGUgXCIgKyB0aGlzLnN0YXR1c0NvZGUgKyBcIiBpbmRpY2F0ZXMgZmFpbHVyZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBYaHJSZXNwb25zZTtcclxufSgpKTtcclxuLyoqXHJcbiAqIFNlbmRzIGFuIEhUVFAgcmVxdWVzdCB3aXRoIGBYTUxIdHRwUmVxdWVzdGAuXHJcbiAqIEBwYXJhbSByZXF1ZXN0IHRoZSByZXF1ZXN0IHBhcmFtZXRlcnMuXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSBvcGVyYXRpb24gYW5kIGFib3J0IHRoZSBIVFRQIHJlcXVlc3QuXHJcbiAqIEByZXR1cm5zIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgWE1MSHR0cFJlcXVlc3RgIGNhbGxiYWNrLlxyXG4gKiBAdGhyb3dzIHtAbGluayBQcm9taXNlQ2FuY2VsbGVkRXJyb3J9IGlmIHRoZSByZXF1ZXN0IGhhcyBlaXRoZXIgdGltZWQtb3V0LCBvciBjYW5jZWxsZWQgdmlhIGBjYW5jZWxsYXRpb25Ub2tlbmAuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZW5kUmVxdWVzdChyZXF1ZXN0LCBjYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4udGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgdmFyIHBscnMgPSBuZXcgcHJpbWl0aXZlc18xLlByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgdmFyIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbjtcclxuICAgIGlmIChyZXF1ZXN0LnVzZXJuYW1lICE9IG51bGwgfHwgcmVxdWVzdC5wYXNzd29yZCAhPSBudWxsKSB7XHJcbiAgICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlLCByZXF1ZXN0LnVzZXJuYW1lLCByZXF1ZXN0LnBhc3N3b3JkKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCk7XHJcbiAgICB9XHJcbiAgICAvLyBJbiBJRSB0aGUgdGltZW91dCBwcm9wZXJ0eSBtYXkgb25seSBiZSBzZXQgYWZ0ZXIgY2FsbGluZyBvcGVuIGFuZCBiZWZvcmUgY2FsbGluZyBzZW5kLlxyXG4gICAgaWYgKHJlcXVlc3QudGltZW91dCkge1xyXG4gICAgICAgIHhoci50aW1lb3V0ID0gcmVxdWVzdC50aW1lb3V0O1xyXG4gICAgfVxyXG4gICAgaWYgKHJlcXVlc3QuaGVhZGVycykge1xyXG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiByZXF1ZXN0LmhlYWRlcnMpIHtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXF1ZXN0LmhlYWRlcnMsIG5hbWVfMSkpIHtcclxuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWVfMSwgcmVxdWVzdC5oZWFkZXJzW25hbWVfMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHJlcXVlc3QucmVzcG9uc2VUeXBlICE9IG51bGwpIHtcclxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gcmVxdWVzdC5yZXNwb25zZVR5cGU7XHJcbiAgICB9XHJcbiAgICBpZiAocmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgIT0gbnVsbCkge1xyXG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSByZXF1ZXN0LndpdGhDcmVkZW50aWFscztcclxuICAgIH1cclxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5hc3NlcnQoeGhyLnJlYWR5U3RhdGUgPT0gNCk7IC8vIERPTkVcclxuICAgICAgICBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24gJiYgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlc29sdmUobmV3IFhoclJlc3BvbnNlKHhocikpO1xyXG4gICAgfTtcclxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbiAmJiBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIHBscnMudHJ5UmVqZWN0KG5ldyBIdHRwUmVxdWVzdEVycm9yKFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgc2VuZGluZyB0aGUgSFRUUCByZXF1ZXN0LlwiKSk7XHJcbiAgICB9O1xyXG4gICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24gJiYgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlamVjdChuZXcgY2FuY2VsbGF0aW9uXzEuUHJvbWlzZUNhbmNlbGxlZEVycm9yKFwiSFRUUCByZXF1ZXN0IHRpbWVvdXQgaGFzIHJlYWNoZWQuXCIpKTtcclxuICAgIH07XHJcbiAgICBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24gPSBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChwbHJzLnRyeUNhbmNlbCgpKSB7XHJcbiAgICAgICAgICAgIHhoci5hYm9ydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgeGhyLnNlbmQocmVxdWVzdC5ib2R5KTtcclxuICAgIHJldHVybiBwbHJzLnByb21pc2VMaWtlO1xyXG59XHJcbmV4cG9ydHMuc2VuZFJlcXVlc3QgPSBzZW5kUmVxdWVzdDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogQGRlc2NyaXB0aW9uIFRoZSByb290IG1vZHVsZSBleHBvcnRpbmcgYWxsIHRoZSBzdWItbW9kdWxlIG1lbWJlcnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKiogKi9cclxuX19leHBvcnQocmVxdWlyZShcIi4vY29tbW9uXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vcHJpbWl0aXZlc1wiKSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2h0dHBcIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kZWxheWVkQ2FsbGJhY2tzXCIpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBldmVudEVtaXR0ZXJfMSA9IHJlcXVpcmUoXCIuL2V2ZW50RW1pdHRlclwiKTtcclxudmFyIHByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZV8xID0gcmVxdWlyZShcIi4vcHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXCIpO1xyXG4vKipcclxuICogQW4gZXJyb3IgdGhhdCByYWlzZXMgd2hlbiB0aGUgY3VycmVudCBwcm9taXNlIGhhcyBiZWVuIHJlamVjdGVkIGR1ZSB0byBjYW5jZWxsYXRpb24uXHJcbiAqXHJcbiAqIEByZW1hcmtzXHJcbiAqIEVTNiBgUHJvbWlzZWAgZG9lcyBub3QgaGF2ZSBjYW5jZWxsYXRpb24gc3VwcG9ydCxcclxuICogc28gVFBMIHVzZXMgYHJlamVjdGAgd2l0aCB7QGxpbmsgUHJvbWlzZUNhbmNlbGxlZEVycm9yfSB0byBpbmRpY2F0ZSBhIGNhbmNlbGxlZCBgUHJvbWlzZWAuXHJcbiAqL1xyXG52YXIgUHJvbWlzZUNhbmNlbGxlZEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFByb21pc2VDYW5jZWxsZWRFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFByb21pc2VDYW5jZWxsZWRFcnJvcihtZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSA9PSBudWxsID8gXCJQcm9taXNlIGV4ZWN1dGlvbiBoYXMgYmVlbiBjYW5jZWxsZWQuXCIgOiBtZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBcIlByb21pc2VDYW5jZWxsZWRFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgUHJvbWlzZUNhbmNlbGxlZEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2VDYW5jZWxsZWRFcnJvcjtcclxufShFcnJvcikpO1xyXG5leHBvcnRzLlByb21pc2VDYW5jZWxsZWRFcnJvciA9IFByb21pc2VDYW5jZWxsZWRFcnJvcjtcclxudmFyIENhbmNlbGxhdGlvblRva2VuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ2FuY2VsbGF0aW9uVG9rZW4oKSB7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLCBcImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fY2FuY2VsbGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLl9faW50X2NhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQucmFpc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQuY2xlYXJMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvblBscnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uUGxycy50cnlSZXNvbHZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NhbmNlbGxlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUHJvbWlzZUNhbmNlbGxlZEVycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENhbmNlbGxhdGlvblRva2VuLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50ID0gbmV3IGV2ZW50RW1pdHRlcl8xLkV2ZW50RW1pdHRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQuYWRkTGlzdGVuZXIoY2FsbGJhY2ssIHRydWUpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQucmFpc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uRXZlbnQuY2xlYXJMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FuY2VsbGF0aW9uVG9rZW4ucHJvdG90eXBlLCBcInByb21pc2VMaWtlXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvblBscnMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBscnMgPSBuZXcgcHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXzEuUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uUGxycy50cnlSZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbGxhdGlvblBscnMucHJvbWlzZUxpa2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQ2FuY2VsbGF0aW9uVG9rZW47XHJcbn0oKSk7XHJcbnZhciBjYW5jZWxsZWRUb2tlbiA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlbigpO1xyXG5jYW5jZWxsZWRUb2tlbi5fX2ludF9jYW5jZWwoKTtcclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYW4gb3duZXIgb2Yge0BsaW5rIElDYW5jZWxsYXRpb25Ub2tlbn0gdGhhdCBjYW4gaW5pdGlhdGVzIHRoZSBjYW5jZWxsYXRpb24uXHJcbiAqL1xyXG52YXIgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBjYW5jZWxBZnRlckRlbGF5IEF1dG9tYXRpY2FsbHkgcmVxdWVzdHMgY2FuY2VsbGF0aW9uIGFmdGVyIHRoZSBzcGVjaWZpZWQgbm9uLW5lZ2F0aXZlIHRpbWUgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZShjYW5jZWxBZnRlckRlbGF5KSB7XHJcbiAgICAgICAgaWYgKGNhbmNlbEFmdGVyRGVsYXkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbEFmdGVyKGNhbmNlbEFmdGVyRGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUsIFwiaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWRcIiwge1xyXG4gICAgICAgIC8qKiBXaGV0aGVyIHRoZSBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLiAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gISF0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbiAmJiB0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbi5pc0NhbmNlbGxhdGlvblJlcXVlc3RlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhdGVzIGNhbmNlbGxhdGlvbiBpZiBpdCBoYXMgbm90IGJlZW4gcmVxdWVzdGVkIHlldC5cclxuICAgICAqIE5vdGlmaWVzIHRoZSBkZXJpdmVkIGBJQ2FuY2VsbGF0aW9uVG9rZW5gIG9mIHRoZSBjYW5jZWxsYXRpb24uXHJcbiAgICAgKi9cclxuICAgIENhbmNlbGxhdGlvblRva2VuU291cmNlLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuLl9faW50X2NhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4gPSBjYW5jZWxsZWRUb2tlbjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWF0ZXMgY2FuY2VsbGF0aW9uIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXkuXHJcbiAgICAgKiBAcGFyYW0gZGVsYXkgdGhlIG5vbi1uZWdhdGl2ZSB0aW1lIGluIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBpbml0aWF0aW5nIHRoZSBjYW5jZWxsYXRpb24uXHJcbiAgICAgKi9cclxuICAgIENhbmNlbGxhdGlvblRva2VuU291cmNlLnByb3RvdHlwZS5jYW5jZWxBZnRlciA9IGZ1bmN0aW9uIChkZWxheSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGRlbGF5IDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImRlbGF5IChhcmcjMSkgc2hvdWxkIGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZWxheSA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IF90aGlzLmNhbmNlbCgpOyB9LCBkZWxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUsIFwidG9rZW5cIiwge1xyXG4gICAgICAgIC8qKiBHZXRzIHRoZSBkZXJpdmVkIGBJQ2FuY2VsbGF0aW9uVG9rZW5gIGZyb20gdGhpcyB0b2tlbiBzb3VyY2UuICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuID0gbmV3IENhbmNlbGxhdGlvblRva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGEgYENhbmNlbGxhdGlvblRva2VuU291cmNlYCB0aGF0IGdldHMgY2FuY2VsbGVkIHdoZW4gYW55IG9mIHRoZSBzcGVjaWZpZWQgYElDYW5jZWxsYXRpb25Ub2tlbmAgZ2V0cyBjYW5jZWxsZWQuXHJcbiAgICAgKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW5zIE9uZSBvciBtb3JlIHVuZGVybHlpbmcgYElDYW5jZWxsYXRpb25Ub2tlbmAuXHJcbiAgICAgKi9cclxuICAgIENhbmNlbGxhdGlvblRva2VuU291cmNlLnJhY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNhbmNlbGxhdGlvblRva2VucyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbGxhdGlvblRva2Vuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3RzID0gbmV3IENhbmNlbGxhdGlvblRva2VuU291cmNlKCk7XHJcbiAgICAgICAgdmFyIGNhbmNlbGxhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBjdHMuY2FuY2VsKCk7IH07XHJcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBjYW5jZWxsYXRpb25Ub2tlbnNfMSA9IGNhbmNlbGxhdGlvblRva2VuczsgX2EgPCBjYW5jZWxsYXRpb25Ub2tlbnNfMS5sZW5ndGg7IF9hKyspIHtcclxuICAgICAgICAgICAgdmFyIHRva2VuID0gY2FuY2VsbGF0aW9uVG9rZW5zXzFbX2FdO1xyXG4gICAgICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIHRva2VuLnN1YnNjcmliZShjYW5jZWxsYXRpb25DYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN0cztcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2U7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UgPSBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuY2VsbGF0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4gKiBDb21iaW5lcyB7QGxpbmsgSURpc3Bvc2FibGV9IGluc3RhbmNlcy5cclxuICogQHBhcmFtIGRpc3Bvc2FibGVzIDAsIDEsIG9yIG1vcmUgaW5zdGFuY2VzIHRvIGJlIGNvbWJpbmVkLlxyXG4gKiBAcmV0dXJucyBhbiB7QGxpbmsgSURpc3Bvc2FibGV9IHRoYXQgZGlzcG9zZXMgdGhlIGdpdmVuIGluc3RhbmNlcyB3aGVuIHtAbGluayBJRGlzcG9zYWJsZS5kaXNwb3NlfSBpcyBjYWxsZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBjb21iaW5lRGlzcG9zYWJsZSgpIHtcclxuICAgIHZhciBkaXNwb3NhYmxlcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBkaXNwb3NhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRpc3Bvc2FibGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGlzcG9zZSgpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmV4cG9ydHMuY29tYmluZURpc3Bvc2FibGUgPSBjb21iaW5lRGlzcG9zYWJsZTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcG9zYWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFJhd1ZhbHVlRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmF3VmFsdWVFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJhd1ZhbHVlRXJyb3IocmF3VmFsdWUsIGlubmVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5yYXdWYWx1ZSA9IHJhd1ZhbHVlO1xyXG4gICAgICAgIF90aGlzLmlubmVyID0gaW5uZXI7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiUmF3VmFsdWVFcnJvclwiO1xyXG4gICAgICAgIF90aGlzLmdldEJhc2VFcnJvciA9IGdldEJhc2VFcnJvcjtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIFJhd1ZhbHVlRXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBSYXdWYWx1ZUVycm9yO1xyXG59KEVycm9yKSk7XHJcbmZ1bmN0aW9uIGdldEJhc2VFcnJvcigpIHtcclxuICAgIHZhciBjdXJyZW50ID0gdGhpcztcclxuICAgIHdoaWxlIChjdXJyZW50LmlubmVyICE9IG51bGwpIHtcclxuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5pbm5lcjtcclxuICAgIH1cclxuICAgIHJldHVybiBjdXJyZW50O1xyXG59XHJcbmZ1bmN0aW9uIHNldElubmVyRXJyb3IoZXJyb3IsIGlubmVyKSB7XHJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJpbm5lclwiLCB7IHZhbHVlOiBpbm5lciwgd3JpdGFibGU6IGZhbHNlIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJnZXRCYXNlRXJyb3JcIiwgeyB2YWx1ZTogZ2V0QmFzZUVycm9yLCB3cml0YWJsZTogZmFsc2UgfSk7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSYXdWYWx1ZUVycm9yKGVycm9yLCBpbm5lcik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5zZXRJbm5lckVycm9yID0gc2V0SW5uZXJFcnJvcjtcclxudmFyIEFnZ3JlZ2F0ZUVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFnZ3JlZ2F0ZUVycm9yLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQWdncmVnYXRlRXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBlcnJvcnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBlcnJvcnNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiUmF3VmFsdWVFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgQWdncmVnYXRlRXJyb3IpO1xyXG4gICAgICAgIF90aGlzLmlubmVyRXJyb3JzID0gZXJyb3JzLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZSAhPSBudWxsOyB9KTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc0FyZykge1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcyk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuaW5uZXJFcnJvcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBlID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGUpO1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEFnZ3JlZ2F0ZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBlLmZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBZ2dyZWdhdGVFcnJvcjtcclxufShFcnJvcikpO1xyXG5leHBvcnRzLkFnZ3JlZ2F0ZUVycm9yID0gQWdncmVnYXRlRXJyb3I7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHNpbXBsZSBwdWItc3ViIGV2ZW50LlxyXG4gKiBAdHlwZWRlZiBUIHR5cGUgb2YgdGhlIGV2ZW50IHBheWxvYWQuXHJcbiAqL1xyXG52YXIgRXZlbnRFbWl0dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xyXG4gICAgfVxyXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgaXNBc3luYywgdGhpc0FyZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSB7IHByZXY6IHRoaXMudGFpbCwgY2FsbGJhY2s6IGxpc3RlbmVyLmJpbmQodGhpc0FyZyksIGlzQXN5bmM6IGlzQXN5bmMgfTtcclxuICAgICAgICBpZiAoIXRoaXMuaGVhZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydCghdGhpcy50YWlsKTtcclxuICAgICAgICAgICAgdGhpcy5oZWFkID0gaXRlbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudGFpbCkge1xyXG4gICAgICAgICAgICB0aGlzLnRhaWwubmV4dCA9IGl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGFpbCA9IGl0ZW07XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5wcmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KGl0ZW0ucHJldi5uZXh0ID09PSBpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5wcmV2Lm5leHQgPSBpdGVtLm5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChfdGhpcy5oZWFkID09PSBpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGVhZCA9IGl0ZW0ubmV4dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ubmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChpdGVtLm5leHQucHJldiA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubmV4dC5wcmV2ID0gaXRlbS5wcmV2O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoX3RoaXMudGFpbCA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRhaWwgPSBpdGVtLnByZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmFpc2VzIHRoZSBldmVudCwgY2FsbGluZyBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycyBhZGRlZCB0byB0aGlzIGV2ZW50IGluc3RhbmNlLlxyXG4gICAgICogQHBhcmFtIGFyZyB0aGUgZXZlbnQgcGF5bG9hZC5cclxuICAgICAqL1xyXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYWlzZSA9IGZ1bmN0aW9uIChhcmcpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuaGVhZDtcclxuICAgICAgICB2YXIgaGFuZGxlcnMgPSBbXTtcclxuICAgICAgICB2YXIgcmVzb2x2ZWRQcm9taXNlO1xyXG4gICAgICAgIC8vIFBhc3MgMTogZnJlZXplIGV2ZW50IGhhbmRsZXJzIHRvIGJlIGNhbGxlZC5cclxuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xyXG4gICAgICAgICAgICBoYW5kbGVycy5wdXNoKFtjdXJyZW50LmNhbGxiYWNrLCAhIWN1cnJlbnQuaXNBc3luY10pO1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQYXNzIDI6IGNhbGwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBoYW5kbGVyc18xID0gaGFuZGxlcnM7IF9pIDwgaGFuZGxlcnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gaGFuZGxlcnNfMVtfaV0sIGhhbmRsZXIgPSBfYVswXSwgaXNBc3luYyA9IF9hWzFdO1xyXG4gICAgICAgICAgICBpZiAoaXNBc3luYykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlZFByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoYXJnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvbWlzZS50aGVuKGhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlcihhcmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICovXHJcbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmNsZWFyTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IHVuZGVmaW5lZDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnRFbWl0dGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9jYW5jZWxsYXRpb25cIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9kaXNwb3NhYmxlXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vZXJyb3JzXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vZXZlbnRFbWl0dGVyXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VcIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9wcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2VcIikpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogUHJvdmlkZXMgYFByb21pc2VMaWtlYCB0aGF0IGNhbiBiZSByZXNvbHZlZCBmcm9tIG91dHNpZGUuXHJcbiAqIEBzZWUge0BsaW5rIElDb25maWd1cmFibGVQcm9taXNlTGlrZX1cclxuICogQHNlZSB7QGxpbmsgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2V9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKiAqL1xyXG52YXIgY2FuY2VsbGF0aW9uXzEgPSByZXF1aXJlKFwiLi9jYW5jZWxsYXRpb25cIik7XHJcbnZhciBwcm9taXNlUmVzb2x1dGlvblNvdXJjZV8xID0gcmVxdWlyZShcIi4vcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VcIik7XHJcbi8qKlxyXG4gKiBSZXNvbHZlcyBvciByZWplY3RzIGEgYFByb21pc2VMaWtlYCBmcm9tIG91dHNpZGUgb2YgaXQuXHJcbiAqXHJcbiAqIFRoaXMgY2xhc3MgaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSB7QGxpbmsgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2V9XHJcbiAqIGluIHRoZSB3YXkgdGhhdCBpdCBlbnN1cmVzIHdoZW4ge0BsaW5rIHRyeVJlc29sdmV9LCB7QGxpbmsgdHJ5Q2FuY2VsfSwgb3Ige0BsaW5rIHRyeVJlamVjdH1cclxuICogaXMgY2FsbGVkLCB0aGUgY29udGludWF0aW9uIGNhbGxiYWNrcyBhc3NvY2lhdGVkIHdpdGggYFByb21pc2VMaWtlYCBhcmUgZXhlY3V0ZWQgKnN5bmNocm9ub3VzbHkqLlxyXG4gKiBIb3dldmVyLCBkb3duc3RyZWFtIGNvbnN1bWVycyBhcmUgc3RpbGwgYWJsZSB0byBsZXQgdGhlaXIgY29udGludWF0aW9uIGNhbGxiYWNrcyBleGVjdXRlIGFzeW5jaHJvbm91c2x5LlxyXG4gKiBTZWUge0BsaW5rIElDb25maWd1cmFibGVQcm9taXNlTGlrZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAqXHJcbiAqIFRoaXMgY2xhc3MgaXMgc2ltaWxhciB0byBgRGVmZXJyZWRgIGJ1dCBpdCBleHBsaWNpdGx5IHNlcGFyYXRlc1xyXG4gKiB0aGUgcHJvbWlzZSBhbmQgaXRzIGNvbnRyb2wgc2lkZSBpbnRvIHR3byBkaWZmZXJlbnQgb2JqZWN0cy5cclxuICpcclxuICogQHR5cGVwYXJhbSBUIHR5cGUgb2YgdGhlIHByb21pc2UgcmVzb2x1dGlvbiByZXN1bHQuXHJcbiAqL1xyXG52YXIgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCkge1xyXG4gICAgfVxyXG4gICAgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS5fZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3Byb21pc2VMaWtlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb21pc2VMaWtlID0gbmV3IFN5bmNocm9ub3VzUHJvbWlzZUxpa2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUsIFwicHJvbWlzZUxpa2VcIiwge1xyXG4gICAgICAgIC8qKiBHZXRzIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgY29udHJvbGxlZCBieSB0aGUgY3VycmVudCBpbnN0YW5jZS4gKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZUxpa2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFN5bmNocm9ub3VzbHkgcmVzb2x2ZXMgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCB3aXRoIHRoZSBzcGVjaWZpZWQgcmVzdWx0LlxyXG4gICAgICogQHBhcmFtIHJlc3VsdCB0aGUgcmVzb2x1dGlvbiByZXN1bHQsIG9yIGEgYFByb21pc2VMaWtlYCB0aGF0IGNhbiBiZSBmdXJ0aGVybHkgKnJlc29sdmVkKi5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgIGhhcyBqdXN0IGJlZW4gKnJlc29sdmVkKjtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VMaWtlYCBoYXMgYWxyZWFkeSBiZWVuICpzZXR0bGVkKiBiZWZvcmUuXHJcbiAgICAgKi9cclxuICAgIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5UmVzb2x2ZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlTGlrZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fc2V0dGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fZnVsZmlsbChyZXN1bHQpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU3luY2hyb25vdXNseSBjYW5jZWxzIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAuXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCBoYXMganVzdCBiZWVuICpyZWplY3RlZCogd2l0aCBgUHJvbWlzZUNhbmNlbGxlZEVycm9yYDtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VMaWtlYCBoYXMgYWxyZWFkeSBiZWVuICpzZXR0bGVkKiBiZWZvcmUuXHJcbiAgICAgKi9cclxuICAgIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5Q2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fcHJvbWlzZUxpa2UuJF9faW50X19zZXR0bGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcHJvbWlzZUxpa2UuJF9faW50X19yZWplY3QobmV3IGNhbmNlbGxhdGlvbl8xLlByb21pc2VDYW5jZWxsZWRFcnJvcigpKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN5bmNocm9ub3VzbHkgcmVqZWN0cyB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgIHdpdGggdGhlIHNwZWNpZmllZCByYXNvbi5cclxuICAgICAqIEBwYXJhbSByZWFzb24gdGhlIHJlamVjdGlvbiByZWFzb24sIG9yIHRoZSBgRXJyb3JgIGNhdXNpbmcgdGhlIHJlamVjdGlvbi5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgIGhhcyBqdXN0IGJlZW4gKnJlamVjdGVkKjtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VMaWtlYCBoYXMgYWxyZWFkeSBiZWVuICpzZXR0bGVkKiBiZWZvcmUuXHJcbiAgICAgKi9cclxuICAgIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5UmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fcHJvbWlzZUxpa2UuJF9faW50X19zZXR0bGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcHJvbWlzZUxpa2UuJF9faW50X19yZWplY3QocmVhc29uKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlO1xyXG59KCkpO1xyXG5leHBvcnRzLlByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSA9IFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZTtcclxudmFyIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTeW5jaHJvbm91c1Byb21pc2VMaWtlKF9vbmZ1bGZpbGxlZCwgX29ucmVqZWN0ZWQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX29uZnVsZmlsbGVkID0gX29uZnVsZmlsbGVkO1xyXG4gICAgICAgIHRoaXMuX29ucmVqZWN0ZWQgPSBfb25yZWplY3RlZDtcclxuICAgICAgICB0aGlzLmZ1bGZpbGxOZXh0ID0gZnVuY3Rpb24gKG5leHRSZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKG5leHRSZXN1bHQgJiYgdHlwZW9mIG5leHRSZXN1bHQgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG5leHRSZXN1bHQudGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0UmVzdWx0LnRoZW4oX3RoaXMuZnVsZmlsbE5leHQsIF90aGlzLnJlamVjdE5leHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmFzbnljUHJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXNueWNQcnMudHJ5UmVzb2x2ZShuZXh0UmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF90aGlzLm5leHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLm5leHQ7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpLiRfX2ludF9fZnVsZmlsbChuZXh0UmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgX3RoaXMubmV4dCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTZXR0bGVkIFByb21pc2VMaWtlIHNob3VsZCBub3QgYmUgcmVzb2x2ZWQgZnVydGhlcm1vcmUuXCIsIF90aGlzLm5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5uZXh0ID0gXCJyZXNvbHZlZFwiO1xyXG4gICAgICAgICAgICBfdGhpcy5yZXN1bHQgPSBuZXh0UmVzdWx0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5yZWplY3ROZXh0ID0gZnVuY3Rpb24gKG5leHRSZWFzb24pIHtcclxuICAgICAgICAgICAgaWYgKG5leHRSZWFzb24gJiYgdHlwZW9mIG5leHRSZWFzb24gPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG5leHRSZWFzb24udGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0UmVhc29uLnRoZW4oX3RoaXMuZnVsZmlsbE5leHQsIF90aGlzLnJlamVjdE5leHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmFzbnljUHJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXNueWNQcnMudHJ5UmVqZWN0KG5leHRSZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3RoaXMubmV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMubmV4dDsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkuJF9faW50X19yZWplY3QobmV4dFJlYXNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIF90aGlzLm5leHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU2V0dGxlZCBQcm9taXNMaWtlIHNob3VsZCBub3QgYmUgcmVqZWN0ZWQgZnVydGhlcm1vcmUuXCIsIF90aGlzLm5leHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5uZXh0ID0gXCJyZWplY3RlZFwiO1xyXG4gICAgICAgICAgICBfdGhpcy5yZXN1bHQgPSBuZXh0UmVhc29uO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3luY2hyb25vdXNQcm9taXNlTGlrZS5wcm90b3R5cGUsIFwiJF9faW50X19zZXR0bGVkXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLm5leHQgPT09IFwic3RyaW5nXCI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvLyBOb3RlOiBUTmV4dCB8IFByb21pc2VMaWtlPFROZXh0PiBpcyBvbmx5IHVzZWQgd2hlbiBUUHJldiA9PSBUTmV4dFxyXG4gICAgU3luY2hyb25vdXNQcm9taXNlTGlrZS5wcm90b3R5cGUuJF9faW50X19mdWxmaWxsID0gZnVuY3Rpb24gKHByZXZSZXN1bHQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMubmV4dCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU2V0dGxlZCBQcm9taXNlTGlrZSBzaG91bGQgbm90IGJlIHJlc29sdmVkIGZ1cnRoZXJtb3JlLlwiLCB0aGlzLm5leHQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbmZ1bGZpbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZnVsZmlsbCBjdXJyZW50IGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fb25mdWxmaWxsZWQocHJldlJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAvLyBub3RpZnkgbmV4dCBQcm9taXNlTGlrZShzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5mdWxmaWxsTmV4dChyZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mdWxmaWxsTmV4dChwcmV2UmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gRXJyb3IgcmFpc2VkIHdoaWxlIGV4ZWN1dGluZyBvbmZ1bGZpbGxlZCBjYWxsYmFjay5cclxuICAgICAgICAgICAgLy8gTmV4dCBQcm9taXNlTGlrZXMgc2hvdWxkIGJlIHJlamVjdGVkLlxyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25yZWplY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWplY3ROZXh0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTeW5jaHJvbm91c1Byb21pc2VMaWtlLnByb3RvdHlwZS4kX19pbnRfX3JlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMubmV4dCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU2V0dGxlZCBQcm9taXNlTGlrZSBzaG91bGQgbm90IGJlIHJlc29sdmVkIGZ1cnRoZXJtb3JlLlwiLCB0aGlzLm5leHQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbnJlamVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fb25yZWplY3RlZChyZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mdWxmaWxsTmV4dChyZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWplY3ROZXh0KHJlYXNvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIHJhaXNlZCB3aGlsZSBleGVjdXRpbmcgb25yZWplY3RlZCBjYWxsYmFjay5cclxuICAgICAgICAgICAgLy8gTmV4dCBQcm9taXNlTGlrZXMgc2hvdWxkIGJlIHJlamVjdGVkLlxyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25yZWplY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWplY3ROZXh0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmNhdWdodCBTeW5jaHJvbm91c1Byb21pc2VMaWtlIHJlamVjdGlvbjogJW9cIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcclxuICAgICAgICB2YXIgbmV4dCA9IG5ldyBTeW5jaHJvbm91c1Byb21pc2VMaWtlKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcclxuICAgICAgICBpZiAoIXRoaXMubmV4dCkge1xyXG4gICAgICAgICAgICB0aGlzLm5leHQgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5uZXh0KSkge1xyXG4gICAgICAgICAgICB0aGlzLm5leHQucHVzaChuZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5uZXh0ID09PSBcInJlc29sdmVkXCIpIHtcclxuICAgICAgICAgICAgbmV4dC4kX19pbnRfX2Z1bGZpbGwodGhpcy5yZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLm5leHQgPT09IFwicmVqZWN0ZWRcIikge1xyXG4gICAgICAgICAgICBuZXh0LiRfX2ludF9fcmVqZWN0KHRoaXMucmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIHN0YXRlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICB9O1xyXG4gICAgU3luY2hyb25vdXNQcm9taXNlTGlrZS5wcm90b3R5cGUuZm9yY2VBc3luYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5hc255Y1Bycykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hc255Y1Bycy5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5uZXh0ID09PSBcInJlc29sdmVkXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMubmV4dCA9PT0gXCJyZWplY3RlZFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh0aGlzLnJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydCghdGhpcy5uZXh0IHx8IEFycmF5LmlzQXJyYXkodGhpcy5uZXh0KSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXNueWNQcnMgPSBuZXcgcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VfMS5Qcm9taXNlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hc255Y1Bycy5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU3luY2hyb25vdXNQcm9taXNlTGlrZTtcclxufSgpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG4vKipcclxuICogQG1vZHVsZVxyXG4gKiBQcm92aWRlcyBgUHJvbWlzZWAgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgZnJvbSBvdXRzaWRlLlxyXG4gKiBAc2VlIHtAbGluayBQcm9taXNlUmVzb2x1dGlvblNvdXJjZX1cclxuICovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqICovXHJcbnZhciBjYW5jZWxsYXRpb25fMSA9IHJlcXVpcmUoXCIuL2NhbmNlbGxhdGlvblwiKTtcclxuLyoqXHJcbiAqIFJlc29sdmVzIG9yIHJlamVjdHMgYSBgUHJvbWlzZWAgZnJvbSBvdXRzaWRlIG9mIGl0LlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIGlzIHNpbWlsYXIgdG8gYERlZmVycmVkYCBidXQgaXQgZXhwbGljaXRseSBzZXBhcmF0ZXNcclxuICogdGhlIHByb21pc2UgYW5kIGl0cyBjb250cm9sIHNpZGUgaW50byB0d28gZGlmZmVyZW50IG9iamVjdHMuXHJcbiAqXHJcbiAqIEB0eXBlcGFyYW0gVCB0eXBlIG9mIHRoZSBwcm9taXNlIHJlc29sdXRpb24gcmVzdWx0LlxyXG4gKiBAc2VlIHtAbGluayBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2V9XHJcbiAqL1xyXG52YXIgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQcm9taXNlUmVzb2x1dGlvblNvdXJjZSgpIHtcclxuICAgIH1cclxuICAgIFByb21pc2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS5fZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2UgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IHJlcztcclxuICAgICAgICAgICAgICAgIF90aGlzLl9yZWplY3QgPSByZWo7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLCBcInByb21pc2VcIiwge1xyXG4gICAgICAgIC8qKiBHZXRzIHRoZSBkZXJpdmVkIGBQcm9taXNlYCBjb250cm9sbGVkIGJ5IHRoZSBjdXJyZW50IGluc3RhbmNlLiAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFJlc29sdmVzIHRoZSBkZXJpdmVkIGBQcm9taXNlYCB3aXRoIHRoZSBzcGVjaWZpZWQgcmVzdWx0LlxyXG4gICAgICogQHBhcmFtIHJlc3VsdCB0aGUgcmVzb2x1dGlvbiByZXN1bHQsIG9yIGEgYFByb21pc2VMaWtlYCB0aGF0IGNhbiBiZSBmdXJ0aGVybHkgKnJlc29sdmVkKi5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgaGFzIGp1c3QgYmVlbiAqcmVzb2x2ZWQqO1xyXG4gICAgICogb3RoZXJ3aXNlIGl0IG1lYW5zIHRoZSBgUHJvbWlzZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5UmVzb2x2ZSA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fcmVzb2x2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSB0aGlzLl9yZWplY3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDYW5jZWxzIHRoZSBkZXJpdmVkIGBQcm9taXNlYC5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgaGFzIGp1c3QgYmVlbiAqcmVqZWN0ZWQqIHdpdGggYFByb21pc2VDYW5jZWxsZWRFcnJvcmA7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlYCBoYXMgYWxyZWFkeSBiZWVuICpzZXR0bGVkKiBiZWZvcmUuXHJcbiAgICAgKi9cclxuICAgIFByb21pc2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZS50cnlDYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlamVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZWplY3QobmV3IGNhbmNlbGxhdGlvbl8xLlByb21pc2VDYW5jZWxsZWRFcnJvcigpKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IHRoaXMuX3JlamVjdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlamVjdHMgdGhlIGRlcml2ZWQgYFByb21pc2VgIHdpdGggdGhlIHNwZWNpZmllZCByYXNvbi5cclxuICAgICAqIEBwYXJhbSByZWFzb24gdGhlIHJlamVjdGlvbiByZWFzb24sIG9yIHRoZSBgRXJyb3JgIGNhdXNpbmcgdGhlIHJlamVjdGlvbi5cclxuICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgaGFzIGp1c3QgYmVlbiAqcmVqZWN0ZWQqO1xyXG4gICAgICogb3RoZXJ3aXNlIGl0IG1lYW5zIHRoZSBgUHJvbWlzZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5UmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9yZWplY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSB0aGlzLl9yZWplY3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByb21pc2VSZXNvbHV0aW9uU291cmNlO1xyXG59KCkpO1xyXG5leHBvcnRzLlByb21pc2VSZXNvbHV0aW9uU291cmNlID0gUHJvbWlzZVJlc29sdXRpb25Tb3VyY2U7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21pc2VSZXNvbHV0aW9uU291cmNlLmpzLm1hcCIsImltcG9ydCB7XHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSwgZGVsYXksIElDYW5jZWxsYXRpb25Ub2tlbiwgSVJlcXVlc3RQYXJhbXMsXHJcbiAgICBQcm9taXNlQ2FuY2VsbGVkRXJyb3IsIHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jLCByZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMsXHJcbiAgICBzZW5kUmVxdWVzdCwgeWllbGRlZFxyXG59IGZyb20gXCJ0YXNrbGlrZS1wcm9taXNlLWxpYnJhcnlcIjtcclxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWR1cGxpY2F0ZS1pbXBvcnRzXHJcbmltcG9ydCAqIGFzIHRwbEFtYmllbnQgZnJvbSBcInRhc2tsaWtlLXByb21pc2UtbGlicmFyeVwiO1xyXG5cclxuZnVuY3Rpb24gJDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KHNlbGVjdG9yOiBzdHJpbmcsIHNjb3BlPzogSFRNTEVsZW1lbnQpOiBUIHwgbnVsbCB7XHJcbiAgICBpZiAoc2NvcGUpIHtcclxuICAgICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgVDtcclxuICAgIH1cclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSBhcyBUO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkxvYWQoKSB7XHJcbiAgICAkKFwiI3RwbC15aWVsZGVkLXJ1blwiKSEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHJ1bkRlbW8oZGVtb1lpZWxkLCBcIiN0cGwteWllbGRlZC1wYW5lbFwiKSk7XHJcbiAgICAkKFwiI3RwbC1kZWxheS1ydW5cIikhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBydW5EZW1vKGRlbW9EZWxheSwgXCIjdHBsLWRlbGF5LXBhbmVsXCIsIFwiI3RwbC1kZWxheS1jYW5jZWxcIikpO1xyXG4gICAgJChcIiN0cGwtc2VuZHJlcXVlc3QtcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vSHR0cCwgXCIjdHBsLXNlbmRyZXF1ZXN0LXBhbmVsXCIsIFwiI3RwbC1zZW5kcmVxdWVzdC1jYW5jZWxcIikpO1xyXG4gICAgJChcIiN0cGwtcmVxdWVzdGljYi1ydW5cIikhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBydW5EZW1vKGRlbW9SZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMsIFwiI3RwbC1yZXF1ZXN0aWNiLXBhbmVsXCIsIFwiI3RwbC1yZXF1ZXN0aWNiLWNhbmNlbFwiKSk7XHJcbiAgICAkKFwiI3RwbC1yZXF1ZXN0YWYtcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vUmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMsIFwiI3RwbC1yZXF1ZXN0YWYtcGFuZWxcIiwgXCIjdHBsLXJlcXVlc3RhZi1jYW5jZWxcIikpO1xyXG4gICAgLy8gRXhwb3NlIFRQTCBsaWJyYXJ5IHRvIHRoZSBkZWJ1Z2dlciBjb25zb2xlLlxyXG4gICAgKHdpbmRvdyBhcyB1bmtub3duIGFzIHsgVFBMOiB0eXBlb2YgdHBsQW1iaWVudCB9KS5UUEwgPSB0cGxBbWJpZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBidWlsZEVycm9yUGFuZWwoZXJyb3I6IHVua25vd24pIHtcclxuICAgIGNvbnN0IGVyckJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBlcnJCb3guY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG4gICAgZXJyQm94LmlubmVyVGV4dCA9IGVycm9yICYmIChlcnJvciBhcyB7IHN0YWNrPzogc3RyaW5nIH0pLnN0YWNrIHx8IFN0cmluZyhlcnJvcik7XHJcbiAgICByZXR1cm4gZXJyQm94O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBlbmRMaW5lKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNvbnRlbnQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgbGluZS5pbm5lclRleHQgPSBjb250ZW50O1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxpbmUpO1xyXG4gICAgcmV0dXJuIGxpbmU7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJ1bkRlbW8oXHJcbiAgICBkZW1vRnVuYzogKHBhbmVsOiBIVE1MRWxlbWVudCwgY2FuY2VsbGF0aW9uVG9rZW4/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pID0+IHZvaWQgfCBQcm9taXNlPHZvaWQ+LFxyXG4gICAgcGFuZWxTZWxlY3Rvcjogc3RyaW5nLFxyXG4gICAgY2FuY2VsbGF0aW9uQnV0dG9uU2VsZWN0b3I/OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IGN0cyA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSgpO1xyXG4gICAgY29uc3Qgb25DYW5jZWwgPSAoKSA9PiB7IGN0cy5jYW5jZWwoKTsgfTtcclxuICAgIGNvbnN0IHBhbmVsID0gJChwYW5lbFNlbGVjdG9yKSE7XHJcbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBjYW5jZWxsYXRpb25CdXR0b25TZWxlY3RvciA/ICQ8SFRNTEJ1dHRvbkVsZW1lbnQ+KGNhbmNlbGxhdGlvbkJ1dHRvblNlbGVjdG9yKSA6IG51bGw7XHJcbiAgICBpZiAoY2FuY2VsQnV0dG9uKSB7XHJcbiAgICAgICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNhbmNlbCk7XHJcbiAgICAgICAgY2FuY2VsQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBwYW5lbC5pbm5lclRleHQgPSBcIlwiO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBkZW1vRnVuYyhwYW5lbCwgY2FuY2VsQnV0dG9uID8gY3RzLnRva2VuIDogdW5kZWZpbmVkKTtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChidWlsZEVycm9yUGFuZWwoZXJyb3IpKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgaWYgKGNhbmNlbEJ1dHRvbikge1xyXG4gICAgICAgICAgICBjYW5jZWxCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQ2FuY2VsKTtcclxuICAgICAgICAgICAgY2FuY2VsQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlbW9ZaWVsZChwYW5lbDogSFRNTEVsZW1lbnQpIHtcclxuICAgIGFzeW5jIGZ1bmN0aW9uIG15QXN5bmNGdW5jdGlvbigpIHtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogRG8gc29tZSB3b3JrIHN5bmNocm9ub3VzbHkgaW4gbXlBc3luY0Z1bmN0aW9u4oCmXCIpO1xyXG4gICAgICAgIGFwcGVuZExpbmUocGFuZWwsIFwiQ2FsbGVlOiBteUFzeW5jRnVuY3Rpb24gaXMgdG8geWllbGTigKZcIik7XHJcbiAgICAgICAgYXdhaXQgeWllbGRlZCgpO1xyXG4gICAgICAgIGFwcGVuZExpbmUocGFuZWwsIFwiQ2FsbGVlOiBiYWNrIGZyb20geWllbGRlZCBzdGF0ZeKAplwiKTtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogZXhpdGluZy5cIik7XHJcbiAgICB9XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlcjogQ2FsbCBteUFzeW5jRnVuY3Rpb24uXCIpO1xyXG4gICAgbXlBc3luY0Z1bmN0aW9uKCk7XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlcjogV2UgZGVjaWRlIGRvbid0IGF3YWl0IGZvciBteUFzeW5jRnVuY3Rpb24uXCIpO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZXI6IGV4aXRpbmcuXCIpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZW1vRGVsYXkocGFuZWw6IEhUTUxFbGVtZW50LCBjdD86IElDYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgbGV0IGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgXCJEZWxheSAwbXMgKFNldFRpbWVvdXQoMCkgKyB5aWVsZGVkKS5cIik7XHJcbiAgICBhd2FpdCBkZWxheSgwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgNTAwbXMuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoNTAwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgMXMuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoMTAwMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIkRlbGF5IDJzLlwiKTtcclxuICAgIGF3YWl0IGRlbGF5KDIwMDAsIGN0KTtcclxuICAgIGxhc3RMaW5lLmlubmVyVGV4dCArPSBcIiBGaW5pc2hlZC5cIjtcclxuICAgIGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgXCJEZWxheSAzcy5cIik7XHJcbiAgICBhd2FpdCBkZWxheSgzMDAwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIi0tLS0tLS0tLS1cIik7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbW9IdHRwKHBhbmVsOiBIVE1MRWxlbWVudCwgY3Q/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGFzeW5jIGZ1bmN0aW9uIHNlbmRBbmRSZXBvcnQocmVxdWVzdDogSVJlcXVlc3RQYXJhbXMpIHtcclxuICAgICAgICBsZXQgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBgJHtyZXF1ZXN0Lm1ldGhvZH0gcmVxdWVzdCB0byAke3JlcXVlc3QudXJsfeKApmApO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZFJlcXVlc3QocmVxdWVzdCwgY3QpO1xyXG4gICAgICAgICAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgXCIgKyByZXNwb25zZS5zdGF0dXNDb2RlICsgXCIgXCIgKyByZXNwb25zZS5zdGF0dXNUZXh0O1xyXG4gICAgICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNvbnRlbnQtVHlwZTogXCIgKyByZXNwb25zZS54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpO1xyXG4gICAgICAgICAgICBjb25zdCBib2R5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcclxuICAgICAgICAgICAgYm9keUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaHR0cC1yZXNwb25zZS1ib2R5XCIpO1xyXG4gICAgICAgICAgICBib2R5Q29udGFpbmVyLmlubmVyVGV4dCA9IHJlc3BvbnNlLnhoci5yZXNwb25zZVRleHQ7XHJcbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKGJvZHlDb250YWluZXIpO1xyXG4gICAgICAgICAgICBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiZW5zdXJlU3VjY2Vzc2Z1bFN0YXR1c0NvZGXigKZcIik7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlLmVuc3VyZVN1Y2Nlc3NmdWxTdGF0dXNDb2RlKCk7XHJcbiAgICAgICAgICAgIGxhc3RMaW5lLmlubmVyVGV4dCArPSBcIiBTdWNjZXNzZnVsLlwiO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFByb21pc2VDYW5jZWxsZWRFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgY3QgaXMgY2FuY2VsbGVkLCB3ZSB3b24ndCBjb250aW51ZSB0aGUgZGVtb1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQoYnVpbGRFcnJvclBhbmVsKGVycm9yKSk7XHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgYXBwZW5kTGluZShwYW5lbCwgXCItLS0tLS0tLS0tXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGF3YWl0IHNlbmRBbmRSZXBvcnQoeyB1cmw6IFwidHNjb25maWcuanNvbj9yYW5kPVwiICsgTWF0aC5yYW5kb20oKSwgbWV0aG9kOiBcIkdFVFwiLCB0aW1lb3V0OiAyMDAwIH0pO1xyXG4gICAgYXdhaXQgc2VuZEFuZFJlcG9ydCh7IHVybDogXCJ0c2NvbmZpZy5qc29uXCIsIG1ldGhvZDogXCJQT1NUXCIgfSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbW9SZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMocGFuZWw6IEhUTUxFbGVtZW50LCBjdD86IElDYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgY3QgJiYgY3QudGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJyZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmNcIik7XHJcbiAgICBjb25zdCBzdGF0dXMgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIlJlcXVlc3RpbmfigKZcIik7XHJcbiAgICBsZXQgY291bnRlciA9IDA7XHJcbiAgICBsZXQgdGltZW91dENvdW50ZXIgPSAwO1xyXG4gICAgbGV0IG1pbklkbGVUaW1lOiB1bmRlZmluZWQgfCBudW1iZXIsIG1heElkbGVUaW1lOiB1bmRlZmluZWQgfCBudW1iZXI7XHJcbiAgICB3aGlsZSAoY3QgJiYgIWN0LmlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKSB7XHJcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGF3YWl0IHJlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYyh7IHRpbWVvdXQ6IDEwMDAgfSwgY3QpO1xyXG4gICAgICAgIC8vIE5vdyB3ZSBhcmUgaW5zaWRlIHJlcXVlc3RJZGxlQ2FsbGJhY2sgY2FsbGJhY2suXHJcbiAgICAgICAgY29uc3QgdGltZVJlbWFpbmluZyA9IGNvbnRleHQuZGVhZGxpbmUudGltZVJlbWFpbmluZygpO1xyXG4gICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICBpZiAoY29udGV4dC5kZWFkbGluZS5kaWRUaW1lb3V0KSB7IHRpbWVvdXRDb3VudGVyKys7IH1cclxuICAgICAgICBtaW5JZGxlVGltZSA9IG1pbklkbGVUaW1lID09IG51bGwgPyB0aW1lUmVtYWluaW5nIDogTWF0aC5taW4odGltZVJlbWFpbmluZywgbWluSWRsZVRpbWUpO1xyXG4gICAgICAgIG1heElkbGVUaW1lID0gbWF4SWRsZVRpbWUgPT0gbnVsbCA/IHRpbWVSZW1haW5pbmcgOiBNYXRoLm1heCh0aW1lUmVtYWluaW5nLCBtYXhJZGxlVGltZSk7XHJcbiAgICAgICAgc3RhdHVzLmlubmVyVGV4dCA9IGBSZXF1ZXN0ZWQ6ICR7Y291bnRlcn0gdGltZXMsIHRpbWVkLW91dHM6ICR7dGltZW91dENvdW50ZXJ9LCBtaW5JZGxlVGltZTogJHttaW5JZGxlVGltZX0sIG1heElkbGVUaW1lOiAke21heElkbGVUaW1lfWA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbW9SZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyhwYW5lbDogSFRNTEVsZW1lbnQsIGN0PzogSUNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjdCAmJiBjdC50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICBhcHBlbmRMaW5lKHBhbmVsLCBcInJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jXCIpO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gYXBwZW5kTGluZShwYW5lbCwgXCJSZXF1ZXN0aW5n4oCmXCIpO1xyXG4gICAgY29uc3QgY2FudmFzID0gYXBwZW5kTGluZShwYW5lbCwgXCJUaGlzIGlzIDxESVY+LlwiKTtcclxuICAgIGNvbnN0IGJhbGxTaXplID0gMzA7XHJcbiAgICBjb25zdCBiYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgIGJhbGwuaW5uZXJUZXh0ID0gXCJiYWxsXCI7XHJcbiAgICBiYWxsLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiMTVweFwiO1xyXG4gICAgYmFsbC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgIGJhbGwuc3R5bGUud2lkdGggPSBiYWxsLnN0eWxlLmhlaWdodCA9IGJhbGxTaXplICsgXCJweFwiO1xyXG4gICAgY2FudmFzLmNsYXNzTGlzdC5hZGQoXCJjYW52YXNcIik7XHJcbiAgICBjYW52YXMuYXBwZW5kQ2hpbGQoYmFsbCk7XHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIGxldCBwcmV2VGltZSA9IHN0YXJ0VGltZTtcclxuICAgIC8vIFBvc2l0aW9uOiBwaXhlbC5cclxuICAgIGxldCBweCA9IDAsIHB5ID0gMDtcclxuICAgIC8vIFZlbG9jaXR5OiBwaXhlbCAvIHNlYy5cclxuICAgIGxldCB2eCA9IDIwMCwgdnkgPSAyMDA7XHJcbiAgICBsZXQgYXggPSAwLCBheSA9IDIwMDtcclxuICAgIGxldCBmcmFtZUNvdW50ZXIgPSAwO1xyXG4gICAgLy8gV2FpdCBmb3IgbGF5b3V0IHRvIGNvbXBsZXRlLlxyXG4gICAgYXdhaXQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMoY3QpO1xyXG4gICAgY2FudmFzLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAvLyBTdGFydCBhbmltYXRpb24uXHJcbiAgICB3aGlsZSAoIWN0IHx8ICFjdC5pc0NhbmNlbGxhdGlvblJlcXVlc3RlZCkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBhd2FpdCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyhjdCk7XHJcbiAgICAgICAgLy8gTm93IHdlIGFyZSBpbnNpZGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGNhbGxiYWNrLlxyXG4gICAgICAgIGNvbnN0IGZyYW1lRHVyYXRpb24gPSBjb250ZXh0LnRpbWUgLSBwcmV2VGltZTtcclxuICAgICAgICBjb25zdCBjYW52YXNXaWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aCwgY2FudmFzSGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgICAgICBsZXQgeCA9IHB4ICsgdnggKiAoZnJhbWVEdXJhdGlvbiAvIDEwMDApO1xyXG4gICAgICAgIGxldCB5ID0gcHkgKyB2eSAqIChmcmFtZUR1cmF0aW9uIC8gMTAwMCk7XHJcbiAgICAgICAgaWYgKHggPCAwIHx8IHggKyBiYWxsLm9mZnNldFdpZHRoID4gY2FudmFzV2lkdGgpIHtcclxuICAgICAgICAgICAgdnggPSAtdnggKiAoTWF0aC5yYW5kb20oKSAqIDAuMiArIDAuOCk7XHJcbiAgICAgICAgICAgIHB4ID0geCA8IDAgPyAwIDogY2FudmFzV2lkdGggLSBiYWxsLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHB4ID0geDtcclxuICAgICAgICAgICAgYmFsbC5zdHlsZS5sZWZ0ID0geCArIFwicHhcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHkgPCAwIHx8IHkgKyBiYWxsLm9mZnNldEhlaWdodCA+IGNhbnZhc0hlaWdodCkge1xyXG4gICAgICAgICAgICB2eSA9IC12eSAqIChNYXRoLnJhbmRvbSgpICogMC4yICsgMC44KTtcclxuICAgICAgICAgICAgcHkgPSB5IDwgMCA/IDAgOiBjYW52YXNIZWlnaHQgLSBiYWxsLm9mZnNldEhlaWdodDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBweSA9IHk7XHJcbiAgICAgICAgICAgIHZ5ICs9IGF5ICogKGZyYW1lRHVyYXRpb24gLyAxMDAwKTtcclxuICAgICAgICAgICAgYmFsbC5zdHlsZS50b3AgPSB5ICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcmV2VGltZSA9IGNvbnRleHQudGltZTtcclxuICAgICAgICBmcmFtZUNvdW50ZXIrKztcclxuICAgICAgICBpZiAoZnJhbWVDb3VudGVyID4gMzApIHtcclxuICAgICAgICAgICAgc3RhdHVzLmlubmVyVGV4dCA9IGBGcmFtZXM6ICR7ZnJhbWVDb3VudGVyfSwgdGltZTogJHsoKGNvbnRleHQudGltZSAtIHN0YXJ0VGltZSkgLyAxMDAwKS50b0ZpeGVkKDIpfSBzZWMuLCBGUFM6ICR7KGZyYW1lQ291bnRlciAqIDEwMDAgLyAoY29udGV4dC50aW1lIC0gc3RhcnRUaW1lKSkudG9GaXhlZCgyKX0uYDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbm9uTG9hZCgpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9