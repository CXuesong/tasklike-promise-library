/*! For license information please see index.js.LICENSE */
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.ts")}({"../packages/tasklike-promise-library/dist/common.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=r("../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js"),s=Promise.resolve();t.delay=function(e,t){if(e<0)throw new RangeError("milliseconds (arg#1) should be a non-negative number.");t&&t.throwIfCancellationRequested();var r=new i.PromiseResolutionSource,s=setTimeout((function(){r.tryResolve()}),e);return t&&t.subscribe((function(){clearTimeout(s),r.tryReject(new n.PromiseCancelledError)})),r.promise},t.yielded=function(){return s},t.fromResolved=function(e){return Promise.resolve(e)},t.fromRejected=function(e){return Promise.reject(e)},t.fromCancelled=function(){return Promise.reject(new n.PromiseCancelledError)}},"../packages/tasklike-promise-library/dist/delayedCallbacks.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/index.js");t.setTimeoutAsync=function(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,s=window.setTimeout((function(){r&&r.dispose(),i.tryResolve(s)}),e);return t&&(r=t.subscribe((function(){window.clearTimeout(s),i.tryCancel()}))),i.promiseLike},t.requestAnimationFrameAsync=function(e){e&&e.throwIfCancellationRequested();var t,r=new n.PromiseLikeResolutionSource,i=window.requestAnimationFrame((function(e){t&&t.dispose(),r.tryResolve({id:i,time:e})}));return e&&(t=e.subscribe((function(){window.cancelAnimationFrame(i),r.tryCancel()}))),r.promiseLike},t.requestIdleCallbackAsync=function(e,t){t&&t.throwIfCancellationRequested();var r,i=new n.PromiseLikeResolutionSource,s=window.requestIdleCallback((function(e){r&&r.dispose(),i.tryResolve({id:s,deadline:e})}),e);return t&&(r=t.subscribe((function(){window.cancelIdleCallback(s),i.tryCancel()}))),i.promiseLike}},"../packages/tasklike-promise-library/dist/http.js":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r("../packages/tasklike-promise-library/dist/primitives/index.js"),o=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),a=function(e){function t(r){var n=e.call(this,null==r?"The HTTP request has failed.":r)||this;return n.name="HttpRequestError",Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(Error);t.HttpRequestError=a;var l=function(){function e(e){this.xhr=e,this.statusCode=this.xhr.status,this.statusText=this.xhr.statusText,this.isSuccessfulStatusCode=this.xhr.status>=200&&this.xhr.status<=299,console.assert(e)}return e.prototype.getHeader=function(e){return this.xhr.getResponseHeader(e)},Object.defineProperty(e.prototype,"body",{get:function(){return this.xhr.response},enumerable:!0,configurable:!0}),e.prototype.ensureSuccessfulStatusCode=function(){if(!this.isSuccessfulStatusCode)throw new a("The HTTP response code "+this.statusCode+" indicates failure.")},e}();t.sendRequest=function(e,t){t&&t.throwIfCancellationRequested();var r,n=new XMLHttpRequest,i=new s.PromiseLikeResolutionSource;if(null!=e.username||null!=e.password?n.open(e.method,e.url,!0,e.username,e.password):n.open(e.method,e.url),e.timeout&&(n.timeout=e.timeout),e.headers)for(var c in e.headers)e.headers.hasOwnProperty(c)&&n.setRequestHeader(c,e.headers[c]);return null!=e.responseType&&(n.responseType=e.responseType),null!=e.withCredentials&&(n.withCredentials=e.withCredentials),n.onload=function(){console.assert(4==n.readyState),r&&r.dispose(),i.tryResolve(new l(n))},n.onerror=function(){r&&r.dispose(),i.tryReject(new a("An error occurred while sending the HTTP request."))},n.ontimeout=function(){r&&r.dispose(),i.tryReject(new o.PromiseCancelledError("HTTP request timeout has reached."))},r=t&&t.subscribe((function(){i.tryCancel()&&n.abort()})),n.send(e.body),i.promiseLike}},"../packages/tasklike-promise-library/dist/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("../packages/tasklike-promise-library/dist/common.js")),n(r("../packages/tasklike-promise-library/dist/primitives/index.js")),n(r("../packages/tasklike-promise-library/dist/http.js")),n(r("../packages/tasklike-promise-library/dist/delayedCallbacks.js"))},"../packages/tasklike-promise-library/dist/primitives/cancellation.js":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r("../packages/tasklike-promise-library/dist/primitives/eventEmitter.js"),o=r("../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js"),a=function(e){function t(r){var n=e.call(this,null==r?"Promise execution has been cancelled.":r)||this;return n.name="PromiseCancelledError",Object.setPrototypeOf(n,t.prototype),n}return i(t,e),t}(Error);t.PromiseCancelledError=a;var l=function(){function e(){}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancelled},enumerable:!0,configurable:!0}),e.prototype.__int_cancel=function(){this._cancellationEvent&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),this._cancellationPlrs&&this._cancellationPlrs.tryResolve(),this._cancelled=!0},e.prototype.throwIfCancellationRequested=function(){if(this._cancelled)throw new a},e.prototype.subscribe=function(e){this._cancellationEvent||(this._cancellationEvent=new s.EventEmitter);var t=this._cancellationEvent.addListener(e,!0);return this._cancelled&&(this._cancellationEvent.raise(),this._cancellationEvent.clearListeners()),t},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._cancellationPlrs&&(this._cancellationPlrs=new o.PromiseLikeResolutionSource,this._cancelled&&this._cancellationPlrs.tryResolve()),this._cancellationPlrs.promiseLike},enumerable:!0,configurable:!0}),e}(),c=new l;c.__int_cancel();var u=function(){function e(e){null!=e&&this.cancelAfter(e)}return Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return!!this._cancellationToken&&this._cancellationToken.isCancellationRequested},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._cancellationToken?this._cancellationToken.__int_cancel():this._cancellationToken=c},e.prototype.cancelAfter=function(e){var t=this;if(e<0)throw new RangeError("delay (arg#1) should be a non-negative number.");0===e?this.cancel():setTimeout((function(){t.cancel()}),e)},Object.defineProperty(e.prototype,"token",{get:function(){return this._cancellationToken||(this._cancellationToken=new l),this._cancellationToken},enumerable:!0,configurable:!0}),e.race=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e,i=function(){n.cancel()},s=0,o=t;s<o.length;s++){var a=o[s];a&&a.subscribe(i)}return n},e}();t.CancellationTokenSource=u},"../packages/tasklike-promise-library/dist/primitives/disposable.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineDisposable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{dispose:function(){e.forEach((function(e){return e.dispose()}))}}}},"../packages/tasklike-promise-library/dist/primitives/errors.js":function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(r,n){var i=e.call(this)||this;return i.rawValue=r,i.inner=n,i.name="RawValueError",i.getBaseError=o,Object.setPrototypeOf(i,t),i}return i(t,e),t}(Error);function o(){for(var e=this;null!=e.inner;)e=e.inner;return e}t.setInnerError=function(e,t){return e instanceof Error?(Object.defineProperty(e,"inner",{value:t,writable:!1}),Object.defineProperty(e,"getBaseError",{value:o,writable:!1}),e):new s(e,t)};var a=function(e){function t(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=e.call(this)||this;return s.name="RawValueError",Object.setPrototypeOf(s,t),s.innerErrors=n.filter((function(e){return null!=e})),s}return i(t,e),t.prototype.forEach=function(e,r){e.call(r,this);for(var n=0,i=this.innerErrors;n<i.length;n++){var s=i[n];e.call(r,s),s instanceof t&&s.forEach(e,r)}},t}(Error);t.AggregateError=a},"../packages/tasklike-promise-library/dist/primitives/eventEmitter.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.addListener=function(e,t,r){var n=this,i={prev:this.tail,callback:e.bind(r),isAsync:t};return this.head||(console.assert(!this.tail),this.head=i),this.tail&&(this.tail.next=i),this.tail=i,{dispose:function(){i&&(i.prev?(console.assert(i.prev.next===i),i.prev.next=i.next):(console.assert(n.head===i),n.head=i.next),i.next?(console.assert(i.next.prev===i),i.next.prev=i.prev):(console.assert(n.tail===i),n.tail=i.prev),i=void 0)}}},e.prototype.raise=function(e){for(var t,r=this.head,n=[];r;)n.push([r.callback,!!r.isAsync]),r=r.next;for(var i=0,s=n;i<s.length;i++){var o=s[i],a=o[0];o[1]?(t||(t=Promise.resolve(e)),t.then(a)):a(e)}},e.prototype.clearListeners=function(){this.head=this.tail=void 0},e}();t.EventEmitter=n},"../packages/tasklike-promise-library/dist/primitives/index.js":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("../packages/tasklike-promise-library/dist/primitives/cancellation.js")),n(r("../packages/tasklike-promise-library/dist/primitives/disposable.js")),n(r("../packages/tasklike-promise-library/dist/primitives/errors.js")),n(r("../packages/tasklike-promise-library/dist/primitives/eventEmitter.js")),n(r("../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js")),n(r("../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js"))},"../packages/tasklike-promise-library/dist/primitives/promiseLikeResolutionSource.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=r("../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js"),s=function(){function e(){}return e.prototype._ensurePromiseLikeInitialized=function(){this._promiseLike||(this._promiseLike=new o)},Object.defineProperty(e.prototype,"promiseLike",{get:function(){return this._ensurePromiseLikeInitialized(),this._promiseLike},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__fulfill(e),!0)},e.prototype.tryCancel=function(){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(new n.PromiseCancelledError),!0)},e.prototype.tryReject=function(e){return this._ensurePromiseLikeInitialized(),!this._promiseLike.$__int__settled&&(this._promiseLike.$__int__reject(e),!0)},e}();t.PromiseLikeResolutionSource=s;var o=function(){function e(e,t){var r=this;this._onfulfilled=e,this._onrejected=t,this.fulfillNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryResolve(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__fulfill(e)}else if("string"==typeof r.next)return void console.error("Settled PromiseLike should not be resolved furthermore.",r.next);r.next="resolved",r.result=e},this.rejectNext=function(e){if(e&&"object"==typeof e&&"function"==typeof e.then)e.then(r.fulfillNext,r.rejectNext);else if(r.asnycPrs&&r.asnycPrs.tryReject(e),Array.isArray(r.next))for(var t=0,n=r.next;t<n.length;t++){n[t].$__int__reject(e)}else if("string"==typeof r.next)return void console.error("Settled PromisLike should not be rejected furthermore.",r.next);r.next="rejected",r.result=e}}return Object.defineProperty(e.prototype,"$__int__settled",{get:function(){return"string"==typeof this.next},enumerable:!0,configurable:!0}),e.prototype.$__int__fulfill=function(e){if("string"!=typeof this.next)try{if(this._onfulfilled){var t=this._onfulfilled(e);this.fulfillNext(t)}else this.fulfillNext(e)}catch(e){this._onrejected&&this.rejectNext(e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.$__int__reject=function(e){if("string"!=typeof this.next)try{if(this._onrejected){var t=this._onrejected(e);this.fulfillNext(t)}else this.rejectNext(e)}catch(e){this._onrejected?this.rejectNext(e):console.error("Uncaught SynchronousPromiseLike rejection: %o",e)}else console.error("Settled PromiseLike should not be resolved furthermore.",this.next)},e.prototype.then=function(t,r){var n=new e(t,r);return this.next||(this.next=[]),Array.isArray(this.next)?this.next.push(n):"resolved"===this.next?n.$__int__fulfill(this.result):"rejected"===this.next?n.$__int__reject(this.result):console.error("Invalid state."),n},e.prototype.forceAsync=function(){return this.asnycPrs?this.asnycPrs.promise:"resolved"===this.next?Promise.resolve(this.result):"rejected"===this.next?Promise.reject(this.result):(console.assert(!this.next||Array.isArray(this.next)),this.asnycPrs=new i.PromiseResolutionSource,this.asnycPrs.promise)},e}()},"../packages/tasklike-promise-library/dist/primitives/promiseResolutionSource.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("../packages/tasklike-promise-library/dist/primitives/cancellation.js"),i=function(){function e(){}return e.prototype._ensurePromiseInitialized=function(){var e=this;null==this._promise&&(this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r})))},Object.defineProperty(e.prototype,"promise",{get:function(){return this._ensurePromiseInitialized(),this._promise},enumerable:!0,configurable:!0}),e.prototype.tryResolve=function(e){return this._ensurePromiseInitialized(),!!this._resolve&&(this._resolve(e),this._resolve=this._reject=void 0,!0)},e.prototype.tryCancel=function(){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(new n.PromiseCancelledError),this._resolve=this._reject=void 0,!0)},e.prototype.tryReject=function(e){return this._ensurePromiseInitialized(),!!this._reject&&(this._reject(e),this._resolve=this._reject=void 0,!0)},e}();t.PromiseResolutionSource=i},"./src/index.ts":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r("../packages/tasklike-promise-library/dist/index.js"),a=s(r("../packages/tasklike-promise-library/dist/index.js"));function l(e,t){return t?t.querySelector(e):document.querySelector(e)}function c(e){var t=document.createElement("div");return t.classList.add("error"),t.innerText=e&&e.stack||String(e),t}function u(e,t){var r=document.createElement("div");return r.innerText=t,e.appendChild(r),r}function d(e,t,r){return n(this,void 0,void 0,(function(){var n,s,a,u,d,p;return i(this,(function(i){switch(i.label){case 0:n=new o.CancellationTokenSource,s=function(){n.cancel()},a=l(t),(u=r?l(r):null)&&(u.addEventListener("click",s),u.disabled=!1),a.innerText="",i.label=1;case 1:return i.trys.push([1,4,5,6]),(d=e(a,u?n.token:void 0))?[4,d]:[3,3];case 2:i.sent(),i.label=3;case 3:return[3,6];case 4:return p=i.sent(),a.appendChild(c(p)),console.error(p),[3,6];case 5:return u&&(u.removeEventListener("click",s),u.disabled=!0),[7];case 6:return[2]}}))}))}function p(e){u(e,"Caller: Call myAsyncFunction."),function(){n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return u(e,"Callee: Do some work synchronously in myAsyncFunction…"),u(e,"Callee: myAsyncFunction is to yield…"),[4,o.yielded()];case 1:return t.sent(),u(e,"Callee: back from yielded state…"),u(e,"Callee: exiting."),[2]}}))}))}(),u(e,"Caller: We decide don't await for myAsyncFunction."),u(e,"Caller: exiting.")}function f(e,t){return n(this,void 0,void 0,(function(){var r;return i(this,(function(n){switch(n.label){case 0:return r=u(e,"Delay 0ms (SetTimeout(0) + yielded)."),[4,o.delay(0,t)];case 1:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 500ms."),[4,o.delay(500,t)];case 2:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 1s."),[4,o.delay(1e3,t)];case 3:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 2s."),[4,o.delay(2e3,t)];case 4:return n.sent(),r.innerText+=" Finished.",r=u(e,"Delay 3s."),[4,o.delay(3e3,t)];case 5:return n.sent(),r.innerText+=" Finished.",u(e,"----------"),[2]}}))}))}function h(e,t){return n(this,void 0,void 0,(function(){function r(r){return n(this,void 0,void 0,(function(){var n,s,a,l;return i(this,(function(i){switch(i.label){case 0:n=u(e,r.method+" request to "+r.url+"…"),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,o.sendRequest(r,t)];case 2:return s=i.sent(),n.innerText+=" "+s.statusCode+" "+s.statusText,u(e,"Content-Type: "+s.getHeader("Content-Type")),(a=document.createElement("pre")).classList.add("http-response-body"),a.innerText=s.body,e.appendChild(a),n=u(e,"ensureSuccessfulStatusCode…"),s.ensureSuccessfulStatusCode(),n.innerText+=" Successful.",[3,5];case 3:if((l=i.sent())instanceof o.PromiseCancelledError)throw l;return e.appendChild(c(l)),[3,5];case 4:return u(e,"----------"),[7];case 5:return[2]}}))}))}return i(this,(function(e){switch(e.label){case 0:return[4,r({url:"tsconfig.json?rand="+Math.random(),method:"GET",timeout:2e3})];case 1:return e.sent(),[4,r({url:"tsconfig.json",method:"POST"})];case 2:return e.sent(),[2]}}))}))}function y(e,t){return n(this,void 0,void 0,(function(){var r,n,s,a,l,c,d;return i(this,(function(i){switch(i.label){case 0:t&&t.throwIfCancellationRequested(),u(e,"requestIdleCallbackAsync"),r=u(e,"Requesting…"),n=0,s=0,i.label=1;case 1:return!t||t.isCancellationRequested?[3,3]:[4,o.requestIdleCallbackAsync({timeout:1e3},t)];case 2:return c=i.sent(),d=c.deadline.timeRemaining(),n++,c.deadline.didTimeout&&s++,a=null==a?d:Math.min(d,a),l=null==l?d:Math.max(d,l),r.innerText="Requested: "+n+" times, timed-outs: "+s+", minIdleTime: "+a+", maxIdleTime: "+l,[3,1];case 3:return[2]}}))}))}function m(e,t){return n(this,void 0,void 0,(function(){var r,n,s,a,l,c,d,p,f,h,y,m,v,_,b,k,j;return i(this,(function(i){switch(i.label){case 0:return t&&t.throwIfCancellationRequested(),u(e,"requestAnimationFrameAsync"),r=u(e,"Requesting…"),n=u(e,"This is <DIV>."),30,(s=document.createElement("button")).innerText="ball",s.style.borderRadius="15px",s.style.position="absolute",s.style.width=s.style.height="30px",n.classList.add("canvas"),n.appendChild(s),a=performance.now(),l=a,c=0,d=0,p=200,f=200,0,h=200,y=0,[4,o.requestAnimationFrameAsync(t)];case 1:i.sent(),n.scrollIntoView(),i.label=2;case 2:return t&&t.isCancellationRequested?[3,4]:[4,o.requestAnimationFrameAsync(t)];case 3:return m=i.sent(),v=m.time-l,_=n.clientWidth,b=n.clientHeight,j=d+f*(v/1e3),(k=c+p*(v/1e3))<0||k+s.offsetWidth>_?(p=-p*(.2*Math.random()+.8),c=k<0?0:_-s.offsetWidth):(c=k,s.style.left=k+"px"),j<0||j+s.offsetHeight>b?(f=-f*(.2*Math.random()+.8),d=j<0?0:b-s.offsetHeight):(d=j,f+=h*(v/1e3),s.style.top=j+"px"),l=m.time,++y>30&&(r.innerText="Frames: "+y+", time: "+((m.time-a)/1e3).toFixed(2)+" sec., FPS: "+(1e3*y/(m.time-a)).toFixed(2)+"."),[3,2];case 4:return[2]}}))}))}l("#tpl-yielded-run").addEventListener("click",(function(){return d(p,"#tpl-yielded-panel")})),l("#tpl-delay-run").addEventListener("click",(function(){return d(f,"#tpl-delay-panel","#tpl-delay-cancel")})),l("#tpl-sendrequest-run").addEventListener("click",(function(){return d(h,"#tpl-sendrequest-panel","#tpl-sendrequest-cancel")})),l("#tpl-requesticb-run").addEventListener("click",(function(){return d(y,"#tpl-requesticb-panel","#tpl-requesticb-cancel")})),l("#tpl-requestaf-run").addEventListener("click",(function(){return d(m,"#tpl-requestaf-panel","#tpl-requestaf-cancel")})),window.TPL=a}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvZGVsYXllZENhbGxiYWNrcy5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvaHR0cC5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvY2FuY2VsbGF0aW9uLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9wcmltaXRpdmVzL2Rpc3Bvc2FibGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvZXJyb3JzLmpzIiwid2VicGFjazovLy8uLi9wYWNrYWdlcy90YXNrbGlrZS1wcm9taXNlLWxpYnJhcnkvZGlzdC9wcmltaXRpdmVzL2V2ZW50RW1pdHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvcHJpbWl0aXZlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vcGFja2FnZXMvdGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5L2Rpc3QvcHJpbWl0aXZlcy9wcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3BhY2thZ2VzL3Rhc2tsaWtlLXByb21pc2UtbGlicmFyeS9kaXN0L3ByaW1pdGl2ZXMvcHJvbWlzZVJlc29sdXRpb25Tb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY2FuY2VsbGF0aW9uXzEiLCJwcm9taXNlUmVzb2x1dGlvblNvdXJjZV8xIiwiX3lpZWxkZWRQcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJkZWxheSIsIm1pbGxpc2Vjb25kcyIsImNhbmNlbGxhdGlvblRva2VuIiwiUmFuZ2VFcnJvciIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJwcnMiLCJQcm9taXNlUmVzb2x1dGlvblNvdXJjZSIsImlkIiwic2V0VGltZW91dCIsInRyeVJlc29sdmUiLCJzdWJzY3JpYmUiLCJjbGVhclRpbWVvdXQiLCJ0cnlSZWplY3QiLCJQcm9taXNlQ2FuY2VsbGVkRXJyb3IiLCJwcm9taXNlIiwieWllbGRlZCIsImZyb21SZXNvbHZlZCIsInJlc3VsdCIsImZyb21SZWplY3RlZCIsInJlYXNvbiIsInJlamVjdCIsImZyb21DYW5jZWxsZWQiLCJwcmltaXRpdmVzXzEiLCJzZXRUaW1lb3V0QXN5bmMiLCJzdWJzY3JpcHRpb24iLCJwbHJzIiwiUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlIiwid2luZG93IiwiZGlzcG9zZSIsInRyeUNhbmNlbCIsInByb21pc2VMaWtlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMiLCJvcHRpb25zIiwicmVxdWVzdElkbGVDYWxsYmFjayIsImRlYWRsaW5lIiwiY2FuY2VsSWRsZUNhbGxiYWNrIiwiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInRoaXMiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsIl9fIiwiY29uc3RydWN0b3IiLCJIdHRwUmVxdWVzdEVycm9yIiwiX3N1cGVyIiwibWVzc2FnZSIsIl90aGlzIiwiRXJyb3IiLCJYaHJSZXNwb25zZSIsInhociIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiaXNTdWNjZXNzZnVsU3RhdHVzQ29kZSIsImNvbnNvbGUiLCJhc3NlcnQiLCJnZXRIZWFkZXIiLCJoZWFkZXJOYW1lIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJyZXNwb25zZSIsImNvbmZpZ3VyYWJsZSIsImVuc3VyZVN1Y2Nlc3NmdWxTdGF0dXNDb2RlIiwic2VuZFJlcXVlc3QiLCJyZXF1ZXN0IiwiY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uIiwiWE1MSHR0cFJlcXVlc3QiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwib3BlbiIsIm1ldGhvZCIsInVybCIsInRpbWVvdXQiLCJoZWFkZXJzIiwibmFtZV8xIiwic2V0UmVxdWVzdEhlYWRlciIsInJlc3BvbnNlVHlwZSIsIndpdGhDcmVkZW50aWFscyIsIm9ubG9hZCIsInJlYWR5U3RhdGUiLCJvbmVycm9yIiwib250aW1lb3V0IiwiYWJvcnQiLCJzZW5kIiwiYm9keSIsIl9fZXhwb3J0IiwiZXZlbnRFbWl0dGVyXzEiLCJwcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2VfMSIsIkNhbmNlbGxhdGlvblRva2VuIiwiX2NhbmNlbGxlZCIsIl9faW50X2NhbmNlbCIsIl9jYW5jZWxsYXRpb25FdmVudCIsInJhaXNlIiwiY2xlYXJMaXN0ZW5lcnMiLCJfY2FuY2VsbGF0aW9uUGxycyIsImNhbGxiYWNrIiwiRXZlbnRFbWl0dGVyIiwiYWRkTGlzdGVuZXIiLCJjYW5jZWxsZWRUb2tlbiIsIkNhbmNlbGxhdGlvblRva2VuU291cmNlIiwiY2FuY2VsQWZ0ZXJEZWxheSIsImNhbmNlbEFmdGVyIiwiX2NhbmNlbGxhdGlvblRva2VuIiwiaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJjYW5jZWwiLCJyYWNlIiwiY2FuY2VsbGF0aW9uVG9rZW5zIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJjdHMiLCJjYW5jZWxsYXRpb25DYWxsYmFjayIsIl9hIiwiY2FuY2VsbGF0aW9uVG9rZW5zXzEiLCJ0b2tlbiIsImNvbWJpbmVEaXNwb3NhYmxlIiwiZGlzcG9zYWJsZXMiLCJmb3JFYWNoIiwiUmF3VmFsdWVFcnJvciIsInJhd1ZhbHVlIiwiaW5uZXIiLCJnZXRCYXNlRXJyb3IiLCJjdXJyZW50Iiwic2V0SW5uZXJFcnJvciIsImVycm9yIiwid3JpdGFibGUiLCJBZ2dyZWdhdGVFcnJvciIsImVycm9ycyIsImlubmVyRXJyb3JzIiwiZmlsdGVyIiwiZSIsInRoaXNBcmciLCJsaXN0ZW5lciIsImlzQXN5bmMiLCJpdGVtIiwicHJldiIsInRhaWwiLCJoZWFkIiwibmV4dCIsInVuZGVmaW5lZCIsImFyZyIsInJlc29sdmVkUHJvbWlzZSIsImhhbmRsZXJzIiwicHVzaCIsImhhbmRsZXJzXzEiLCJoYW5kbGVyIiwidGhlbiIsIl9lbnN1cmVQcm9taXNlTGlrZUluaXRpYWxpemVkIiwiX3Byb21pc2VMaWtlIiwiU3luY2hyb25vdXNQcm9taXNlTGlrZSIsIiRfX2ludF9fc2V0dGxlZCIsIiRfX2ludF9fZnVsZmlsbCIsIiRfX2ludF9fcmVqZWN0IiwiX29uZnVsZmlsbGVkIiwiX29ucmVqZWN0ZWQiLCJmdWxmaWxsTmV4dCIsIm5leHRSZXN1bHQiLCJyZWplY3ROZXh0IiwiYXNueWNQcnMiLCJpc0FycmF5IiwibmV4dFJlYXNvbiIsInByZXZSZXN1bHQiLCJvbmZ1bGZpbGxlZCIsIm9ucmVqZWN0ZWQiLCJmb3JjZUFzeW5jIiwiX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCIsIl9wcm9taXNlIiwicmVzIiwicmVqIiwiX3Jlc29sdmUiLCJfcmVqZWN0IiwiJCIsInNlbGVjdG9yIiwic2NvcGUiLCJxdWVyeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJidWlsZEVycm9yUGFuZWwiLCJlcnJCb3giLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5uZXJUZXh0Iiwic3RhY2siLCJTdHJpbmciLCJhcHBlbmRMaW5lIiwiY29udGFpbmVyIiwiY29udGVudCIsImxpbmUiLCJhcHBlbmRDaGlsZCIsInJ1bkRlbW8iLCJkZW1vRnVuYyIsInBhbmVsU2VsZWN0b3IiLCJjYW5jZWxsYXRpb25CdXR0b25TZWxlY3RvciIsIm9uQ2FuY2VsIiwicGFuZWwiLCJjYW5jZWxCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzYWJsZWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGVtb1lpZWxkIiwibXlBc3luY0Z1bmN0aW9uIiwiZGVtb0RlbGF5IiwiY3QiLCJsYXN0TGluZSIsImRlbW9IdHRwIiwic2VuZEFuZFJlcG9ydCIsImJvZHlDb250YWluZXIiLCJNYXRoIiwicmFuZG9tIiwiZGVtb1JlcXVlc3RJZGxlQ2FsbGJhY2tBc3luYyIsImNvdW50ZXIiLCJ0aW1lb3V0Q291bnRlciIsImNvbnRleHQiLCJ0aW1lUmVtYWluaW5nIiwiZGlkVGltZW91dCIsIm1pbklkbGVUaW1lIiwibWluIiwibWF4SWRsZVRpbWUiLCJtYXgiLCJkZW1vUmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMiLCJjYW52YXMiLCJiYWxsIiwic3R5bGUiLCJib3JkZXJSYWRpdXMiLCJwb3NpdGlvbiIsIndpZHRoIiwiaGVpZ2h0IiwiYmFsbFNpemUiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInByZXZUaW1lIiwicHgiLCJweSIsInZ4IiwidnkiLCJheSIsImZyYW1lQ291bnRlciIsInNjcm9sbEludG9WaWV3IiwiZnJhbWVEdXJhdGlvbiIsImNhbnZhc1dpZHRoIiwiY2xpZW50V2lkdGgiLCJjYW52YXNIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJ5IiwieCIsIm9mZnNldFdpZHRoIiwibGVmdCIsIm9mZnNldEhlaWdodCIsInRvcCIsInRvRml4ZWQiLCJUUEwiLCJ0cGxBbWJpZW50Il0sIm1hcHBpbmdzIjoiO2FBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJ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RSxvQkFBcUJ5QixpQkFBaUIsU0FBUyxXQUFNLE9BQUFQLEVBQVFVLEVBQVcseUJBQzFFNUIsRUFBRSxrQkFBbUJ5QixpQkFBaUIsU0FBUyxXQUFNLE9BQUFQLEVBQVFZLEVBQVcsbUJBQW9CLHdCQUM1RjlCLEVBQUUsd0JBQXlCeUIsaUJBQWlCLFNBQVMsV0FBTSxPQUFBUCxFQUFRZSxFQUFVLHlCQUEwQiw4QkFDdkdqQyxFQUFFLHVCQUF3QnlCLGlCQUFpQixTQUFTLFdBQU0sT0FBQVAsRUFBUW9CLEVBQThCLHdCQUF5Qiw2QkFDekh0QyxFQUFFLHNCQUF1QnlCLGlCQUFpQixTQUFTLFdBQU0sT0FBQVAsRUFBUThCLEVBQWdDLHVCQUF3Qiw0QkFFeEhyTSxPQUFpRHFPLElBQU1DIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvaW5kZXgudHNcIik7XG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogQG1vZHVsZVxyXG4gKiBDb250YWlucyBjb21tb24gdXRpbGl0eSBmdW5jdGlvbnMgZm9yIGBQcm9taXNlYC5cclxuICovXHJcbi8qKiAqL1xyXG52YXIgY2FuY2VsbGF0aW9uXzEgPSByZXF1aXJlKFwiLi9wcmltaXRpdmVzL2NhbmNlbGxhdGlvblwiKTtcclxudmFyIHByb21pc2VSZXNvbHV0aW9uU291cmNlXzEgPSByZXF1aXJlKFwiLi9wcmltaXRpdmVzL3Byb21pc2VSZXNvbHV0aW9uU291cmNlXCIpO1xyXG52YXIgX3lpZWxkZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbi8qKlxyXG4gKiBHZXRzIGEgYFByb21pc2VgIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgdGhlIHNwZWNpZmllZCB0aW1lIG9mIGRlbGF5LlxyXG4gKiBAcGFyYW0gbWlsbGlzZWNvbmRzIG5vbi1uZWdhdGl2ZSB0aW1lIGluIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSB0aGUgcmV0dXJuZWQgYFByb21pc2VgIHJlc29sdmVzLlxyXG4gKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW4gYSB0b2tlbiB1c2VkIHRvIGNhbmNlbCB0aGUgcmV0dXJuZWQgYFByb21pc2VgLlxyXG4gKiBAc2VlIHtAbGluayB5aWVsZGVkfVxyXG4gKiBAdG9kbyBtYWtlIHRoaXMgZnVuY3Rpb24gYWxzbyB3b3JrcyBpbiBub2RlanMuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWxheShtaWxsaXNlY29uZHMsIGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBpZiAobWlsbGlzZWNvbmRzIDwgMCkge1xyXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwibWlsbGlzZWNvbmRzIChhcmcjMSkgc2hvdWxkIGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci5cIik7XHJcbiAgICB9XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgcHJzID0gbmV3IHByb21pc2VSZXNvbHV0aW9uU291cmNlXzEuUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgIC8vIFRPRE8gbWFrZSBzZXRUaW1lb3V0IGluamVjdGFibGUuXHJcbiAgICB2YXIgaWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcHJzLnRyeVJlc29sdmUoKTsgfSwgbWlsbGlzZWNvbmRzKTtcclxuICAgIGlmIChjYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgICAgIGNhbmNlbGxhdGlvblRva2VuLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChpZCk7XHJcbiAgICAgICAgICAgIHBycy50cnlSZWplY3QobmV3IGNhbmNlbGxhdGlvbl8xLlByb21pc2VDYW5jZWxsZWRFcnJvcigpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcnMucHJvbWlzZTtcclxufVxyXG5leHBvcnRzLmRlbGF5ID0gZGVsYXk7XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgYFByb21pc2VMaWtlYCBpbnN0YW5jZSB0aGF0LCB3aGVuIHVzZWQgd2l0aCBgYXdhaXRgIGV4cHJlc3Npb24sXHJcbiAqIGFzeW5jaHJvbm91c2x5IHlpZWxkcyBiYWNrIHRvIHRoZSBjb2RlIGJlbG93LiBUaGUgaW5zdGFuY2UgcmV0dXJuZWQgYmVoYXZlc1xyXG4gKiBsaWtlIHRoZSByZXR1cm5lZCB2YWx1ZSBvZiBgUHJvbWlzZS5yZXNvbHZlKClgLlxyXG4gKlxyXG4gKiBOb3RlOiBUaGUgbWFqb3IgZGlmZmVyZW5jZSBiZXR3ZWVuIGB5aWVsZGVkKClgIGFuZCBgZGVsYXkoMClgLCBpcyB0aGF0IGBkZWxheWAgd2lsbFxyXG4gKiByZXNvbHZlIHRoZSByZXR1cm5lZCBgUHJvbWlzZWAgaW4gYSBgc2V0VGltZW91dGAgY2FsbGJhY2ssIGV2ZW4gaWYgdGhlIGRlbGF5IHRpbWUgaXMgYDBgLlxyXG4gKiBUaGlzIHdpbGwgY2F1c2UgYFByb21pc2VgIHJldHVybmVkIGJ5IGBkZWxheWAgYmUgKnJlc29sdmVkKiBpbiBtYXJjb1Rhc2sgcXVldWUgb24gc29tZSBleGVjdXRpb24gZW5naW5lLlxyXG4gKlxyXG4gKiBAc2VlIHtAbGluayBkZWxheX1cclxuICovXHJcbmZ1bmN0aW9uIHlpZWxkZWQoKSB7XHJcbiAgICByZXR1cm4gX3lpZWxkZWRQcm9taXNlO1xyXG59XHJcbmV4cG9ydHMueWllbGRlZCA9IHlpZWxkZWQ7XHJcbi8qKlxyXG4gKiBHZXRzIGEgcmVzb2x2ZWQgYFByb21pc2VgLlxyXG4gKiBUaGlzIGZ1bmN0aW9uIGJlaGF2ZXMgdGhlIHNhbWUgYXMgYFByb21pc2UucmVzb2x2ZWAuXHJcbiAqIEBwYXJhbSByZXN1bHQgdGhlIHJlc3VsdCBvZiB0aGUgcmVzb2x2ZWQgYFByb21pc2VgLlxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbVJlc29sdmVkKHJlc3VsdCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xyXG59XHJcbmV4cG9ydHMuZnJvbVJlc29sdmVkID0gZnJvbVJlc29sdmVkO1xyXG4vKipcclxuICogR2V0cyBhIHJlamVjdGVkIGBQcm9taXNlYC5cclxuICogVGhpcyBmdW5jdGlvbiBiZWhhdmVzIHRoZSBzYW1lIGFzIGBQcm9taXNlLnJlamVjdGAuXHJcbiAqIEBwYXJhbSByZWFzb24gdGhlIHJlamVjdGlvbiByZWFzb24sIG9yIHRoZSBgRXJyb3JgIGNhdXNpbmcgdGhlIHJlamVjdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIGZyb21SZWplY3RlZChyZWFzb24pIHtcclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xyXG59XHJcbmV4cG9ydHMuZnJvbVJlamVjdGVkID0gZnJvbVJlamVjdGVkO1xyXG4vKipcclxuICogR2V0cyBhIGNhbmNlbGxlZCBgUHJvbWlzZWAuXHJcbiAqXHJcbiAqIEEgY2FuY2VsbGVkIGBQcm9taXNlYCBpcyBhIGBQcm9taXNlYCByZWplY3RlZCB3aXRoIHtAbGluayBQcm9taXNlQ2FuY2VsbGVkRXJyb3J9LlxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbUNhbmNlbGxlZCgpIHtcclxuICAgIC8vIFdlIHdhbnQgdG8gY2FwdHVyZSB0aGUgc3RhY2sgdHJhY2UuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IGNhbmNlbGxhdGlvbl8xLlByb21pc2VDYW5jZWxsZWRFcnJvcigpKTtcclxufVxyXG5leHBvcnRzLmZyb21DYW5jZWxsZWQgPSBmcm9tQ2FuY2VsbGVkO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogQ29udGFpbnMgYWRhcHRlciBmdW5jdGlvbnMgdGhhdCBhbGxvd3MgeW91IHRvIHN3aXRjaCBpbnRvIGFub3RoZXIgY29udGV4dCB3aGVuIHlvdSBzdWJzY3JpYmUgdGhlIHJldHVybmVkIGBQcm9taXNlTGlrZWBzLlxyXG4gKiBGb3IgZXhhbXBsZSwgaW4gYXN5bmMgZnVuY3Rpb25zLCBpZiB5b3Ugd2FudCB0byBleGVjdXRlIHBhcnQgb2YgeW91ciBsb2dpYyBpbnNpZGUgYW5cclxuICogW2FuaW1hdGlvbiBmcmFtZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL3dpbmRvdy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLFxyXG4gKiB5b3UgbWF5IG5vdyB1c2UgYSBzaW1wbGUgbG9vcCBpbnNpZGUgdGhlIGFzeW5jaHJvbm91cyBmdW5jdGlvbi5cclxuICogYGBgdHNcclxuICogaW1wb3J0IHsgSUNhbmNlbGxhdGlvblRva2VuLCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyB9IGZyb20gXCJ0YXNrbGlrZS1wcm9taXNlLWxpYnJhcnlcIjtcclxuICpcclxuICogYXN5bmMgZnVuY3Rpb24gcGxheUFuaW1hdGlvbihjYW5jZWxsYXRpb25Ub2tlbj86IElDYW5jZWxsYXRpb25Ub2tlbik6IFByb21pc2U8dm9pZD4ge1xyXG4gKiAgICAgY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4udGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gKiAgICAgbGV0IHByZXZUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAqICAgICBsZXQgY3VycmVudFdpZHRoID0gMDtcclxuICogICAgIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5wYW5lbFwiKTtcclxuICogICAgIHdoaWxlICghY2FuY2VsbGF0aW9uVG9rZW4gfHwgIWNhbmNlbGxhdGlvblRva2VuLmlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKSB7XHJcbiAqICAgICAgICAgY29uc3QgYW5pbWF0aW9uRnJhbWUgPSBhd2FpdCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyhjYW5jZWxsYXRpb25Ub2tlbik7XHJcbiAqICAgICAgICAgLy8gRnJvbSBub3cgb24sIHdlIGFyZSBpbnNpZGUgUkFGIGNhbGxiYWNrLlxyXG4gKiAgICAgICAgIC8vIGBhbmltYXRpb25GcmFtZWAgY29udGFpbnMgdGhlIGluZm9ybWF0aW9uIHBhc3NlZCBmcm9tIFJBRiBjYWxsYmFjayxcclxuICogICAgICAgICAvLyBiYXNpY2FsbHksIHRoZSBzdGFydCB0aW1lIG9mIHRoZSBhbmltYXRpb24gZnJhbWUuXHJcbiAqICAgICAgICAgLy8gTWFrZSBzb21lIGFuaW1hdGlvbiBoZXJlLlxyXG4gKiAgICAgICAgIGNvbnN0IGZyYW1lRHVyYXRpb24gPSBhbmltYXRpb25GcmFtZS50aW1lIC0gcHJldlRpbWU7XHJcbiAqICAgICAgICAgLy8gTGV0IHRoZSB3aWR0aCBvZiAucGFuZWwgaW5jcmVhc2UgYnkgMTAgcGl4ZWwvc2VjLlxyXG4gKiAgICAgICAgIGN1cnJlbnRXaWR0aCArPSBmcmFtZUR1cmF0aW9uICogMTAgKiBmcmFtZUR1cmF0aW9uIC8gMTAwMDtcclxuICogICAgICAgICBwYW5lbC5zdHlsZXMud2l0aCA9IE1hdGgucm91bmQoY3VycmVudFdpZHRoKSArIFwicHhcIjtcclxuICogICAgICAgICBwcmV2VGltZSA9IGFuaW1hdGlvbkZyYW1lLnRpbWU7XHJcbiAqICAgICAgICAgLy8gRW5kIG9mIFJBRiBjYWxsYmFjay5cclxuICogICAgICAgICAvLyAoTW9yZSBwcmVjaXNlbHksIHRoZSBjYWxsYmFjayBzdG9wIGF0IHRoZSBuZXh0IGBhd2FpdCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luY2AgZXhwcmVzc2lvbi4pXHJcbiAqICAgICAgICAgLy8gVGhlIG5leHQgYGF3YWl0IHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jYCBleHByZXNzaW9uIHdpbGwgbGV0IHVzIGVudGVyIGFub3RoZXIgUkFGIGNhbGxiYWNrLlxyXG4gKiAgICAgICAgIC8vIFRvIGV4aXQgdGhlIGN1cnJlbnQgUkFGIGNhbGxiYWNrIGFuZCBlbnRlciBhbm90aGVyIGFyYml0cmFyeSBhc3luY2hyb25vdXMgY2FsbGJhY2sgaW4gdGhlIHNhbWUgYXN5bmMgZnVuY3Rpb24sXHJcbiAqICAgICAgICAgLy8gVXNlIGB5aWVsZGVkKClgIG9yIGBkZWxheSgwKWAgZnJvbSBgXCJjb21tb25cImAgbW9kdWxlLlxyXG4gKiAgICAgfVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKi9cclxuLyoqICovXHJcbnZhciBwcmltaXRpdmVzXzEgPSByZXF1aXJlKFwiLi9wcmltaXRpdmVzXCIpO1xyXG4vKipcclxuICogR2V0cyBhIGBQcm9taXNlTGlrZWAgdGhhdCByZXNvbHZlcyBpbnNpZGUgYHdpbmRvdy5zZXRUaW1lb3V0YCBjYWxsYmFjay5cclxuICogQHBhcmFtIG1pbGxpc2Vjb25kcyB0aGUgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIGJlZm9yZSB0aGUgYFByb21pc2VMaWtlYCByZXNvbHZlcy5cclxuICogQHBhcmFtIGNhbmNlbGxhdGlvblRva2VuIGEgdG9rZW4gdXNlZCB0byBjYW5jZWwgdGhlIHRpbWVvdXQgd2l0aCBgd2luZG93LmNsZWFyVGltZW91dGAuXHJcbiAqIEByZXR1cm5zIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgd2luZG93LnNldFRpbWVvdXRgIGNhbGxiYWNrLlxyXG4gKiBSZXNvbHZlZCB2YWx1ZSBpcyB0aGUgdGltZW91dCBJRCByZXR1cm5lZCBmcm9tIGB3aW5kb3cuc2V0VGltZW91dGAuXHJcbiAqIEByZW1hcmtzIENvbXBhcmVkIHdpdGgge0BsaW5rIGRlbGF5fSwgdGhpcyBmdW5jdGlvbiBpcyBtb3JlIGxvdy1sZXZlbCBhbmQgeW91IHNob3VsZCBwcmVmZXIgdG9cclxuICogdXNlIHtAbGluayBkZWxheX0gd2hlbiBwb3NzaWJsZS5cclxuICovXHJcbmZ1bmN0aW9uIHNldFRpbWVvdXRBc3luYyhtaWxsaXNlY29uZHMsIGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgcGxycyA9IG5ldyBwcmltaXRpdmVzXzEuUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCk7XHJcbiAgICB2YXIgc3Vic2NyaXB0aW9uO1xyXG4gICAgdmFyIGlkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN1YnNjcmlwdGlvbiAmJiBzdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xyXG4gICAgICAgIHBscnMudHJ5UmVzb2x2ZShpZCk7XHJcbiAgICB9LCBtaWxsaXNlY29uZHMpO1xyXG4gICAgaWYgKGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChpZCk7XHJcbiAgICAgICAgICAgIHBscnMudHJ5Q2FuY2VsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGxycy5wcm9taXNlTGlrZTtcclxufVxyXG5leHBvcnRzLnNldFRpbWVvdXRBc3luYyA9IHNldFRpbWVvdXRBc3luYztcclxuLyoqXHJcbiAqIEdldHMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBjYWxsYmFjay5cclxuICogQHBhcmFtIGNhbmNlbGxhdGlvblRva2VuIGEgdG9rZW4gdXNlZCB0byBjYW5jZWwgdGhlIHRpbWVvdXQgd2l0aCBgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lYC5cclxuICogQHJldHVybnMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBjYWxsYmFjay5cclxuICogUmVzb2x2ZWQgdmFsdWUgY29udGFpbnMgUkFGIGNvbnRleHQuXHJcbiAqL1xyXG5mdW5jdGlvbiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYyhjYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4udGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gICAgdmFyIHBscnMgPSBuZXcgcHJpbWl0aXZlc18xLlByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgdmFyIHN1YnNjcmlwdGlvbjtcclxuICAgIHZhciBpZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKHRpbWUpIHtcclxuICAgICAgICBzdWJzY3JpcHRpb24gJiYgc3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlc29sdmUoeyBpZDogaWQsIHRpbWU6IHRpbWUgfSk7XHJcbiAgICB9KTtcclxuICAgIGlmIChjYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgICAgIHN1YnNjcmlwdGlvbiA9IGNhbmNlbGxhdGlvblRva2VuLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShpZCk7XHJcbiAgICAgICAgICAgIHBscnMudHJ5Q2FuY2VsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGxycy5wcm9taXNlTGlrZTtcclxufVxyXG5leHBvcnRzLnJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmM7XHJcbi8qKlxyXG4gKiBHZXRzIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2tgIGNhbGxiYWNrLlxyXG4gKiBJdCBiYXNpY2FsbHkgZXhlY3V0ZXMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlIEphdmFTY3JpcHQgZXZlbnQgbG9vcCBpcyBpZGxlLCBvciB0aGUgc3BlY2lmaWVkIHRpbWVvdXQgaGFzIHJlYWNoZWQuXHJcbiAqIEBwYXJhbSBvcHRpb25zIG9wdGlvbnMgcGFzc2VkIGludG8gYHJlcXVlc3RJZGxlQ2FsbGJhY2tgIGZ1bmN0aW9uLlxyXG4gKiBAcGFyYW0gY2FuY2VsbGF0aW9uVG9rZW4gYSB0b2tlbiB1c2VkIHRvIGNhbmNlbCB0aGUgdGltZW91dCB3aXRoIGB3aW5kb3cuY2FuY2VsSWRsZUNhbGxiYWNrYC5cclxuICogQHJldHVybnMgYSBgUHJvbWlzZUxpa2VgIHRoYXQgcmVzb2x2ZXMgaW5zaWRlIGB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFja2AgY2FsbGJhY2suXHJcbiAqIFJlc29sdmVkIHZhbHVlIGNvbnRhaW5zIHJlcXVlc3RJZGxlQ2FsbGJhY2sgY29udGV4dC5cclxuICogQGV4cGVyaW1lbnRhbCBVbmRlcmx5aW5nIGByZXF1ZXN0SWRsZUNhbGxiYWNrYCBmdW5jdGlvbiBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZS5cclxuICogU2VlIFtNRE4gZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9yZXF1ZXN0SWRsZUNhbGxiYWNrKSBmb3IgbW9yZSBpbmZvcm1hdGlvblxyXG4gKiBvbiBpdCBjb21wYXRpYmlsaXR5LlxyXG4gKi9cclxuZnVuY3Rpb24gcmVxdWVzdElkbGVDYWxsYmFja0FzeW5jKG9wdGlvbnMsIGNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBjYW5jZWxsYXRpb25Ub2tlbiAmJiBjYW5jZWxsYXRpb25Ub2tlbi50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCk7XHJcbiAgICB2YXIgcGxycyA9IG5ldyBwcmltaXRpdmVzXzEuUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlKCk7XHJcbiAgICB2YXIgc3Vic2NyaXB0aW9uO1xyXG4gICAgdmFyIGlkID0gd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2soZnVuY3Rpb24gKGRlYWRsaW5lKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZXNvbHZlKHsgaWQ6IGlkLCBkZWFkbGluZTogZGVhZGxpbmUgfSk7XHJcbiAgICB9LCBvcHRpb25zKTtcclxuICAgIGlmIChjYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgICAgIHN1YnNjcmlwdGlvbiA9IGNhbmNlbGxhdGlvblRva2VuLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jYW5jZWxJZGxlQ2FsbGJhY2soaWQpO1xyXG4gICAgICAgICAgICBwbHJzLnRyeUNhbmNlbCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBscnMucHJvbWlzZUxpa2U7XHJcbn1cclxuZXhwb3J0cy5yZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMgPSByZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmM7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbGF5ZWRDYWxsYmFja3MuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIENvbnRhaW5zIGZ1bmN0aW9ucyBmb3IgYXdhaXRhYmxlIEhUVFAgcmVxdWVzdC5cclxuICpcclxuICogQHNlZSB7QGxpbmsgc2VuZFJlcXVlc3R9XHJcbiAqL1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKiogKi9cclxudmFyIHByaW1pdGl2ZXNfMSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXNcIik7XHJcbnZhciBjYW5jZWxsYXRpb25fMSA9IHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXMvY2FuY2VsbGF0aW9uXCIpO1xyXG4vKipcclxuICogQW4gZXJyb3IgcmFpc2VzIHdoZW4gYW4gSFRUUCByZXF1ZXN0IGZhaWxzIGR1ZSB0byBuZXR3b3JrIHRyYW5zcG9ydGF0aW9uXHJcbiAqIG9yIHNlcnZlciByZXNwb25zZS5cclxuICovXHJcbnZhciBIdHRwUmVxdWVzdEVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEh0dHBSZXF1ZXN0RXJyb3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBIdHRwUmVxdWVzdEVycm9yKG1lc3NhZ2UpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyBcIlRoZSBIVFRQIHJlcXVlc3QgaGFzIGZhaWxlZC5cIiA6IG1lc3NhZ2UpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMubmFtZSA9IFwiSHR0cFJlcXVlc3RFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihfdGhpcywgSHR0cFJlcXVlc3RFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBIdHRwUmVxdWVzdEVycm9yO1xyXG59KEVycm9yKSk7XHJcbmV4cG9ydHMuSHR0cFJlcXVlc3RFcnJvciA9IEh0dHBSZXF1ZXN0RXJyb3I7XHJcbnZhciBYaHJSZXNwb25zZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFhoclJlc3BvbnNlKHhocikge1xyXG4gICAgICAgIHRoaXMueGhyID0geGhyO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IHRoaXMueGhyLnN0YXR1cztcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLnhoci5zdGF0dXNUZXh0O1xyXG4gICAgICAgIHRoaXMuaXNTdWNjZXNzZnVsU3RhdHVzQ29kZSA9IHRoaXMueGhyLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy54aHIuc3RhdHVzIDw9IDI5OTtcclxuICAgICAgICBjb25zb2xlLmFzc2VydCh4aHIpO1xyXG4gICAgfVxyXG4gICAgWGhyUmVzcG9uc2UucHJvdG90eXBlLmdldEhlYWRlciA9IGZ1bmN0aW9uIChoZWFkZXJOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKGhlYWRlck5hbWUpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShYaHJSZXNwb25zZS5wcm90b3R5cGUsIFwiYm9keVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnhoci5yZXNwb25zZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIFhoclJlc3BvbnNlLnByb3RvdHlwZS5lbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNTdWNjZXNzZnVsU3RhdHVzQ29kZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSHR0cFJlcXVlc3RFcnJvcihcIlRoZSBIVFRQIHJlc3BvbnNlIGNvZGUgXCIgKyB0aGlzLnN0YXR1c0NvZGUgKyBcIiBpbmRpY2F0ZXMgZmFpbHVyZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBYaHJSZXNwb25zZTtcclxufSgpKTtcclxuLyoqXHJcbiAqIFNlbmRzIGFuIEhUVFAgcmVxdWVzdCB3aXRoIGBYTUxIdHRwUmVxdWVzdGAuXHJcbiAqIEBwYXJhbSByZXF1ZXN0IHRoZSByZXF1ZXN0IHBhcmFtZXRlcnMuXHJcbiAqIEBwYXJhbSBjYW5jZWxsYXRpb25Ub2tlbiBhIHRva2VuIHVzZWQgdG8gY2FuY2VsIHRoZSBvcGVyYXRpb24gYW5kIGFib3J0IHRoZSBIVFRQIHJlcXVlc3QuXHJcbiAqIEByZXR1cm5zIGEgYFByb21pc2VMaWtlYCB0aGF0IHJlc29sdmVzIGluc2lkZSBgWE1MSHR0cFJlcXVlc3RgIGNhbGxiYWNrLlxyXG4gKiBAdGhyb3dzIHtAbGluayBQcm9taXNlQ2FuY2VsbGVkRXJyb3J9IGlmIHRoZSByZXF1ZXN0IGhhcyBlaXRoZXIgdGltZWQtb3V0LCBvciBjYW5jZWxsZWQgdmlhIGBjYW5jZWxsYXRpb25Ub2tlbmAuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZW5kUmVxdWVzdChyZXF1ZXN0LCBjYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4udGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgdmFyIHBscnMgPSBuZXcgcHJpbWl0aXZlc18xLlByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgdmFyIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbjtcclxuICAgIGlmIChyZXF1ZXN0LnVzZXJuYW1lICE9IG51bGwgfHwgcmVxdWVzdC5wYXNzd29yZCAhPSBudWxsKSB7XHJcbiAgICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlLCByZXF1ZXN0LnVzZXJuYW1lLCByZXF1ZXN0LnBhc3N3b3JkKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCk7XHJcbiAgICB9XHJcbiAgICAvLyBJbiBJRSB0aGUgdGltZW91dCBwcm9wZXJ0eSBtYXkgb25seSBiZSBzZXQgYWZ0ZXIgY2FsbGluZyBvcGVuIGFuZCBiZWZvcmUgY2FsbGluZyBzZW5kLlxyXG4gICAgaWYgKHJlcXVlc3QudGltZW91dCkge1xyXG4gICAgICAgIHhoci50aW1lb3V0ID0gcmVxdWVzdC50aW1lb3V0O1xyXG4gICAgfVxyXG4gICAgaWYgKHJlcXVlc3QuaGVhZGVycykge1xyXG4gICAgICAgIGZvciAodmFyIG5hbWVfMSBpbiByZXF1ZXN0LmhlYWRlcnMpIHtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3QuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShuYW1lXzEpKSB7XHJcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lXzEsIHJlcXVlc3QuaGVhZGVyc1tuYW1lXzFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChyZXF1ZXN0LnJlc3BvbnNlVHlwZSAhPSBudWxsKSB7XHJcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlcXVlc3QucmVzcG9uc2VUeXBlO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzICE9IG51bGwpIHtcclxuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gcmVxdWVzdC53aXRoQ3JlZGVudGlhbHM7XHJcbiAgICB9XHJcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHhoci5yZWFkeVN0YXRlID09IDQpOyAvLyBET05FXHJcbiAgICAgICAgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uICYmIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZXNvbHZlKG5ldyBYaHJSZXNwb25zZSh4aHIpKTtcclxuICAgIH07XHJcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjYW5jZWxsYXRpb25TdWJzY3JpcHRpb24gJiYgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTtcclxuICAgICAgICBwbHJzLnRyeVJlamVjdChuZXcgSHR0cFJlcXVlc3RFcnJvcihcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHNlbmRpbmcgdGhlIEhUVFAgcmVxdWVzdC5cIikpO1xyXG4gICAgfTtcclxuICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uICYmIGNhbmNlbGxhdGlvblN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XHJcbiAgICAgICAgcGxycy50cnlSZWplY3QobmV3IGNhbmNlbGxhdGlvbl8xLlByb21pc2VDYW5jZWxsZWRFcnJvcihcIkhUVFAgcmVxdWVzdCB0aW1lb3V0IGhhcyByZWFjaGVkLlwiKSk7XHJcbiAgICB9O1xyXG4gICAgY2FuY2VsbGF0aW9uU3Vic2NyaXB0aW9uID0gY2FuY2VsbGF0aW9uVG9rZW4gJiYgY2FuY2VsbGF0aW9uVG9rZW4uc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAocGxycy50cnlDYW5jZWwoKSkge1xyXG4gICAgICAgICAgICB4aHIuYWJvcnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHhoci5zZW5kKHJlcXVlc3QuYm9keSk7XHJcbiAgICByZXR1cm4gcGxycy5wcm9taXNlTGlrZTtcclxufVxyXG5leHBvcnRzLnNlbmRSZXF1ZXN0ID0gc2VuZFJlcXVlc3Q7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIEBkZXNjcmlwdGlvbiBUaGUgcm9vdCBtb2R1bGUgZXhwb3J0aW5nIGFsbCB0aGUgc3ViLW1vZHVsZSBtZW1iZXJzLlxyXG4gKi9cclxuZnVuY3Rpb24gX19leHBvcnQobSkge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqICovXHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2NvbW1vblwiKSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3ByaW1pdGl2ZXNcIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi9odHRwXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vZGVsYXllZENhbGxiYWNrc1wiKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgZXZlbnRFbWl0dGVyXzEgPSByZXF1aXJlKFwiLi9ldmVudEVtaXR0ZXJcIik7XHJcbnZhciBwcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2VfMSA9IHJlcXVpcmUoXCIuL3Byb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZVwiKTtcclxuLyoqXHJcbiAqIEFuIGVycm9yIHRoYXQgcmFpc2VzIHdoZW4gdGhlIGN1cnJlbnQgcHJvbWlzZSBoYXMgYmVlbiByZWplY3RlZCBkdWUgdG8gY2FuY2VsbGF0aW9uLlxyXG4gKlxyXG4gKiBAcmVtYXJrc1xyXG4gKiBFUzYgYFByb21pc2VgIGRvZXMgbm90IGhhdmUgY2FuY2VsbGF0aW9uIHN1cHBvcnQsXHJcbiAqIHNvIFRQTCB1c2VzIGByZWplY3RgIHdpdGgge0BsaW5rIFByb21pc2VDYW5jZWxsZWRFcnJvcn0gdG8gaW5kaWNhdGUgYSBjYW5jZWxsZWQgYFByb21pc2VgLlxyXG4gKi9cclxudmFyIFByb21pc2VDYW5jZWxsZWRFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQcm9taXNlQ2FuY2VsbGVkRXJyb3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBQcm9taXNlQ2FuY2VsbGVkRXJyb3IobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UgPT0gbnVsbCA/IFwiUHJvbWlzZSBleGVjdXRpb24gaGFzIGJlZW4gY2FuY2VsbGVkLlwiIDogbWVzc2FnZSkgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5uYW1lID0gXCJQcm9taXNlQ2FuY2VsbGVkRXJyb3JcIjtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIFByb21pc2VDYW5jZWxsZWRFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlQ2FuY2VsbGVkRXJyb3I7XHJcbn0oRXJyb3IpKTtcclxuZXhwb3J0cy5Qcm9taXNlQ2FuY2VsbGVkRXJyb3IgPSBQcm9taXNlQ2FuY2VsbGVkRXJyb3I7XHJcbnZhciBDYW5jZWxsYXRpb25Ub2tlbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENhbmNlbGxhdGlvblRva2VuKCkge1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbmNlbGxhdGlvblRva2VuLnByb3RvdHlwZSwgXCJpc0NhbmNlbGxhdGlvblJlcXVlc3RlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuX2NhbmNlbGxlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIENhbmNlbGxhdGlvblRva2VuLnByb3RvdHlwZS5fX2ludF9jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50LnJhaXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50LmNsZWFyTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25QbHJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBscnMudHJ5UmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9jYW5jZWxsZWQgPSB0cnVlO1xyXG4gICAgfTtcclxuICAgIENhbmNlbGxhdGlvblRva2VuLnByb3RvdHlwZS50aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFByb21pc2VDYW5jZWxsZWRFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlbi5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jYW5jZWxsYXRpb25FdmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25FdmVudCA9IG5ldyBldmVudEVtaXR0ZXJfMS5FdmVudEVtaXR0ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50LmFkZExpc3RlbmVyKGNhbGxiYWNrLCB0cnVlKTtcclxuICAgICAgICBpZiAodGhpcy5fY2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50LnJhaXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvbkV2ZW50LmNsZWFyTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbmNlbGxhdGlvblRva2VuLnByb3RvdHlwZSwgXCJwcm9taXNlTGlrZVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25QbHJzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25QbHJzID0gbmV3IHByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZV8xLlByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblBscnMudHJ5UmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWxsYXRpb25QbHJzLnByb21pc2VMaWtlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIENhbmNlbGxhdGlvblRva2VuO1xyXG59KCkpO1xyXG52YXIgY2FuY2VsbGVkVG9rZW4gPSBuZXcgQ2FuY2VsbGF0aW9uVG9rZW4oKTtcclxuY2FuY2VsbGVkVG9rZW4uX19pbnRfY2FuY2VsKCk7XHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGFuIG93bmVyIG9mIHtAbGluayBJQ2FuY2VsbGF0aW9uVG9rZW59IHRoYXQgY2FuIGluaXRpYXRlcyB0aGUgY2FuY2VsbGF0aW9uLlxyXG4gKi9cclxudmFyIENhbmNlbGxhdGlvblRva2VuU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gY2FuY2VsQWZ0ZXJEZWxheSBBdXRvbWF0aWNhbGx5IHJlcXVlc3RzIGNhbmNlbGxhdGlvbiBhZnRlciB0aGUgc3BlY2lmaWVkIG5vbi1uZWdhdGl2ZSB0aW1lIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UoY2FuY2VsQWZ0ZXJEZWxheSkge1xyXG4gICAgICAgIGlmIChjYW5jZWxBZnRlckRlbGF5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWxBZnRlcihjYW5jZWxBZnRlckRlbGF5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UucHJvdG90eXBlLCBcImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkXCIsIHtcclxuICAgICAgICAvKiogV2hldGhlciB0aGUgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC4gKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4gJiYgdGhpcy5fY2FuY2VsbGF0aW9uVG9rZW4uaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYXRlcyBjYW5jZWxsYXRpb24gaWYgaXQgaGFzIG5vdCBiZWVuIHJlcXVlc3RlZCB5ZXQuXHJcbiAgICAgKiBOb3RpZmllcyB0aGUgZGVyaXZlZCBgSUNhbmNlbGxhdGlvblRva2VuYCBvZiB0aGUgY2FuY2VsbGF0aW9uLlxyXG4gICAgICovXHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbi5fX2ludF9jYW5jZWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbGxhdGlvblRva2VuID0gY2FuY2VsbGVkVG9rZW47XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhdGVzIGNhbmNlbGxhdGlvbiBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5LlxyXG4gICAgICogQHBhcmFtIGRlbGF5IHRoZSBub24tbmVnYXRpdmUgdGltZSBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgaW5pdGlhdGluZyB0aGUgY2FuY2VsbGF0aW9uLlxyXG4gICAgICovXHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5wcm90b3R5cGUuY2FuY2VsQWZ0ZXIgPSBmdW5jdGlvbiAoZGVsYXkpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChkZWxheSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJkZWxheSAoYXJnIzEpIHNob3VsZCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGVsYXkgPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBfdGhpcy5jYW5jZWwoKTsgfSwgZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UucHJvdG90eXBlLCBcInRva2VuXCIsIHtcclxuICAgICAgICAvKiogR2V0cyB0aGUgZGVyaXZlZCBgSUNhbmNlbGxhdGlvblRva2VuYCBmcm9tIHRoaXMgdG9rZW4gc291cmNlLiAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbiA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYW5jZWxsYXRpb25Ub2tlbjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhIGBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZWAgdGhhdCBnZXRzIGNhbmNlbGxlZCB3aGVuIGFueSBvZiB0aGUgc3BlY2lmaWVkIGBJQ2FuY2VsbGF0aW9uVG9rZW5gIGdldHMgY2FuY2VsbGVkLlxyXG4gICAgICogQHBhcmFtIGNhbmNlbGxhdGlvblRva2VucyBPbmUgb3IgbW9yZSB1bmRlcmx5aW5nIGBJQ2FuY2VsbGF0aW9uVG9rZW5gLlxyXG4gICAgICovXHJcbiAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZS5yYWNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjYW5jZWxsYXRpb25Ub2tlbnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBjYW5jZWxsYXRpb25Ub2tlbnNbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGN0cyA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSgpO1xyXG4gICAgICAgIHZhciBjYW5jZWxsYXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsgY3RzLmNhbmNlbCgpOyB9O1xyXG4gICAgICAgIGZvciAodmFyIF9hID0gMCwgY2FuY2VsbGF0aW9uVG9rZW5zXzEgPSBjYW5jZWxsYXRpb25Ub2tlbnM7IF9hIDwgY2FuY2VsbGF0aW9uVG9rZW5zXzEubGVuZ3RoOyBfYSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IGNhbmNlbGxhdGlvblRva2Vuc18xW19hXTtcclxuICAgICAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbi5zdWJzY3JpYmUoY2FuY2VsbGF0aW9uQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdHM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENhbmNlbGxhdGlvblRva2VuU291cmNlO1xyXG59KCkpO1xyXG5leHBvcnRzLkNhbmNlbGxhdGlvblRva2VuU291cmNlID0gQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2U7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbmNlbGxhdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogQ29tYmluZXMge0BsaW5rIElEaXNwb3NhYmxlfSBpbnN0YW5jZXMuXHJcbiAqIEBwYXJhbSBkaXNwb3NhYmxlcyAwLCAxLCBvciBtb3JlIGluc3RhbmNlcyB0byBiZSBjb21iaW5lZC5cclxuICogQHJldHVybnMgYW4ge0BsaW5rIElEaXNwb3NhYmxlfSB0aGF0IGRpc3Bvc2VzIHRoZSBnaXZlbiBpbnN0YW5jZXMgd2hlbiB7QGxpbmsgSURpc3Bvc2FibGUuZGlzcG9zZX0gaXMgY2FsbGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gY29tYmluZURpc3Bvc2FibGUoKSB7XHJcbiAgICB2YXIgZGlzcG9zYWJsZXMgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgZGlzcG9zYWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkaXNwb3NhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmRpc3Bvc2UoKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5leHBvcnRzLmNvbWJpbmVEaXNwb3NhYmxlID0gY29tYmluZURpc3Bvc2FibGU7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3Bvc2FibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSYXdWYWx1ZUVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJhd1ZhbHVlRXJyb3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSYXdWYWx1ZUVycm9yKHJhd1ZhbHVlLCBpbm5lcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucmF3VmFsdWUgPSByYXdWYWx1ZTtcclxuICAgICAgICBfdGhpcy5pbm5lciA9IGlubmVyO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBcIlJhd1ZhbHVlRXJyb3JcIjtcclxuICAgICAgICBfdGhpcy5nZXRCYXNlRXJyb3IgPSBnZXRCYXNlRXJyb3I7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBSYXdWYWx1ZUVycm9yKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmF3VmFsdWVFcnJvcjtcclxufShFcnJvcikpO1xyXG5mdW5jdGlvbiBnZXRCYXNlRXJyb3IoKSB7XHJcbiAgICB2YXIgY3VycmVudCA9IHRoaXM7XHJcbiAgICB3aGlsZSAoY3VycmVudC5pbm5lciAhPSBudWxsKSB7XHJcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuaW5uZXI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3VycmVudDtcclxufVxyXG5mdW5jdGlvbiBzZXRJbm5lckVycm9yKGVycm9yLCBpbm5lcikge1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyb3IsIFwiaW5uZXJcIiwgeyB2YWx1ZTogaW5uZXIsIHdyaXRhYmxlOiBmYWxzZSB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyb3IsIFwiZ2V0QmFzZUVycm9yXCIsIHsgdmFsdWU6IGdldEJhc2VFcnJvciwgd3JpdGFibGU6IGZhbHNlIH0pO1xyXG4gICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmF3VmFsdWVFcnJvcihlcnJvciwgaW5uZXIpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuc2V0SW5uZXJFcnJvciA9IHNldElubmVyRXJyb3I7XHJcbnZhciBBZ2dyZWdhdGVFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBZ2dyZWdhdGVFcnJvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEFnZ3JlZ2F0ZUVycm9yKG1lc3NhZ2UpIHtcclxuICAgICAgICB2YXIgZXJyb3JzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgZXJyb3JzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBcIlJhd1ZhbHVlRXJyb3JcIjtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIEFnZ3JlZ2F0ZUVycm9yKTtcclxuICAgICAgICBfdGhpcy5pbm5lckVycm9ycyA9IGVycm9ycy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUgIT0gbnVsbDsgfSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQWdncmVnYXRlRXJyb3IucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcclxuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMpO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmlubmVyRXJyb3JzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgZSA9IF9hW19pXTtcclxuICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBlKTtcclxuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBZ2dyZWdhdGVFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgZS5mb3JFYWNoKGNhbGxiYWNrLCB0aGlzQXJnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQWdncmVnYXRlRXJyb3I7XHJcbn0oRXJyb3IpKTtcclxuZXhwb3J0cy5BZ2dyZWdhdGVFcnJvciA9IEFnZ3JlZ2F0ZUVycm9yO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSBzaW1wbGUgcHViLXN1YiBldmVudC5cclxuICogQHR5cGVkZWYgVCB0eXBlIG9mIHRoZSBldmVudCBwYXlsb2FkLlxyXG4gKi9cclxudmFyIEV2ZW50RW1pdHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcclxuICAgIH1cclxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIsIGlzQXN5bmMsIHRoaXNBcmcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBpdGVtID0geyBwcmV2OiB0aGlzLnRhaWwsIGNhbGxiYWNrOiBsaXN0ZW5lci5iaW5kKHRoaXNBcmcpLCBpc0FzeW5jOiBpc0FzeW5jIH07XHJcbiAgICAgICAgaWYgKCF0aGlzLmhlYWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoIXRoaXMudGFpbCk7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IGl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRhaWwpIHtcclxuICAgICAgICAgICAgdGhpcy50YWlsLm5leHQgPSBpdGVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRhaWwgPSBpdGVtO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ucHJldikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChpdGVtLnByZXYubmV4dCA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucHJldi5uZXh0ID0gaXRlbS5uZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoX3RoaXMuaGVhZCA9PT0gaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhlYWQgPSBpdGVtLm5leHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoaXRlbS5uZXh0LnByZXYgPT09IGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm5leHQucHJldiA9IGl0ZW0ucHJldjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KF90aGlzLnRhaWwgPT09IGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50YWlsID0gaXRlbS5wcmV2O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpdGVtID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJhaXNlcyB0aGUgZXZlbnQsIGNhbGxpbmcgYWxsIHRoZSBldmVudCBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhpcyBldmVudCBpbnN0YW5jZS5cclxuICAgICAqIEBwYXJhbSBhcmcgdGhlIGV2ZW50IHBheWxvYWQuXHJcbiAgICAgKi9cclxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmFpc2UgPSBmdW5jdGlvbiAoYXJnKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmhlYWQ7XHJcbiAgICAgICAgdmFyIGhhbmRsZXJzID0gW107XHJcbiAgICAgICAgdmFyIHJlc29sdmVkUHJvbWlzZTtcclxuICAgICAgICAvLyBQYXNzIDE6IGZyZWV6ZSBldmVudCBoYW5kbGVycyB0byBiZSBjYWxsZWQuXHJcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgaGFuZGxlcnMucHVzaChbY3VycmVudC5jYWxsYmFjaywgISFjdXJyZW50LmlzQXN5bmNdKTtcclxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUGFzcyAyOiBjYWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgaGFuZGxlcnNfMSA9IGhhbmRsZXJzOyBfaSA8IGhhbmRsZXJzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IGhhbmRsZXJzXzFbX2ldLCBoYW5kbGVyID0gX2FbMF0sIGlzQXN5bmMgPSBfYVsxXTtcclxuICAgICAgICAgICAgaWYgKGlzQXN5bmMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWRQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGFyZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlZFByb21pc2UudGhlbihoYW5kbGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZXIoYXJnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycy5cclxuICAgICAqL1xyXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5jbGVhckxpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcclxufSgpKTtcclxuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50RW1pdHRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuZnVuY3Rpb24gX19leHBvcnQobSkge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vY2FuY2VsbGF0aW9uXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vZGlzcG9zYWJsZVwiKSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2Vycm9yc1wiKSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2V2ZW50RW1pdHRlclwiKSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3Byb21pc2VSZXNvbHV0aW9uU291cmNlXCIpKTtcclxuX19leHBvcnQocmVxdWlyZShcIi4vcHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlXCIpKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKlxyXG4gKiBAbW9kdWxlXHJcbiAqIFByb3ZpZGVzIGBQcm9taXNlTGlrZWAgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgZnJvbSBvdXRzaWRlLlxyXG4gKiBAc2VlIHtAbGluayBJQ29uZmlndXJhYmxlUHJvbWlzZUxpa2V9XHJcbiAqIEBzZWUge0BsaW5rIFByb21pc2VSZXNvbHV0aW9uU291cmNlfVxyXG4gKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKiogKi9cclxudmFyIGNhbmNlbGxhdGlvbl8xID0gcmVxdWlyZShcIi4vY2FuY2VsbGF0aW9uXCIpO1xyXG52YXIgcHJvbWlzZVJlc29sdXRpb25Tb3VyY2VfMSA9IHJlcXVpcmUoXCIuL3Byb21pc2VSZXNvbHV0aW9uU291cmNlXCIpO1xyXG4vKipcclxuICogUmVzb2x2ZXMgb3IgcmVqZWN0cyBhIGBQcm9taXNlTGlrZWAgZnJvbSBvdXRzaWRlIG9mIGl0LlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIGlzIHNpZ25pZmljYW50bHkgZGlmZmVyZW50IGZyb20ge0BsaW5rIFByb21pc2VSZXNvbHV0aW9uU291cmNlfVxyXG4gKiBpbiB0aGUgd2F5IHRoYXQgaXQgZW5zdXJlcyB3aGVuIHtAbGluayB0cnlSZXNvbHZlfSwge0BsaW5rIHRyeUNhbmNlbH0sIG9yIHtAbGluayB0cnlSZWplY3R9XHJcbiAqIGlzIGNhbGxlZCwgdGhlIGNvbnRpbnVhdGlvbiBjYWxsYmFja3MgYXNzb2NpYXRlZCB3aXRoIGBQcm9taXNlTGlrZWAgYXJlIGV4ZWN1dGVkICpzeW5jaHJvbm91c2x5Ki5cclxuICogSG93ZXZlciwgZG93bnN0cmVhbSBjb25zdW1lcnMgYXJlIHN0aWxsIGFibGUgdG8gbGV0IHRoZWlyIGNvbnRpbnVhdGlvbiBjYWxsYmFja3MgZXhlY3V0ZSBhc3luY2hyb25vdXNseS5cclxuICogU2VlIHtAbGluayBJQ29uZmlndXJhYmxlUHJvbWlzZUxpa2V9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gKlxyXG4gKiBUaGlzIGNsYXNzIGlzIHNpbWlsYXIgdG8gYERlZmVycmVkYCBidXQgaXQgZXhwbGljaXRseSBzZXBhcmF0ZXNcclxuICogdGhlIHByb21pc2UgYW5kIGl0cyBjb250cm9sIHNpZGUgaW50byB0d28gZGlmZmVyZW50IG9iamVjdHMuXHJcbiAqXHJcbiAqIEB0eXBlcGFyYW0gVCB0eXBlIG9mIHRoZSBwcm9taXNlIHJlc29sdXRpb24gcmVzdWx0LlxyXG4gKi9cclxudmFyIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZSgpIHtcclxuICAgIH1cclxuICAgIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUuX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9wcm9taXNlTGlrZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9taXNlTGlrZSA9IG5ldyBTeW5jaHJvbm91c1Byb21pc2VMaWtlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLCBcInByb21pc2VMaWtlXCIsIHtcclxuICAgICAgICAvKiogR2V0cyB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgIGNvbnRyb2xsZWQgYnkgdGhlIGN1cnJlbnQgaW5zdGFuY2UuICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VMaWtlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2VMaWtlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTeW5jaHJvbm91c2x5IHJlc29sdmVzIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgd2l0aCB0aGUgc3BlY2lmaWVkIHJlc3VsdC5cclxuICAgICAqIEBwYXJhbSByZXN1bHQgdGhlIHJlc29sdXRpb24gcmVzdWx0LCBvciBhIGBQcm9taXNlTGlrZWAgdGhhdCBjYW4gYmUgZnVydGhlcmx5ICpyZXNvbHZlZCouXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCBoYXMganVzdCBiZWVuICpyZXNvbHZlZCo7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlTGlrZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlc29sdmUgPSBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUxpa2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9wcm9taXNlTGlrZS4kX19pbnRfX3NldHRsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9wcm9taXNlTGlrZS4kX19pbnRfX2Z1bGZpbGwocmVzdWx0KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN5bmNocm9ub3VzbHkgY2FuY2VscyB0aGUgZGVyaXZlZCBgUHJvbWlzZUxpa2VgLlxyXG4gICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBkZXJpdmVkIGBQcm9taXNlTGlrZWAgaGFzIGp1c3QgYmVlbiAqcmVqZWN0ZWQqIHdpdGggYFByb21pc2VDYW5jZWxsZWRFcnJvcmA7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlTGlrZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeUNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlTGlrZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fc2V0dGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fcmVqZWN0KG5ldyBjYW5jZWxsYXRpb25fMS5Qcm9taXNlQ2FuY2VsbGVkRXJyb3IoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTeW5jaHJvbm91c2x5IHJlamVjdHMgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCB3aXRoIHRoZSBzcGVjaWZpZWQgcmFzb24uXHJcbiAgICAgKiBAcGFyYW0gcmVhc29uIHRoZSByZWplY3Rpb24gcmVhc29uLCBvciB0aGUgYEVycm9yYCBjYXVzaW5nIHRoZSByZWplY3Rpb24uXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VMaWtlYCBoYXMganVzdCBiZWVuICpyZWplY3RlZCo7XHJcbiAgICAgKiBvdGhlcndpc2UgaXQgbWVhbnMgdGhlIGBQcm9taXNlTGlrZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlTGlrZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fc2V0dGxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Byb21pc2VMaWtlLiRfX2ludF9fcmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZTtcclxufSgpKTtcclxuZXhwb3J0cy5Qcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2UgPSBQcm9taXNlTGlrZVJlc29sdXRpb25Tb3VyY2U7XHJcbnZhciBTeW5jaHJvbm91c1Byb21pc2VMaWtlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU3luY2hyb25vdXNQcm9taXNlTGlrZShfb25mdWxmaWxsZWQsIF9vbnJlamVjdGVkKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9vbmZ1bGZpbGxlZCA9IF9vbmZ1bGZpbGxlZDtcclxuICAgICAgICB0aGlzLl9vbnJlamVjdGVkID0gX29ucmVqZWN0ZWQ7XHJcbiAgICAgICAgdGhpcy5mdWxmaWxsTmV4dCA9IGZ1bmN0aW9uIChuZXh0UmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UmVzdWx0ICYmIHR5cGVvZiBuZXh0UmVzdWx0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBuZXh0UmVzdWx0LnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgbmV4dFJlc3VsdC50aGVuKF90aGlzLmZ1bGZpbGxOZXh0LCBfdGhpcy5yZWplY3ROZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hc255Y1Bycykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFzbnljUHJzLnRyeVJlc29sdmUobmV4dFJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfdGhpcy5uZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5uZXh0OyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaS4kX19pbnRfX2Z1bGZpbGwobmV4dFJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIF90aGlzLm5leHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU2V0dGxlZCBQcm9taXNlTGlrZSBzaG91bGQgbm90IGJlIHJlc29sdmVkIGZ1cnRoZXJtb3JlLlwiLCBfdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMubmV4dCA9IFwicmVzb2x2ZWRcIjtcclxuICAgICAgICAgICAgX3RoaXMucmVzdWx0ID0gbmV4dFJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucmVqZWN0TmV4dCA9IGZ1bmN0aW9uIChuZXh0UmVhc29uKSB7XHJcbiAgICAgICAgICAgIGlmIChuZXh0UmVhc29uICYmIHR5cGVvZiBuZXh0UmVhc29uID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBuZXh0UmVhc29uLnRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgbmV4dFJlYXNvbi50aGVuKF90aGlzLmZ1bGZpbGxOZXh0LCBfdGhpcy5yZWplY3ROZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hc255Y1Bycykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFzbnljUHJzLnRyeVJlamVjdChuZXh0UmVhc29uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF90aGlzLm5leHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLm5leHQ7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpLiRfX2ludF9fcmVqZWN0KG5leHRSZWFzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBfdGhpcy5uZXh0ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNldHRsZWQgUHJvbWlzTGlrZSBzaG91bGQgbm90IGJlIHJlamVjdGVkIGZ1cnRoZXJtb3JlLlwiLCBfdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMubmV4dCA9IFwicmVqZWN0ZWRcIjtcclxuICAgICAgICAgICAgX3RoaXMucmVzdWx0ID0gbmV4dFJlYXNvbjtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLCBcIiRfX2ludF9fc2V0dGxlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5uZXh0ID09PSBcInN0cmluZ1wiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLy8gTm90ZTogVE5leHQgfCBQcm9taXNlTGlrZTxUTmV4dD4gaXMgb25seSB1c2VkIHdoZW4gVFByZXYgPT0gVE5leHRcclxuICAgIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLiRfX2ludF9fZnVsZmlsbCA9IGZ1bmN0aW9uIChwcmV2UmVzdWx0KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm5leHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNldHRsZWQgUHJvbWlzZUxpa2Ugc2hvdWxkIG5vdCBiZSByZXNvbHZlZCBmdXJ0aGVybW9yZS5cIiwgdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25mdWxmaWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGZ1bGZpbGwgY3VycmVudCBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX29uZnVsZmlsbGVkKHByZXZSZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgLy8gbm90aWZ5IG5leHQgUHJvbWlzZUxpa2UocylcclxuICAgICAgICAgICAgICAgIHRoaXMuZnVsZmlsbE5leHQocmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnVsZmlsbE5leHQocHJldlJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIEVycm9yIHJhaXNlZCB3aGlsZSBleGVjdXRpbmcgb25mdWxmaWxsZWQgY2FsbGJhY2suXHJcbiAgICAgICAgICAgIC8vIE5leHQgUHJvbWlzZUxpa2VzIHNob3VsZCBiZSByZWplY3RlZC5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX29ucmVqZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0TmV4dChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU3luY2hyb25vdXNQcm9taXNlTGlrZS5wcm90b3R5cGUuJF9faW50X19yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm5leHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlNldHRsZWQgUHJvbWlzZUxpa2Ugc2hvdWxkIG5vdCBiZSByZXNvbHZlZCBmdXJ0aGVybW9yZS5cIiwgdGhpcy5uZXh0KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb25yZWplY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX29ucmVqZWN0ZWQocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZnVsZmlsbE5leHQocmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0TmV4dChyZWFzb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvLyBFcnJvciByYWlzZWQgd2hpbGUgZXhlY3V0aW5nIG9ucmVqZWN0ZWQgY2FsbGJhY2suXHJcbiAgICAgICAgICAgIC8vIE5leHQgUHJvbWlzZUxpa2VzIHNob3VsZCBiZSByZWplY3RlZC5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX29ucmVqZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0TmV4dChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5jYXVnaHQgU3luY2hyb25vdXNQcm9taXNlTGlrZSByZWplY3Rpb246ICVvXCIsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTeW5jaHJvbm91c1Byb21pc2VMaWtlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XHJcbiAgICAgICAgdmFyIG5leHQgPSBuZXcgU3luY2hyb25vdXNQcm9taXNlTGlrZShvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLm5leHQpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0ID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMubmV4dCkpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0LnB1c2gobmV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMubmV4dCA9PT0gXCJyZXNvbHZlZFwiKSB7XHJcbiAgICAgICAgICAgIG5leHQuJF9faW50X19mdWxmaWxsKHRoaXMucmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5uZXh0ID09PSBcInJlamVjdGVkXCIpIHtcclxuICAgICAgICAgICAgbmV4dC4kX19pbnRfX3JlamVjdCh0aGlzLnJlc3VsdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBzdGF0ZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfTtcclxuICAgIFN5bmNocm9ub3VzUHJvbWlzZUxpa2UucHJvdG90eXBlLmZvcmNlQXN5bmMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXNueWNQcnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXNueWNQcnMucHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubmV4dCA9PT0gXCJyZXNvbHZlZFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5yZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLm5leHQgPT09IFwicmVqZWN0ZWRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodGhpcy5yZXN1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoIXRoaXMubmV4dCB8fCBBcnJheS5pc0FycmF5KHRoaXMubmV4dCkpO1xyXG4gICAgICAgICAgICB0aGlzLmFzbnljUHJzID0gbmV3IHByb21pc2VSZXNvbHV0aW9uU291cmNlXzEuUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXNueWNQcnMucHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN5bmNocm9ub3VzUHJvbWlzZUxpa2U7XHJcbn0oKSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb21pc2VMaWtlUmVzb2x1dGlvblNvdXJjZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBtb2R1bGVcclxuICogUHJvdmlkZXMgYFByb21pc2VgIHRoYXQgY2FuIGJlIHJlc29sdmVkIGZyb20gb3V0c2lkZS5cclxuICogQHNlZSB7QGxpbmsgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2V9XHJcbiAqL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKiAqL1xyXG52YXIgY2FuY2VsbGF0aW9uXzEgPSByZXF1aXJlKFwiLi9jYW5jZWxsYXRpb25cIik7XHJcbi8qKlxyXG4gKiBSZXNvbHZlcyBvciByZWplY3RzIGEgYFByb21pc2VgIGZyb20gb3V0c2lkZSBvZiBpdC5cclxuICpcclxuICogVGhpcyBjbGFzcyBpcyBzaW1pbGFyIHRvIGBEZWZlcnJlZGAgYnV0IGl0IGV4cGxpY2l0bHkgc2VwYXJhdGVzXHJcbiAqIHRoZSBwcm9taXNlIGFuZCBpdHMgY29udHJvbCBzaWRlIGludG8gdHdvIGRpZmZlcmVudCBvYmplY3RzLlxyXG4gKlxyXG4gKiBAdHlwZXBhcmFtIFQgdHlwZSBvZiB0aGUgcHJvbWlzZSByZXNvbHV0aW9uIHJlc3VsdC5cclxuICogQHNlZSB7QGxpbmsgUHJvbWlzZUxpa2VSZXNvbHV0aW9uU291cmNlfVxyXG4gKi9cclxudmFyIFByb21pc2VSZXNvbHV0aW9uU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UoKSB7XHJcbiAgICB9XHJcbiAgICBQcm9taXNlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUuX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLl9wcm9taXNlID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jlc29sdmUgPSByZXM7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVqZWN0ID0gcmVqO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb21pc2VSZXNvbHV0aW9uU291cmNlLnByb3RvdHlwZSwgXCJwcm9taXNlXCIsIHtcclxuICAgICAgICAvKiogR2V0cyB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgY29udHJvbGxlZCBieSB0aGUgY3VycmVudCBpbnN0YW5jZS4gKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNvbHZlcyB0aGUgZGVyaXZlZCBgUHJvbWlzZWAgd2l0aCB0aGUgc3BlY2lmaWVkIHJlc3VsdC5cclxuICAgICAqIEBwYXJhbSByZXN1bHQgdGhlIHJlc29sdXRpb24gcmVzdWx0LCBvciBhIGBQcm9taXNlTGlrZWAgdGhhdCBjYW4gYmUgZnVydGhlcmx5ICpyZXNvbHZlZCouXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VgIGhhcyBqdXN0IGJlZW4gKnJlc29sdmVkKjtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VgIGhhcyBhbHJlYWR5IGJlZW4gKnNldHRsZWQqIGJlZm9yZS5cclxuICAgICAqL1xyXG4gICAgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlc29sdmUgPSBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgdGhpcy5fZW5zdXJlUHJvbWlzZUluaXRpYWxpemVkKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX3Jlc29sdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gdGhpcy5fcmVqZWN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FuY2VscyB0aGUgZGVyaXZlZCBgUHJvbWlzZWAuXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VgIGhhcyBqdXN0IGJlZW4gKnJlamVjdGVkKiB3aXRoIGBQcm9taXNlQ2FuY2VsbGVkRXJyb3JgO1xyXG4gICAgICogb3RoZXJ3aXNlIGl0IG1lYW5zIHRoZSBgUHJvbWlzZWAgaGFzIGFscmVhZHkgYmVlbiAqc2V0dGxlZCogYmVmb3JlLlxyXG4gICAgICovXHJcbiAgICBQcm9taXNlUmVzb2x1dGlvblNvdXJjZS5wcm90b3R5cGUudHJ5Q2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX2Vuc3VyZVByb21pc2VJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9yZWplY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVqZWN0KG5ldyBjYW5jZWxsYXRpb25fMS5Qcm9taXNlQ2FuY2VsbGVkRXJyb3IoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSB0aGlzLl9yZWplY3QgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWplY3RzIHRoZSBkZXJpdmVkIGBQcm9taXNlYCB3aXRoIHRoZSBzcGVjaWZpZWQgcmFzb24uXHJcbiAgICAgKiBAcGFyYW0gcmVhc29uIHRoZSByZWplY3Rpb24gcmVhc29uLCBvciB0aGUgYEVycm9yYCBjYXVzaW5nIHRoZSByZWplY3Rpb24uXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGRlcml2ZWQgYFByb21pc2VgIGhhcyBqdXN0IGJlZW4gKnJlamVjdGVkKjtcclxuICAgICAqIG90aGVyd2lzZSBpdCBtZWFucyB0aGUgYFByb21pc2VgIGhhcyBhbHJlYWR5IGJlZW4gKnNldHRsZWQqIGJlZm9yZS5cclxuICAgICAqL1xyXG4gICAgUHJvbWlzZVJlc29sdXRpb25Tb3VyY2UucHJvdG90eXBlLnRyeVJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICB0aGlzLl9lbnN1cmVQcm9taXNlSW5pdGlhbGl6ZWQoKTtcclxuICAgICAgICBpZiAodGhpcy5fcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdChyZWFzb24pO1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gdGhpcy5fcmVqZWN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm9taXNlUmVzb2x1dGlvblNvdXJjZTtcclxufSgpKTtcclxuZXhwb3J0cy5Qcm9taXNlUmVzb2x1dGlvblNvdXJjZSA9IFByb21pc2VSZXNvbHV0aW9uU291cmNlO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlUmVzb2x1dGlvblNvdXJjZS5qcy5tYXAiLCJpbXBvcnQge1xyXG4gICAgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UsIGRlbGF5LCBJQ2FuY2VsbGF0aW9uVG9rZW4sIElSZXF1ZXN0UGFyYW1zLFxyXG4gICAgUHJvbWlzZUNhbmNlbGxlZEVycm9yLCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luYywgcmVxdWVzdElkbGVDYWxsYmFja0FzeW5jLFxyXG4gICAgc2VuZFJlcXVlc3QsIHlpZWxkZWRcclxufSBmcm9tIFwidGFza2xpa2UtcHJvbWlzZS1saWJyYXJ5XCI7XHJcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kdXBsaWNhdGUtaW1wb3J0c1xyXG5pbXBvcnQgKiBhcyB0cGxBbWJpZW50IGZyb20gXCJ0YXNrbGlrZS1wcm9taXNlLWxpYnJhcnlcIjtcclxuXHJcbmZ1bmN0aW9uICQ8VCBleHRlbmRzIEhUTUxFbGVtZW50PihzZWxlY3Rvcjogc3RyaW5nLCBzY29wZT86IEhUTUxFbGVtZW50KTogVCB8IG51bGwge1xyXG4gICAgaWYgKHNjb3BlKSB7XHJcbiAgICAgICAgcmV0dXJuIHNjb3BlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIGFzIFQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgVDtcclxufVxyXG5cclxuZnVuY3Rpb24gb25Mb2FkKCkge1xyXG4gICAgJChcIiN0cGwteWllbGRlZC1ydW5cIikhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBydW5EZW1vKGRlbW9ZaWVsZCwgXCIjdHBsLXlpZWxkZWQtcGFuZWxcIikpO1xyXG4gICAgJChcIiN0cGwtZGVsYXktcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vRGVsYXksIFwiI3RwbC1kZWxheS1wYW5lbFwiLCBcIiN0cGwtZGVsYXktY2FuY2VsXCIpKTtcclxuICAgICQoXCIjdHBsLXNlbmRyZXF1ZXN0LXJ1blwiKSEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHJ1bkRlbW8oZGVtb0h0dHAsIFwiI3RwbC1zZW5kcmVxdWVzdC1wYW5lbFwiLCBcIiN0cGwtc2VuZHJlcXVlc3QtY2FuY2VsXCIpKTtcclxuICAgICQoXCIjdHBsLXJlcXVlc3RpY2ItcnVuXCIpIS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcnVuRGVtbyhkZW1vUmVxdWVzdElkbGVDYWxsYmFja0FzeW5jLCBcIiN0cGwtcmVxdWVzdGljYi1wYW5lbFwiLCBcIiN0cGwtcmVxdWVzdGljYi1jYW5jZWxcIikpO1xyXG4gICAgJChcIiN0cGwtcmVxdWVzdGFmLXJ1blwiKSEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHJ1bkRlbW8oZGVtb1JlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jLCBcIiN0cGwtcmVxdWVzdGFmLXBhbmVsXCIsIFwiI3RwbC1yZXF1ZXN0YWYtY2FuY2VsXCIpKTtcclxuICAgIC8vIEV4cG9zZSBUUEwgbGlicmFyeSB0byB0aGUgZGVidWdnZXIgY29uc29sZS5cclxuICAgICh3aW5kb3cgYXMgdW5rbm93biBhcyB7IFRQTDogdHlwZW9mIHRwbEFtYmllbnQgfSkuVFBMID0gdHBsQW1iaWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYnVpbGRFcnJvclBhbmVsKGVycm9yOiB1bmtub3duKSB7XHJcbiAgICBjb25zdCBlcnJCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgZXJyQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcclxuICAgIGVyckJveC5pbm5lclRleHQgPSBlcnJvciAmJiAoZXJyb3IgYXMgeyBzdGFjaz86IHN0cmluZyB9KS5zdGFjayB8fCBTdHJpbmcoZXJyb3IpO1xyXG4gICAgcmV0dXJuIGVyckJveDtcclxufVxyXG5cclxuZnVuY3Rpb24gYXBwZW5kTGluZShjb250YWluZXI6IEhUTUxFbGVtZW50LCBjb250ZW50OiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGxpbmUuaW5uZXJUZXh0ID0gY29udGVudDtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChsaW5lKTtcclxuICAgIHJldHVybiBsaW5lO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBydW5EZW1vKFxyXG4gICAgZGVtb0Z1bmM6IChwYW5lbDogSFRNTEVsZW1lbnQsIGNhbmNlbGxhdGlvblRva2VuPzogSUNhbmNlbGxhdGlvblRva2VuKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPixcclxuICAgIHBhbmVsU2VsZWN0b3I6IHN0cmluZyxcclxuICAgIGNhbmNlbGxhdGlvbkJ1dHRvblNlbGVjdG9yPzogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBjdHMgPSBuZXcgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UoKTtcclxuICAgIGNvbnN0IG9uQ2FuY2VsID0gKCkgPT4geyBjdHMuY2FuY2VsKCk7IH07XHJcbiAgICBjb25zdCBwYW5lbCA9ICQocGFuZWxTZWxlY3RvcikhO1xyXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gY2FuY2VsbGF0aW9uQnV0dG9uU2VsZWN0b3IgPyAkPEhUTUxCdXR0b25FbGVtZW50PihjYW5jZWxsYXRpb25CdXR0b25TZWxlY3RvcikgOiBudWxsO1xyXG4gICAgaWYgKGNhbmNlbEJ1dHRvbikge1xyXG4gICAgICAgIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25DYW5jZWwpO1xyXG4gICAgICAgIGNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcGFuZWwuaW5uZXJUZXh0ID0gXCJcIjtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVtb0Z1bmMocGFuZWwsIGNhbmNlbEJ1dHRvbiA/IGN0cy50b2tlbiA6IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBhd2FpdCByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcGFuZWwuYXBwZW5kQ2hpbGQoYnVpbGRFcnJvclBhbmVsKGVycm9yKSk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIGlmIChjYW5jZWxCdXR0b24pIHtcclxuICAgICAgICAgICAgY2FuY2VsQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNhbmNlbCk7XHJcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZW1vWWllbGQocGFuZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBhc3luYyBmdW5jdGlvbiBteUFzeW5jRnVuY3Rpb24oKSB7XHJcbiAgICAgICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZWU6IERvIHNvbWUgd29yayBzeW5jaHJvbm91c2x5IGluIG15QXN5bmNGdW5jdGlvbuKAplwiKTtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogbXlBc3luY0Z1bmN0aW9uIGlzIHRvIHlpZWxk4oCmXCIpO1xyXG4gICAgICAgIGF3YWl0IHlpZWxkZWQoKTtcclxuICAgICAgICBhcHBlbmRMaW5lKHBhbmVsLCBcIkNhbGxlZTogYmFjayBmcm9tIHlpZWxkZWQgc3RhdGXigKZcIik7XHJcbiAgICAgICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZWU6IGV4aXRpbmcuXCIpO1xyXG4gICAgfVxyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZXI6IENhbGwgbXlBc3luY0Z1bmN0aW9uLlwiKTtcclxuICAgIG15QXN5bmNGdW5jdGlvbigpO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJDYWxsZXI6IFdlIGRlY2lkZSBkb24ndCBhd2FpdCBmb3IgbXlBc3luY0Z1bmN0aW9uLlwiKTtcclxuICAgIGFwcGVuZExpbmUocGFuZWwsIFwiQ2FsbGVyOiBleGl0aW5nLlwiKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGVtb0RlbGF5KHBhbmVsOiBIVE1MRWxlbWVudCwgY3Q/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGxldCBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgMG1zIChTZXRUaW1lb3V0KDApICsgeWllbGRlZCkuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIkRlbGF5IDUwMG1zLlwiKTtcclxuICAgIGF3YWl0IGRlbGF5KDUwMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBcIkRlbGF5IDFzLlwiKTtcclxuICAgIGF3YWl0IGRlbGF5KDEwMDAsIGN0KTtcclxuICAgIGxhc3RMaW5lLmlubmVyVGV4dCArPSBcIiBGaW5pc2hlZC5cIjtcclxuICAgIGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgXCJEZWxheSAycy5cIik7XHJcbiAgICBhd2FpdCBkZWxheSgyMDAwLCBjdCk7XHJcbiAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgRmluaXNoZWQuXCI7XHJcbiAgICBsYXN0TGluZSA9IGFwcGVuZExpbmUocGFuZWwsIFwiRGVsYXkgM3MuXCIpO1xyXG4gICAgYXdhaXQgZGVsYXkoMzAwMCwgY3QpO1xyXG4gICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIEZpbmlzaGVkLlwiO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCItLS0tLS0tLS0tXCIpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZW1vSHR0cChwYW5lbDogSFRNTEVsZW1lbnQsIGN0PzogSUNhbmNlbGxhdGlvblRva2VuKSB7XHJcbiAgICBhc3luYyBmdW5jdGlvbiBzZW5kQW5kUmVwb3J0KHJlcXVlc3Q6IElSZXF1ZXN0UGFyYW1zKSB7XHJcbiAgICAgICAgbGV0IGxhc3RMaW5lID0gYXBwZW5kTGluZShwYW5lbCwgYCR7cmVxdWVzdC5tZXRob2R9IHJlcXVlc3QgdG8gJHtyZXF1ZXN0LnVybH3igKZgKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRSZXF1ZXN0KHJlcXVlc3QsIGN0KTtcclxuICAgICAgICAgICAgbGFzdExpbmUuaW5uZXJUZXh0ICs9IFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzQ29kZSArIFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dDtcclxuICAgICAgICAgICAgYXBwZW5kTGluZShwYW5lbCwgXCJDb250ZW50LVR5cGU6IFwiICsgcmVzcG9uc2UuZ2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIpKTtcclxuICAgICAgICAgICAgY29uc3QgYm9keUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIik7XHJcbiAgICAgICAgICAgIGJvZHlDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImh0dHAtcmVzcG9uc2UtYm9keVwiKTtcclxuICAgICAgICAgICAgYm9keUNvbnRhaW5lci5pbm5lclRleHQgPSByZXNwb25zZS5ib2R5O1xyXG4gICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChib2R5Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgbGFzdExpbmUgPSBhcHBlbmRMaW5lKHBhbmVsLCBcImVuc3VyZVN1Y2Nlc3NmdWxTdGF0dXNDb2Rl4oCmXCIpO1xyXG4gICAgICAgICAgICByZXNwb25zZS5lbnN1cmVTdWNjZXNzZnVsU3RhdHVzQ29kZSgpO1xyXG4gICAgICAgICAgICBsYXN0TGluZS5pbm5lclRleHQgKz0gXCIgU3VjY2Vzc2Z1bC5cIjtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBQcm9taXNlQ2FuY2VsbGVkRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIGN0IGlzIGNhbmNlbGxlZCwgd2Ugd29uJ3QgY29udGludWUgdGhlIGRlbW9cclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKGJ1aWxkRXJyb3JQYW5lbChlcnJvcikpO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIGFwcGVuZExpbmUocGFuZWwsIFwiLS0tLS0tLS0tLVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhd2FpdCBzZW5kQW5kUmVwb3J0KHsgdXJsOiBcInRzY29uZmlnLmpzb24/cmFuZD1cIiArIE1hdGgucmFuZG9tKCksIG1ldGhvZDogXCJHRVRcIiwgdGltZW91dDogMjAwMCB9KTtcclxuICAgIGF3YWl0IHNlbmRBbmRSZXBvcnQoeyB1cmw6IFwidHNjb25maWcuanNvblwiLCBtZXRob2Q6IFwiUE9TVFwiIH0pO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZW1vUmVxdWVzdElkbGVDYWxsYmFja0FzeW5jKHBhbmVsOiBIVE1MRWxlbWVudCwgY3Q/OiBJQ2FuY2VsbGF0aW9uVG9rZW4pIHtcclxuICAgIGN0ICYmIGN0LnRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKTtcclxuICAgIGFwcGVuZExpbmUocGFuZWwsIFwicmVxdWVzdElkbGVDYWxsYmFja0FzeW5jXCIpO1xyXG4gICAgY29uc3Qgc3RhdHVzID0gYXBwZW5kTGluZShwYW5lbCwgXCJSZXF1ZXN0aW5n4oCmXCIpO1xyXG4gICAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gICAgbGV0IHRpbWVvdXRDb3VudGVyID0gMDtcclxuICAgIGxldCBtaW5JZGxlVGltZTogdW5kZWZpbmVkIHwgbnVtYmVyLCBtYXhJZGxlVGltZTogdW5kZWZpbmVkIHwgbnVtYmVyO1xyXG4gICAgd2hpbGUgKGN0ICYmICFjdC5pc0NhbmNlbGxhdGlvblJlcXVlc3RlZCkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBhd2FpdCByZXF1ZXN0SWRsZUNhbGxiYWNrQXN5bmMoeyB0aW1lb3V0OiAxMDAwIH0sIGN0KTtcclxuICAgICAgICAvLyBOb3cgd2UgYXJlIGluc2lkZSByZXF1ZXN0SWRsZUNhbGxiYWNrIGNhbGxiYWNrLlxyXG4gICAgICAgIGNvbnN0IHRpbWVSZW1haW5pbmcgPSBjb250ZXh0LmRlYWRsaW5lLnRpbWVSZW1haW5pbmcoKTtcclxuICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgaWYgKGNvbnRleHQuZGVhZGxpbmUuZGlkVGltZW91dCkgeyB0aW1lb3V0Q291bnRlcisrOyB9XHJcbiAgICAgICAgbWluSWRsZVRpbWUgPSBtaW5JZGxlVGltZSA9PSBudWxsID8gdGltZVJlbWFpbmluZyA6IE1hdGgubWluKHRpbWVSZW1haW5pbmcsIG1pbklkbGVUaW1lKTtcclxuICAgICAgICBtYXhJZGxlVGltZSA9IG1heElkbGVUaW1lID09IG51bGwgPyB0aW1lUmVtYWluaW5nIDogTWF0aC5tYXgodGltZVJlbWFpbmluZywgbWF4SWRsZVRpbWUpO1xyXG4gICAgICAgIHN0YXR1cy5pbm5lclRleHQgPSBgUmVxdWVzdGVkOiAke2NvdW50ZXJ9IHRpbWVzLCB0aW1lZC1vdXRzOiAke3RpbWVvdXRDb3VudGVyfSwgbWluSWRsZVRpbWU6ICR7bWluSWRsZVRpbWV9LCBtYXhJZGxlVGltZTogJHttYXhJZGxlVGltZX1gO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkZW1vUmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMocGFuZWw6IEhUTUxFbGVtZW50LCBjdD86IElDYW5jZWxsYXRpb25Ub2tlbikge1xyXG4gICAgY3QgJiYgY3QudGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCgpO1xyXG4gICAgYXBwZW5kTGluZShwYW5lbCwgXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVBc3luY1wiKTtcclxuICAgIGNvbnN0IHN0YXR1cyA9IGFwcGVuZExpbmUocGFuZWwsIFwiUmVxdWVzdGluZ+KAplwiKTtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGFwcGVuZExpbmUocGFuZWwsIFwiVGhpcyBpcyA8RElWPi5cIik7XHJcbiAgICBjb25zdCBiYWxsU2l6ZSA9IDMwO1xyXG4gICAgY29uc3QgYmFsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICBiYWxsLmlubmVyVGV4dCA9IFwiYmFsbFwiO1xyXG4gICAgYmFsbC5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjE1cHhcIjtcclxuICAgIGJhbGwuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XHJcbiAgICBiYWxsLnN0eWxlLndpZHRoID0gYmFsbC5zdHlsZS5oZWlnaHQgPSBiYWxsU2l6ZSArIFwicHhcIjtcclxuICAgIGNhbnZhcy5jbGFzc0xpc3QuYWRkKFwiY2FudmFzXCIpO1xyXG4gICAgY2FudmFzLmFwcGVuZENoaWxkKGJhbGwpO1xyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICBsZXQgcHJldlRpbWUgPSBzdGFydFRpbWU7XHJcbiAgICAvLyBQb3NpdGlvbjogcGl4ZWwuXHJcbiAgICBsZXQgcHggPSAwLCBweSA9IDA7XHJcbiAgICAvLyBWZWxvY2l0eTogcGl4ZWwgLyBzZWMuXHJcbiAgICBsZXQgdnggPSAyMDAsIHZ5ID0gMjAwO1xyXG4gICAgbGV0IGF4ID0gMCwgYXkgPSAyMDA7XHJcbiAgICBsZXQgZnJhbWVDb3VudGVyID0gMDtcclxuICAgIC8vIFdhaXQgZm9yIGxheW91dCB0byBjb21wbGV0ZS5cclxuICAgIGF3YWl0IHJlcXVlc3RBbmltYXRpb25GcmFtZUFzeW5jKGN0KTtcclxuICAgIGNhbnZhcy5zY3JvbGxJbnRvVmlldygpO1xyXG4gICAgLy8gU3RhcnQgYW5pbWF0aW9uLlxyXG4gICAgd2hpbGUgKCFjdCB8fCAhY3QuaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQpIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgcmVxdWVzdEFuaW1hdGlvbkZyYW1lQXN5bmMoY3QpO1xyXG4gICAgICAgIC8vIE5vdyB3ZSBhcmUgaW5zaWRlIHJlcXVlc3RBbmltYXRpb25GcmFtZSBjYWxsYmFjay5cclxuICAgICAgICBjb25zdCBmcmFtZUR1cmF0aW9uID0gY29udGV4dC50aW1lIC0gcHJldlRpbWU7XHJcbiAgICAgICAgY29uc3QgY2FudmFzV2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGgsIGNhbnZhc0hlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgbGV0IHggPSBweCArIHZ4ICogKGZyYW1lRHVyYXRpb24gLyAxMDAwKTtcclxuICAgICAgICBsZXQgeSA9IHB5ICsgdnkgKiAoZnJhbWVEdXJhdGlvbiAvIDEwMDApO1xyXG4gICAgICAgIGlmICh4IDwgMCB8fCB4ICsgYmFsbC5vZmZzZXRXaWR0aCA+IGNhbnZhc1dpZHRoKSB7XHJcbiAgICAgICAgICAgIHZ4ID0gLXZ4ICogKE1hdGgucmFuZG9tKCkgKiAwLjIgKyAwLjgpO1xyXG4gICAgICAgICAgICBweCA9IHggPCAwID8gMCA6IGNhbnZhc1dpZHRoIC0gYmFsbC5vZmZzZXRXaWR0aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBweCA9IHg7XHJcbiAgICAgICAgICAgIGJhbGwuc3R5bGUubGVmdCA9IHggKyBcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh5IDwgMCB8fCB5ICsgYmFsbC5vZmZzZXRIZWlnaHQgPiBjYW52YXNIZWlnaHQpIHtcclxuICAgICAgICAgICAgdnkgPSAtdnkgKiAoTWF0aC5yYW5kb20oKSAqIDAuMiArIDAuOCk7XHJcbiAgICAgICAgICAgIHB5ID0geSA8IDAgPyAwIDogY2FudmFzSGVpZ2h0IC0gYmFsbC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcHkgPSB5O1xyXG4gICAgICAgICAgICB2eSArPSBheSAqIChmcmFtZUR1cmF0aW9uIC8gMTAwMCk7XHJcbiAgICAgICAgICAgIGJhbGwuc3R5bGUudG9wID0geSArIFwicHhcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJldlRpbWUgPSBjb250ZXh0LnRpbWU7XHJcbiAgICAgICAgZnJhbWVDb3VudGVyKys7XHJcbiAgICAgICAgaWYgKGZyYW1lQ291bnRlciA+IDMwKSB7XHJcbiAgICAgICAgICAgIHN0YXR1cy5pbm5lclRleHQgPSBgRnJhbWVzOiAke2ZyYW1lQ291bnRlcn0sIHRpbWU6ICR7KChjb250ZXh0LnRpbWUgLSBzdGFydFRpbWUpIC8gMTAwMCkudG9GaXhlZCgyKX0gc2VjLiwgRlBTOiAkeyhmcmFtZUNvdW50ZXIgKiAxMDAwIC8gKGNvbnRleHQudGltZSAtIHN0YXJ0VGltZSkpLnRvRml4ZWQoMil9LmA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5vbkxvYWQoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==